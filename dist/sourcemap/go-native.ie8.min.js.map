{"version":3,"sources":["go-native.ie8.js"],"names":["global","factory","module","exports","browserGlobal","console","parseInt","Function","Boolean","Number","RegExp","String","Object","Array","Error","Date","Math","NW","Dom","this","isSingleMatch","isSingleSelect","lastSlice","lastContext","lastPosition","lastMatcher","lastSelector","lastPartsMatch","lastPartsSelect","BUGGY_QUIRKS_GEBCN","BUGGY_QUIRKS_QSAPI","QUIRKS_MODE","XML_DOCUMENT","version","doc","document","root","documentElement","slice","prototype","string","toString","prefixes","operators","whitespace","combinators","pseudoparms","quotedvalue","skipround","skipcurly","skipsquare","skipgroup","encoding","identifier","attrcheck","attributes","attrmatcher","replace","pseudoclass","extensions","standardValidator","extendedValidator","reValidator","reTrimSpaces","reSimpleNot","reSplitGroup","reSplitToken","reWhiteSpace","reOptimizeSelector","isNative","re","isnative","method","NATIVE_FOCUS","hasFocus","NATIVE_QSAPI","querySelector","NATIVE_GEBID","getElementById","NATIVE_GEBTN","getElementsByTagName","NATIVE_GEBCN","getElementsByClassName","NATIVE_GET_ATTRIBUTE","getAttribute","NATIVE_HAS_ATTRIBUTE","hasAttribute","NATIVE_SLICE_PROTO","isBuggy","call","childNodes","e","NATIVE_TRAVERSAL_API","BUGGY_GEBID","x","a","createElementNS","createElement","name","insertBefore","firstChild","removeChild","BUGGY_GEBTN","div","appendChild","createComment","BUGGY_GEBCN","test","setAttribute","lastChild","className","length","BUGGY_GET_ATTRIBUTE","input","defaultValue","BUGGY_HAS_ATTRIBUTE","option","BUGGY_SELECTED","select","selected","OPERA","opera","OPERA_QSAPI","parseFloat","RE_BUGGY_QSAPI","context","element","pattern","expect","selector","n","result","querySelectorAll","implementation","createDocument","parentNode","innerHTML","push","join","RE_CLASS","RE_SIMPLE_SELECTOR","LINK_NODES","A","area","AREA","link","LINK","ATTR_BOOLEAN","checked","disabled","ismap","multiple","readonly","ATTR_DEFAULT","value","ATTR_URIDATA","action","cite","codebase","data","href","longdesc","lowsrc","src","usemap","HTML_TABLE","class","accept","accept-charset","align","alink","axis","bgcolor","charset","clear","codetype","color","compact","declare","defer","dir","direction","enctype","face","frame","hreflang","http-equiv","lang","language","media","nohref","noresize","noshade","nowrap","rel","rev","rules","scope","scrolling","shape","target","text","type","valign","valuetype","vlink","XHTML_TABLE","Selectors","Operators","=","^=","*=","|=","~=","$=","Optimize","ID","TAG","CLASS","Patterns","spseudos","dpseudos","attribute","children","adjacent","relative","ancestor","universal","id","tagName","concatList","elements","i","concatCall","callback","switchContext","from","force","oldDoc","ownerDocument","nodeName","compatMode","style","width","indexOf","Config","CACHING","setCache","convertEscapes","str","substring","p1","p2","codePoint","highHex","highSurrogate","lowHex","lowSurrogate","substr","byIdRaw","_byId","nodeType","getElementsByName","byId","byTagRaw","tag","any","next","toUpperCase","nextSibling","_byTag","j","byTag","byName","byClassRaw","toLowerCase","_byClass","byClass","contains","container","compareDocumentPosition","node","getAttributeNode","obj","specified","isEmpty","isLink","nthElement","last","count","succ","nthOfType","configure","matchContexts","matchResolvers","selectContexts","selectResolvers","SIMPLENOT","emit","message","VERBOSITY","log","SHORTCUTS","UNIQUE_ID","USE_HTML5","USE_QSAPI","ACCEPT_NODE","compile","source","mode","parts","match","compileSelector","token","seen","FILTER","b","expr","status","k","split","Expression","Callback","shortcuts","Snapshot","first","changed","original","arguments","loadResults","charAt","saveResults","els","FN","Tokens","Version","registerOperator","symbol","resolver","registerSelector","rexp","func","win","patchStyleSheet","cssText","RE_PSEUDO_ELEMENTS","PLACEHOLDER_STRING","RE_SELECTOR_GROUP","m","prefix","selectorText","comboBreaker","combinator","pseudo","index","patches","domPatches","patch","patchPseudoClass","patchAttribute","selectorGroups","c","cs","normalizeSelectorWhitespace","SPACE_STRING","RE_SELECTOR_PARSE","attr","BROKEN_ATTR_IMPLEMENTATIONS","createClassName","applyClass","activateEventName","deactivateEventName","isNegated","bracketIndex","ieVersion","handler","hash","location","hashID","EMPTY_STRING","addEvent","toggleElementClass","RE_INPUT_CHECKABLE_TYPES","event","propertyName","RE_INPUT_ELEMENTS","$disabled","enabledWatchers","RE_PSEUDO_STRUCTURAL","applyPatches","elms","domSelectorText","RE_LIBRARY_INCOMPATIBLE_PSEUDOS","selectorMethod","ex","d","dl","elm","cssClasses","f","fl","hasPatch","toggleClass","namespace","patchIE6MultipleClasses","ie6PatchID","RE_PATCH_CLASS_NAME_REPLACE","charCodeAt","trim","RE_TIDY_TRIM_WHITESPACE","normalizeWhitespace","RE_TIDY_CONSECUTIVE_WHITESPACE","RE_TIDY_TRAILING_WHITESPACE","RE_TIDY_LEADING_WHITESPACE","on","oldClassName","newClassName","classList","classExists","eventName","eventHandler","attachEvent","getXHRObject","XMLHttpRequest","ActiveXObject","loadStyleSheet","url","xhr","open","send","responseText","resolveUrl","contextUrl","ignoreSameOriginPolicy","getProtocol","getProtocolAndHost","baseUrl","contextUrlPath","lastIndexOf","parseStyleSheet","RE_COMMENT","RE_IMPORT","quoteChar","importUrl","quoteChar2","importUrl2","RE_ASSET_URL","isBehavior","assetUrl","getStyleSheets","stylesheet","styleSheets","rawCssText","init","setInterval","cl","ContentLoaded","fn","done","top","readyState","detachEvent","poll","doScroll","setTimeout","createEventObject","frameElement","ieUserAgent","navigator","userAgent","selectorEngines","MooTools","DOMAssistant","Prototype","YAHOO","Sizzle","jQuery","dojo","baseTags","engine","members","member","shift","w","matchMedia","undefined","bool","docElem","refNode","firstElementChild","fakeBody","background","q","offsetWidth","matches","callMedia","applyMedia","respond","update","requestQueue","xmlHttp","xmlhttpmethod","ajax","req","onreadystatechange","queue","regex","keyframes","urls","findStyles","only","minw","maxw","mediaQueriesSupported","lastCall","resizeDefer","eminpx","mediastyles","appendedEls","parsedSheets","resizeThrottle","head","base","links","getEmValue","ret","body","originalHTMLFontSize","fontSize","originalBodyFontSize","fakeUsed","fromResize","docElemProp","currWidth","styleBlocks","lastLink","now","getTime","clearTimeout","hasOwnProperty","thisstyle","min","max","minnull","maxnull","em","hasquery","ss","css","styleSheet","createTextNode","translate","styles","qs","ql","repUrls","useMedia","fullq","thisq","eachq","eql","$1","$2","makeRequests","thisRequest","ripCSS","sheet","isCSS","host","protocol","addEventListener","Element","eventListeners","listener","self","wrapper","srcElement","currentTarget","handleEvent","wrapper2","object","Event","window","removeEventListener","counter","eventListener","splice","HTMLDocument","Window","defineProperty","get","nodes","l","getComputedStyle","el","currentStyle","box","getBoundingClientRect","shadow","output","cssFloat","styleFloat","right","left","height","bottom","clientHeight","clientWidth","MouseEvent","clientX","pageXOffset","clientY","pageYOffset","scrollLeft","y","scrollTop","preventDefault","returnValue","previousSibling","stopPropagation","cancelBubble","getText","haveText","nodeValue","haveNull","srcTags","child","textContent","I","interfaces","3","8","4","7","9","10","12","SCRIPT","STYLE","set","innerText"],"mappings":"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","file":"go-native.ie8.min.js","sourcesContent":["/*\n * Copyright (C) 2007-2015 Diego Perini\n * All rights reserved.\n *\n * nwmatcher.js - A fast CSS selector engine and matcher\n *\n * Author: Diego Perini <diego.perini at gmail com>\n * Version: 1.3.6\n * Created: 20070722\n * Release: 20150710\n *\n * License:\n *  http://javascript.nwbox.com/NWMatcher/MIT-LICENSE\n * Download:\n *  http://javascript.nwbox.com/NWMatcher/nwmatcher.js\n */\n\n(function(global, factory) {\n\n  if (typeof module == 'object' && typeof exports == 'object') {\n    // in a Node.js environment, the nwmatcher functions will operate on\n    // the passed \"browserGlobal\" and will be returned in an object\n    module.exports = function (browserGlobal) {\n      // passed global does not contain\n      // references to native objects\n      browserGlobal.console = console;\n      browserGlobal.parseInt = parseInt;\n      browserGlobal.Function = Function;\n      browserGlobal.Boolean = Boolean;\n      browserGlobal.Number = Number;\n      browserGlobal.RegExp = RegExp;\n      browserGlobal.String = String;\n      browserGlobal.Object = Object;\n      browserGlobal.Array = Array;\n      browserGlobal.Error = Error;\n      browserGlobal.Date = Date;\n      browserGlobal.Math = Math;\n      var exports = browserGlobal.Object();\n      factory(browserGlobal, exports);\n      return exports;\n    };\n    module.factory = factory;\n  } else {\n    // in a browser environment, the nwmatcher functions will operate on\n    // the \"global\" loading them and be attached to \"global.NW.Dom\"\n    factory(global,\n      (global.NW || (global.NW = global.Object())) &&\n      (global.NW.Dom || (global.NW.Dom = global.Object())));\n    global.NW.Dom.factory = factory;\n  }\n\n})(this, function(global, exports) {\n\n  var version = 'nwmatcher-1.3.6',\n\n  Dom = exports,\n\n  // processing context & root element\n  doc = global.document,\n  root = doc.documentElement,\n\n  // save utility methods references\n  slice = global.Array.prototype.slice,\n  string = global.Object.prototype.toString,\n\n  // persist previous parsed data\n  isSingleMatch,\n  isSingleSelect,\n\n  lastSlice,\n  lastContext,\n  lastPosition,\n\n  lastMatcher,\n  lastSelector,\n\n  lastPartsMatch,\n  lastPartsSelect,\n\n  // accepted prefix identifiers\n  // (id, class & pseudo-class)\n  prefixes = '[#.:]?',\n\n  // accepted attribute operators\n  operators = '([~*^$|!]?={1})',\n\n  // accepted whitespace characters\n  whitespace = '[\\\\x20\\\\t\\\\n\\\\r\\\\f]*',\n\n  // 4 combinators F E, F>E, F+E, F~E\n  combinators = '[\\\\x20]|[>+~][^>+~]',\n\n  // an+b format params for pseudo-classes\n  pseudoparms = '(?:[-+]?\\\\d*n)?[-+]?\\\\d*',\n\n  // CSS quoted string values\n  quotedvalue = '\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*\"' + \"|'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*'\",\n\n  // skip round brackets groups\n  skipround = '\\\\([^()]+\\\\)|\\\\(.*\\\\)',\n  // skip curly brackets groups\n  skipcurly = '\\\\{[^{}]+\\\\}|\\\\{.*\\\\}',\n  // skip square brackets groups\n  skipsquare = '\\\\[[^[\\\\]]*\\\\]|\\\\[.*\\\\]',\n\n  // skip [ ], ( ), { } brackets groups\n  skipgroup = '\\\\[.*\\\\]|\\\\(.*\\\\)|\\\\{.*\\\\}',\n\n  // http://www.w3.org/TR/css3-syntax/#characters\n  // unicode/ISO 10646 characters 161 and higher\n  // NOTE: Safari 2.0.x crashes with escaped (\\\\)\n  // Unicode ranges in regular expressions so we\n  // use a negated character range class instead\n  encoding = '(?:[-\\\\w]|[^\\\\x00-\\\\xa0]|\\\\\\\\.)',\n\n  // CSS identifier syntax\n  identifier = '(?:-?[_a-zA-Z]{1}[-\\\\w]*|[^\\\\x00-\\\\xa0]+|\\\\\\\\.+)+',\n\n  // build attribute string\n  attrcheck = '(' + quotedvalue + '|' + identifier + ')',\n  attributes = whitespace + '(' + encoding + '*:?' + encoding + '+)' +\n    whitespace + '(?:' + operators + whitespace + attrcheck + ')?' + whitespace,\n  attrmatcher = attributes.replace(attrcheck, '([\\\\x22\\\\x27]*)((?:\\\\\\\\?.)*?)\\\\3'),\n\n  // build pseudoclass string\n  pseudoclass = '((?:' +\n    // an+b parameters or quoted string\n    pseudoparms + '|' + quotedvalue + '|' +\n    // id, class, pseudo-class selector\n    prefixes + '|' + encoding + '+|' +\n    // nested HTML attribute selector\n    '\\\\[' + attributes + '\\\\]|' +\n    // nested pseudo-class selector\n    '\\\\(.+\\\\)|' + whitespace + '|' +\n    // nested pseudos/separators\n    ',)+)',\n\n  // placeholder for extensions\n  extensions = '.+',\n\n  // CSS3: syntax scanner and\n  // one pass validation only\n  // using regular expression\n  standardValidator =\n    // discard start\n    '(?=[\\\\x20\\\\t\\\\n\\\\r\\\\f]*[^>+~(){}<>])' +\n    // open match group\n    '(' +\n    //universal selector\n    '\\\\*' +\n    // id/class/tag/pseudo-class identifier\n    '|(?:' + prefixes + identifier + ')' +\n    // combinator selector\n    '|' + combinators +\n    // HTML attribute selector\n    '|\\\\[' + attributes + '\\\\]' +\n    // pseudo-classes parameters\n    '|\\\\(' + pseudoclass + '\\\\)' +\n    // dom properties selector (extension)\n    '|\\\\{' + extensions + '\\\\}' +\n    // selector group separator (comma)\n    '|(?:,|' + whitespace + ')' +\n    // close match group\n    ')+',\n\n  // validator for complex selectors in ':not()' pseudo-classes\n  extendedValidator = standardValidator.replace(pseudoclass, '.*'),\n\n  // validator for standard selectors as default\n  reValidator = new global.RegExp(standardValidator, 'g'),\n\n  // whitespace is any combination of these 5 character [\\x20\\t\\n\\r\\f]\n  // http://www.w3.org/TR/css3-selectors/#selector-syntax\n  reTrimSpaces = new global.RegExp('^' +\n    whitespace + '|' + whitespace + '$', 'g'),\n\n  // only allow simple selectors nested in ':not()' pseudo-classes\n  reSimpleNot = new global.RegExp('^(' +\n    '(?!:not)' +\n    '(' + prefixes +\n    '|' + identifier +\n    '|\\\\([^()]*\\\\))+' +\n    '|\\\\[' + attributes + '\\\\]' +\n    ')$'),\n\n  // split comma groups, exclude commas from\n  // quotes '' \"\" and from brackets () [] {}\n  reSplitGroup = new global.RegExp('(' +\n    '[^,\\\\\\\\()[\\\\]]+' +\n    '|' + skipsquare +\n    '|' + skipround +\n    '|' + skipcurly +\n    '|\\\\\\\\.' +\n    ')+', 'g'),\n\n  // split last, right most, selector group token\n  reSplitToken = new global.RegExp('(' +\n    '\\\\[' + attributes + '\\\\]|' +\n    '\\\\(' + pseudoclass + '\\\\)|' +\n    '\\\\\\\\.|[^\\\\x20\\\\t\\\\r\\\\n\\\\f>+~])+', 'g'),\n\n  // for in excess whitespace removal\n  reWhiteSpace = /[\\x20\\t\\n\\r\\f]+/g,\n\n  reOptimizeSelector = new global.RegExp(identifier + '|^$'),\n\n  /*----------------------------- FEATURE TESTING ----------------------------*/\n\n  // detect native methods\n  isNative = (function() {\n    var re = / \\w+\\(/,\n    isnative = String(Object.prototype.toString).replace(re, ' (');\n    return function(method) {\n      return method && typeof method != 'string' &&\n        isnative == String(method).replace(re, ' (');\n    };\n  })(),\n\n  // NATIVE_XXXXX true if method exist and is callable\n  // detect if DOM methods are native in browsers\n  NATIVE_FOCUS = isNative(doc.hasFocus),\n  NATIVE_QSAPI = isNative(doc.querySelector),\n  NATIVE_GEBID = isNative(doc.getElementById),\n  NATIVE_GEBTN = isNative(root.getElementsByTagName),\n  NATIVE_GEBCN = isNative(root.getElementsByClassName),\n\n  // detect native getAttribute/hasAttribute methods,\n  // frameworks extend these to elements, but it seems\n  // this does not work for XML namespaced attributes,\n  // used to check both getAttribute/hasAttribute in IE\n  NATIVE_GET_ATTRIBUTE = isNative(root.getAttribute),\n  NATIVE_HAS_ATTRIBUTE = isNative(root.hasAttribute),\n\n  // check if slice() can convert nodelist to array\n  // see http://yura.thinkweb2.com/cft/\n  NATIVE_SLICE_PROTO =\n    (function() {\n      var isBuggy = false;\n      try {\n        isBuggy = !!slice.call(doc.childNodes, 0)[0];\n      } catch(e) { }\n      return isBuggy;\n    })(),\n\n  // supports the new traversal API\n  NATIVE_TRAVERSAL_API =\n    'nextElementSibling' in root && 'previousElementSibling' in root,\n\n  // BUGGY_XXXXX true if method is feature tested and has known bugs\n  // detect buggy gEBID\n  BUGGY_GEBID = NATIVE_GEBID ?\n    (function() {\n      var isBuggy = true, x = 'x' + global.String(+new global.Date),\n        a = doc.createElementNS ? 'a' : '<a name=\"' + x + '\">';\n      (a = doc.createElement(a)).name = x;\n      root.insertBefore(a, root.firstChild);\n      isBuggy = !!doc.getElementById(x);\n      root.removeChild(a);\n      return isBuggy;\n    })() :\n    true,\n\n  // detect IE gEBTN comment nodes bug\n  BUGGY_GEBTN = NATIVE_GEBTN ?\n    (function() {\n      var div = doc.createElement('div');\n      div.appendChild(doc.createComment(''));\n      return !!div.getElementsByTagName('*')[0];\n    })() :\n    true,\n\n  // detect Opera gEBCN second class and/or UTF8 bugs as well as Safari 3.2\n  // caching class name results and not detecting when changed,\n  // tests are based on the jQuery selector test suite\n  BUGGY_GEBCN = NATIVE_GEBCN ?\n    (function() {\n      var isBuggy, div = doc.createElement('div'), test = '\\u53f0\\u5317';\n\n      // Opera tests\n      div.appendChild(doc.createElement('span')).\n        setAttribute('class', test + 'abc ' + test);\n      div.appendChild(doc.createElement('span')).\n        setAttribute('class', 'x');\n\n      isBuggy = !div.getElementsByClassName(test)[0];\n\n      // Safari test\n      div.lastChild.className = test;\n      return isBuggy || div.getElementsByClassName(test).length != 2;\n    })() :\n    true,\n\n  // detect IE bug with dynamic attributes\n  BUGGY_GET_ATTRIBUTE = NATIVE_GET_ATTRIBUTE ?\n    (function() {\n      var input = doc.createElement('input');\n      input.setAttribute('value', 5);\n      return input.defaultValue != 5;\n    })() :\n    true,\n\n  // detect IE bug with non-standard boolean attributes\n  BUGGY_HAS_ATTRIBUTE = NATIVE_HAS_ATTRIBUTE ?\n    (function() {\n      var option = doc.createElement('option');\n      option.setAttribute('selected', 'selected');\n      return !option.hasAttribute('selected');\n    })() :\n    true,\n\n  // detect Safari bug with selected option elements\n  BUGGY_SELECTED =\n    (function() {\n      var select = doc.createElement('select');\n      select.appendChild(doc.createElement('option'));\n      return !select.firstChild.selected;\n    })(),\n\n  // initialized with the loading context\n  // and reset for each different context\n  BUGGY_QUIRKS_GEBCN,\n  BUGGY_QUIRKS_QSAPI,\n\n  QUIRKS_MODE,\n  XML_DOCUMENT,\n\n  // detect Opera browser\n  OPERA = /opera/i.test(string.call(global.opera)),\n\n  // skip simple selector optimizations for Opera >= 11\n  OPERA_QSAPI = OPERA && global.parseFloat(global.opera.version()) >= 11,\n\n  // check Selector API implementations\n  RE_BUGGY_QSAPI = NATIVE_QSAPI ?\n    (function() {\n      var pattern = new global.Array(), context, element,\n\n      expect = function(selector, element, n) {\n        var result = false;\n        context.appendChild(element);\n        try { result = context.querySelectorAll(selector).length == n; } catch(e) { }\n        while (context.firstChild) { context.removeChild(context.firstChild); }\n        return result;\n      };\n\n      // certain bugs can only be detected in standard documents\n      // to avoid writing a live loading document create a fake one\n      if (doc.implementation && doc.implementation.createDocument) {\n        // use a shadow document body as context\n        context = doc.implementation.createDocument('', '', null).\n          appendChild(doc.createElement('html')).\n          appendChild(doc.createElement('head')).parentNode.\n          appendChild(doc.createElement('body'));\n      } else {\n        // use an unattached div node as context\n        context = doc.createElement('div');\n      }\n\n      // fix for Safari 8.x and other engines that\n      // fail querying filtered sibling combinators\n      element = doc.createElement('div');\n      element.innerHTML = '<p id=\"a\"></p><br>';\n      expect('p#a+*', element, 0) &&\n        pattern.push('\\\\w+#\\\\w+.*[+~]');\n\n      // ^= $= *= operators bugs with empty values (Opera 10 / IE8)\n      element = doc.createElement('p');\n      element.setAttribute('class', '');\n      expect('[class^=\"\"]', element, 1) &&\n        pattern.push('[*^$]=[\\\\x20\\\\t\\\\n\\\\r\\\\f]*(?:\"\"|' + \"'')\");\n\n      // :checked bug with option elements (Firefox 3.6.x)\n      // it wrongly includes 'selected' options elements\n      // HTML5 rules says selected options also match\n      element = doc.createElement('option');\n      element.setAttribute('selected', 'selected');\n      expect(':checked', element, 0) &&\n        pattern.push(':checked');\n\n      // :enabled :disabled bugs with hidden fields (Firefox 3.5)\n      // http://www.w3.org/TR/html5/links.html#selector-enabled\n      // http://www.w3.org/TR/css3-selectors/#enableddisabled\n      // not supported by IE8 Query Selector\n      element = doc.createElement('input');\n      element.setAttribute('type', 'hidden');\n      expect(':enabled', element, 0) &&\n        pattern.push(':enabled', ':disabled');\n\n      // :link bugs with hyperlinks matching (Firefox/Safari)\n      element = doc.createElement('link');\n      element.setAttribute('href', 'x');\n      expect(':link', element, 1) ||\n        pattern.push(':link');\n\n      // avoid attribute selectors for IE QSA\n      if (BUGGY_HAS_ATTRIBUTE) {\n        // IE fails in reading:\n        // - original values for input/textarea\n        // - original boolean values for controls\n        pattern.push('\\\\[[\\\\x20\\\\t\\\\n\\\\r\\\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)');\n      }\n\n      return pattern.length ?\n        new global.RegExp(pattern.join('|')) :\n        { 'test': function() { return false; } };\n\n    })() :\n    true,\n\n  // matches class selectors\n  RE_CLASS = new global.RegExp('(?:\\\\[[\\\\x20\\\\t\\\\n\\\\r\\\\f]*class\\\\b|\\\\.' + identifier + ')'),\n\n  // matches simple id, tag & class selectors\n  RE_SIMPLE_SELECTOR = new global.RegExp(\n    BUGGY_GEBTN && BUGGY_GEBCN || OPERA ?\n      '^#?-?[_a-zA-Z]{1}' + encoding + '*$' : BUGGY_GEBTN ?\n      '^[.#]?-?[_a-zA-Z]{1}' + encoding + '*$' : BUGGY_GEBCN ?\n      '^(?:\\\\*|#-?[_a-zA-Z]{1}' + encoding + '*)$' :\n      '^(?:\\\\*|[.#]?-?[_a-zA-Z]{1}' + encoding + '*)$'),\n\n  /*----------------------------- LOOKUP OBJECTS -----------------------------*/\n\n  LINK_NODES = new global.Object({ 'a': 1, 'A': 1, 'area': 1, 'AREA': 1, 'link': 1, 'LINK': 1 }),\n\n  // boolean attributes should return attribute name instead of true/false\n  ATTR_BOOLEAN = new global.Object({\n    'checked': 1, 'disabled': 1, 'ismap': 1,\n    'multiple': 1, 'readonly': 1, 'selected': 1\n  }),\n\n  // dynamic attributes that needs to be checked against original HTML value\n  ATTR_DEFAULT = new global.Object({\n    'value': 'defaultValue',\n    'checked': 'defaultChecked',\n    'selected': 'defaultSelected'\n  }),\n\n  // attributes referencing URI data values need special treatment in IE\n  ATTR_URIDATA = new global.Object({\n    'action': 2, 'cite': 2, 'codebase': 2, 'data': 2, 'href': 2,\n    'longdesc': 2, 'lowsrc': 2, 'src': 2, 'usemap': 2\n  }),\n\n  // HTML 5 draft specifications\n  // http://www.whatwg.org/specs/web-apps/current-work/#selectors\n  HTML_TABLE = new global.Object({\n    // class attribute must be treated case-insensitive in HTML quirks mode\n    // initialized by default to Standard Mode (case-sensitive),\n    // set dynamically by the attribute resolver\n    'class': 0,\n    'accept': 1, 'accept-charset': 1, 'align': 1, 'alink': 1, 'axis': 1,\n    'bgcolor': 1, 'charset': 1, 'checked': 1, 'clear': 1, 'codetype': 1, 'color': 1,\n    'compact': 1, 'declare': 1, 'defer': 1, 'dir': 1, 'direction': 1, 'disabled': 1,\n    'enctype': 1, 'face': 1, 'frame': 1, 'hreflang': 1, 'http-equiv': 1, 'lang': 1,\n    'language': 1, 'link': 1, 'media': 1, 'method': 1, 'multiple': 1, 'nohref': 1,\n    'noresize': 1, 'noshade': 1, 'nowrap': 1, 'readonly': 1, 'rel': 1, 'rev': 1,\n    'rules': 1, 'scope': 1, 'scrolling': 1, 'selected': 1, 'shape': 1, 'target': 1,\n    'text': 1, 'type': 1, 'valign': 1, 'valuetype': 1, 'vlink': 1\n  }),\n\n  // the following attributes must be treated case-insensitive in XHTML mode\n  // Niels Leenheer http://rakaz.nl/item/css_selector_bugs_case_sensitivity\n  XHTML_TABLE = new global.Object({\n    'accept': 1, 'accept-charset': 1, 'alink': 1, 'axis': 1,\n    'bgcolor': 1, 'charset': 1, 'codetype': 1, 'color': 1,\n    'enctype': 1, 'face': 1, 'hreflang': 1, 'http-equiv': 1,\n    'lang': 1, 'language': 1, 'link': 1, 'media': 1, 'rel': 1,\n    'rev': 1, 'target': 1, 'text': 1, 'type': 1, 'vlink': 1\n  }),\n\n  /*-------------------------- REGULAR EXPRESSIONS ---------------------------*/\n\n  // placeholder to add functionalities\n  Selectors = new global.Object({\n    // as a simple example this will check\n    // for chars not in standard ascii table\n    //\n    // 'mySpecialSelector': {\n    //  'Expression': /\\u0080-\\uffff/,\n    //  'Callback': mySelectorCallback\n    // }\n    //\n    // 'mySelectorCallback' will be invoked\n    // only after passing all other standard\n    // checks and only if none of them worked\n  }),\n\n  // attribute operators\n  Operators = new global.Object({\n     '=': \"n=='%m'\",\n    '^=': \"n.indexOf('%m')==0\",\n    '*=': \"n.indexOf('%m')>-1\",\n    '|=': \"(n+'-').indexOf('%m-')==0\",\n    '~=': \"(' '+n+' ').indexOf(' %m ')>-1\",\n    '$=': \"n.substr(n.length-'%m'.length)=='%m'\"\n  }),\n\n  // optimization expressions\n  Optimize = new global.Object({\n    ID: new global.RegExp('^\\\\*?#(' + encoding + '+)|' + skipgroup),\n    TAG: new global.RegExp('^(' + encoding + '+)|' + skipgroup),\n    CLASS: new global.RegExp('^\\\\*?\\\\.(' + encoding + '+$)|' + skipgroup)\n  }),\n\n  // precompiled Regular Expressions\n  Patterns = new global.Object({\n    // structural pseudo-classes and child selectors\n    spseudos: /^\\:(root|empty|(?:first|last|only)(?:-child|-of-type)|nth(?:-last)?(?:-child|-of-type)\\(\\s*(even|odd|(?:[-+]{0,1}\\d*n\\s*)?[-+]{0,1}\\s*\\d*)\\s*\\))?(.*)/i,\n    // uistates + dynamic + negation pseudo-classes\n    dpseudos: /^\\:(link|visited|target|active|focus|hover|checked|disabled|enabled|selected|lang\\(([-\\w]{2,})\\)|not\\(([^()]*|.*)\\))?(.*)/i,\n    // element attribute matcher\n    attribute: new global.RegExp('^\\\\[' + attrmatcher + '\\\\](.*)'),\n    // E > F\n    children: /^[\\x20\\t\\n\\r\\f]*\\>[\\x20\\t\\n\\r\\f]*(.*)/,\n    // E + F\n    adjacent: /^[\\x20\\t\\n\\r\\f]*\\+[\\x20\\t\\n\\r\\f]*(.*)/,\n    // E ~ F\n    relative: /^[\\x20\\t\\n\\r\\f]*\\~[\\x20\\t\\n\\r\\f]*(.*)/,\n    // E F\n    ancestor: /^[\\x20\\t\\n\\r\\f]+(.*)/,\n    // all\n    universal: /^\\*(.*)/,\n    // id\n    id: new global.RegExp('^#(' + encoding + '+)(.*)'),\n    // tag\n    tagName: new global.RegExp('^(' + encoding + '+)(.*)'),\n    // class\n    className: new global.RegExp('^\\\\.(' + encoding + '+)(.*)')\n  }),\n\n  /*------------------------------ UTIL METHODS ------------------------------*/\n\n  // concat elements to data\n  concatList =\n    function(data, elements) {\n      var i = -1, element;\n      if (!data.length && global.Array.slice)\n        return global.Array.slice(elements);\n      while ((element = elements[++i]))\n        data[data.length] = element;\n      return data;\n    },\n\n  // concat elements to data and callback\n  concatCall =\n    function(data, elements, callback) {\n      var i = -1, element;\n      while ((element = elements[++i])) {\n        if (false === callback(data[data.length] = element)) { break; }\n      }\n      return data;\n    },\n\n  // change context specific variables\n  switchContext =\n    function(from, force) {\n      var div, oldDoc = doc;\n      // save passed context\n      lastContext = from;\n      // set new context document\n      doc = from.ownerDocument || from;\n      if (force || oldDoc !== doc) {\n        // set document root\n        root = doc.documentElement;\n        // set host environment flags\n        XML_DOCUMENT = doc.createElement('DiV').nodeName == 'DiV';\n\n        // In quirks mode css class names are case insensitive.\n        // In standards mode they are case sensitive. See docs:\n        // https://developer.mozilla.org/en/Mozilla_Quirks_Mode_Behavior\n        // http://www.whatwg.org/specs/web-apps/current-work/#selectors\n        QUIRKS_MODE = !XML_DOCUMENT &&\n          typeof doc.compatMode == 'string' ?\n          doc.compatMode.indexOf('CSS') < 0 :\n          (function() {\n            var style = doc.createElement('div').style;\n            return style && (style.width = 1) && style.width == '1px';\n          })();\n\n        div = doc.createElement('div');\n        div.appendChild(doc.createElement('p')).setAttribute('class', 'xXx');\n        div.appendChild(doc.createElement('p')).setAttribute('class', 'xxx');\n\n        // GEBCN buggy in quirks mode, match count is:\n        // Firefox 3.0+ [xxx = 1, xXx = 1]\n        // Opera 10.63+ [xxx = 0, xXx = 2]\n        BUGGY_QUIRKS_GEBCN =\n          !XML_DOCUMENT && NATIVE_GEBCN && QUIRKS_MODE &&\n          (div.getElementsByClassName('xxx').length != 2 ||\n          div.getElementsByClassName('xXx').length != 2);\n\n        // QSAPI buggy in quirks mode, match count is:\n        // At least Chrome 4+, Firefox 3.5+, Opera 10.x+, Safari 4+ [xxx = 1, xXx = 2]\n        // Safari 3.2 QSA doesn't work with mixedcase in quirksmode [xxx = 1, xXx = 0]\n        // https://bugs.webkit.org/show_bug.cgi?id=19047\n        // must test the attribute selector '[class~=xxx]'\n        // before '.xXx' or the bug may not present itself\n        BUGGY_QUIRKS_QSAPI =\n          !XML_DOCUMENT && NATIVE_QSAPI && QUIRKS_MODE &&\n          (div.querySelectorAll('[class~=xxx]').length != 2 ||\n          div.querySelectorAll('.xXx').length != 2);\n\n        Config.CACHING && Dom.setCache(true, doc);\n      }\n    },\n\n  // convert a CSS string or identifier containing escape sequence to a\n  // javascript string with javascript escape sequences\n  convertEscapes =\n    function(str) {\n      return str.replace(/\\\\([0-9a-fA-F]{1,6}\\x20?|.)|([\\x22\\x27])/g, function(substring, p1, p2) {\n        var codePoint, highHex, highSurrogate, lowHex, lowSurrogate;\n\n        if (p2) {\n          // unescaped \" or '\n          return '\\\\' + p2;\n        }\n\n        if (/^[0-9a-fA-F]/.test(p1)) {\n          // \\1f23\n          codePoint = parseInt(p1, 16);\n\n          if (codePoint < 0 || codePoint > 0x10ffff) {\n            // the replacement character\n            return '\\\\ufffd';\n          }\n\n          // javascript strings are in UTF-16\n          if (codePoint <= 0xffff) {\n            // Basic\n            lowHex = '000' + codePoint.toString(16);\n            return '\\\\u' + lowHex.substr(lowHex.length - 4);\n          }\n\n          // Supplementary\n          codePoint -= 0x10000;\n          highSurrogate = (codePoint >> 10) + 0xd800;\n          lowSurrogate = (codePoint % 0x400) + 0xdc00;\n          highHex = '000' + highSurrogate.toString(16);\n          lowHex = '000' + lowSurrogate.toString(16);\n\n          return '\\\\u' + highHex.substr(highHex.length - 4) +\n            '\\\\u' + lowHex.substr(lowHex.length - 4);\n        }\n\n        if (/^[\\\\\\x22\\x27]/.test(p1)) {\n          // \\' \\\"\n          return substring;\n        }\n\n        // \\g \\h \\. \\# etc\n        return p1;\n      });\n    },\n\n  /*------------------------------ DOM METHODS -------------------------------*/\n\n  // element by id (raw)\n  // @return reference or null\n  byIdRaw =\n    function(id, elements) {\n      var i = -1, element = null;\n      while ((element = elements[++i])) {\n        if (element.getAttribute('id') == id) {\n          break;\n        }\n      }\n      return element;\n    },\n\n  // element by id\n  // @return reference or null\n  _byId = !BUGGY_GEBID ?\n    function(id, from) {\n      id = id.replace(/\\\\([^\\\\]{1})/g, '$1');\n      return from.getElementById && from.getElementById(id) ||\n        byIdRaw(id, from.getElementsByTagName('*'));\n    } :\n    function(id, from) {\n      var element = null;\n      id = id.replace(/\\\\([^\\\\]{1})/g, '$1');\n      if (XML_DOCUMENT || from.nodeType != 9) {\n        return byIdRaw(id, from.getElementsByTagName('*'));\n      }\n      if ((element = from.getElementById(id)) &&\n        element.name == id && from.getElementsByName) {\n        return byIdRaw(id, from.getElementsByName(id));\n      }\n      return element;\n    },\n\n  // publicly exposed byId\n  // @return reference or null\n  byId =\n    function(id, from) {\n      from || (from = doc);\n      if (lastContext !== from) { switchContext(from); }\n      return _byId(id, from);\n    },\n\n  // elements by tag (raw)\n  // @return array\n  byTagRaw =\n    function(tag, from) {\n      var any = tag == '*', element = from, elements = new global.Array(), next = element.firstChild;\n      any || (tag = tag.toUpperCase());\n      while ((element = next)) {\n        if (element.tagName > '@' && (any || element.tagName.toUpperCase() == tag)) {\n          elements[elements.length] = element;\n        }\n        if ((next = element.firstChild || element.nextSibling)) continue;\n        while (!next && (element = element.parentNode) && element !== from) {\n          next = element.nextSibling;\n        }\n      }\n      return elements;\n    },\n\n  // elements by tag\n  // @return array\n  _byTag = !BUGGY_GEBTN && NATIVE_SLICE_PROTO ?\n    function(tag, from) {\n      return XML_DOCUMENT || from.nodeType == 11 ? byTagRaw(tag, from) :\n        slice.call(from.getElementsByTagName(tag), 0);\n    } :\n    function(tag, from) {\n      var i = -1, j = i, data = new global.Array(),\n        element, elements = from.getElementsByTagName(tag);\n      if (tag == '*') {\n        while ((element = elements[++i])) {\n          if (element.nodeName > '@')\n            data[++j] = element;\n        }\n      } else {\n        while ((element = elements[++i])) {\n          data[i] = element;\n        }\n      }\n      return data;\n    },\n\n  // publicly exposed byTag\n  // @return array\n  byTag =\n    function(tag, from) {\n      from || (from = doc);\n      if (lastContext !== from) { switchContext(from); }\n      return _byTag(tag, from);\n    },\n\n  // publicly exposed byName\n  // @return array\n  byName =\n    function(name, from) {\n      return select('[name=\"' + name.replace(/\\\\([^\\\\]{1})/g, '$1') + '\"]', from);\n    },\n\n  // elements by class (raw)\n  // @return array\n  byClassRaw =\n    function(name, from) {\n      var i = -1, j = i, data = new global.Array(), element, elements = _byTag('*', from), n;\n      name = ' ' + (QUIRKS_MODE ? name.toLowerCase() : name).replace(/\\\\([^\\\\]{1})/g, '$1') + ' ';\n      while ((element = elements[++i])) {\n        n = XML_DOCUMENT ? element.getAttribute('class') : element.className;\n        if (n && n.length && (' ' + (QUIRKS_MODE ? n.toLowerCase() : n).\n          replace(reWhiteSpace, ' ') + ' ').indexOf(name) > -1) {\n          data[++j] = element;\n        }\n      }\n      return data;\n    },\n\n  // elements by class\n  // @return array\n  _byClass =\n    function(name, from) {\n      return (BUGGY_GEBCN || BUGGY_QUIRKS_GEBCN || XML_DOCUMENT || !from.getElementsByClassName) ?\n        byClassRaw(name, from) : slice.call(from.getElementsByClassName(name.replace(/\\\\([^\\\\]{1})/g, '$1')), 0);\n    },\n\n  // publicly exposed byClass\n  // @return array\n  byClass =\n    function(name, from) {\n      from || (from = doc);\n      if (lastContext !== from) { switchContext(from); }\n      return _byClass(name, from);\n    },\n\n  // check element is descendant of container\n  // @return boolean\n  contains = 'compareDocumentPosition' in root ?\n    function(container, element) {\n      return (container.compareDocumentPosition(element) & 16) == 16;\n    } : 'contains' in root ?\n    function(container, element) {\n      return container !== element && container.contains(element);\n    } :\n    function(container, element) {\n      while ((element = element.parentNode)) {\n        if (element === container) return true;\n      }\n      return false;\n    },\n\n  // attribute value\n  // @return string\n  getAttribute = !BUGGY_GET_ATTRIBUTE ?\n    function(node, attribute) {\n      return node.getAttribute(attribute);\n    } :\n    function(node, attribute) {\n      attribute = attribute.toLowerCase();\n      if (typeof node[attribute] == 'object') {\n        return node.attributes[attribute] &&\n          node.attributes[attribute].value;\n      }\n      return (\n        // 'type' can only be read by using native getAttribute\n        attribute == 'type' ? node.getAttribute(attribute) :\n        // specific URI data attributes (parameter 2 to fix IE bug)\n        ATTR_URIDATA[attribute] ? node.getAttribute(attribute, 2) :\n        // boolean attributes should return name instead of true/false\n        ATTR_BOOLEAN[attribute] ? node.getAttribute(attribute) ? attribute : 'false' :\n          (node = node.getAttributeNode(attribute)) && node.value);\n    },\n\n  // attribute presence\n  // @return boolean\n  hasAttribute = !BUGGY_HAS_ATTRIBUTE ?\n    function(node, attribute) {\n      return XML_DOCUMENT ?\n        !!node.getAttribute(attribute) :\n        node.hasAttribute(attribute);\n    } :\n    function(node, attribute) {\n      // read the node attribute object\n      var obj = node.getAttributeNode(attribute = attribute.toLowerCase());\n      return ATTR_DEFAULT[attribute] && attribute != 'value' ?\n        node[ATTR_DEFAULT[attribute]] : obj && obj.specified;\n    },\n\n  // check node emptyness\n  // @return boolean\n  isEmpty =\n    function(node) {\n      node = node.firstChild;\n      while (node) {\n        if (node.nodeType == 3 || node.nodeName > '@') return false;\n        node = node.nextSibling;\n      }\n      return true;\n    },\n\n  // check if element matches the :link pseudo\n  // @return boolean\n  isLink =\n    function(element) {\n      return hasAttribute(element,'href') && LINK_NODES[element.nodeName];\n    },\n\n  // child position by nodeType\n  // @return number\n  nthElement =\n    function(element, last) {\n      var count = 1, succ = last ? 'nextSibling' : 'previousSibling';\n      while ((element = element[succ])) {\n        if (element.nodeName > '@') ++count;\n      }\n      return count;\n    },\n\n  // child position by nodeName\n  // @return number\n  nthOfType =\n    function(element, last) {\n      var count = 1, succ = last ? 'nextSibling' : 'previousSibling', type = element.nodeName;\n      while ((element = element[succ])) {\n        if (element.nodeName == type) ++count;\n      }\n      return count;\n    },\n\n  /*------------------------------- DEBUGGING --------------------------------*/\n\n  // get/set (string/object) working modes\n  configure =\n    function(option) {\n      if (typeof option == 'string') { return Config[option] || Config; }\n      if (typeof option != 'object') { return false; }\n      for (var i in option) {\n        Config[i] = !!option[i];\n        if (i == 'SIMPLENOT') {\n          matchContexts = new global.Object();\n          matchResolvers = new global.Object();\n          selectContexts = new global.Object();\n          selectResolvers = new global.Object();\n          if (!Config[i]) { Config['USE_QSAPI'] = false; }\n        } else if (i == 'USE_QSAPI') {\n          Config[i] = !!option[i] && NATIVE_QSAPI;\n        }\n      }\n      reValidator = new global.RegExp(Config.SIMPLENOT ?\n        standardValidator : extendedValidator, 'g');\n      return true;\n    },\n\n  // control user notifications\n  emit =\n    function(message) {\n      if (Config.VERBOSITY) { throw new global.Error(message); }\n      if (global.console && global.console.log) {\n        global.console.log(message);\n      }\n    },\n\n  Config = new global.Object({\n\n    // used to enable/disable caching of result sets\n    CACHING: false,\n\n    // by default do not add missing left/right context\n    // to selector string shortcuts like \"+div\" or \"ul>\"\n    // callable Dom.shortcuts method has to be available\n    SHORTCUTS: false,\n\n    // by default disable complex selectors nested in\n    // ':not()' pseudo-classes, as for specifications\n    SIMPLENOT: true,\n\n    // strict QSA match all non-unique IDs (false)\n    // speed & libs compat match unique ID (true)\n    UNIQUE_ID: true,\n\n    // HTML5 handling for the \":checked\" pseudo-class\n    USE_HTML5: true,\n\n    // controls enabling the Query Selector API branch\n    USE_QSAPI: NATIVE_QSAPI,\n\n    // controls the engine error/warning notifications\n    VERBOSITY: true\n\n  }),\n\n  /*---------------------------- COMPILER METHODS ----------------------------*/\n\n  // code string reused to build compiled functions\n  ACCEPT_NODE = 'r[r.length]=c[k];if(f&&false===f(c[k]))break main;else continue main;',\n\n  // compile a comma separated group of selector\n  // @mode boolean true for select, false for match\n  // return a compiled function\n  compile =\n    function(selector, source, mode) {\n\n      var parts = typeof selector == 'string' ? selector.match(reSplitGroup) : selector;\n\n      // ensures that source is a string\n      typeof source == 'string' || (source = '');\n\n      if (parts.length == 1) {\n        source += compileSelector(parts[0], mode ? ACCEPT_NODE : 'f&&f(k);return true;', mode);\n      } else {\n        // for each selector in the group\n        var i = -1, seen = new global.Object(), token;\n        while ((token = parts[++i])) {\n          token = token.replace(reTrimSpaces, '');\n          // avoid repeating the same token\n          // in comma separated group (p, p)\n          if (!seen[token] && (seen[token] = true)) {\n            source += compileSelector(token, mode ? ACCEPT_NODE : 'f&&f(k);return true;', mode);\n          }\n        }\n      }\n\n      if (mode) {\n        // for select method\n        return new global.Function('c,s,r,d,h,g,f,v',\n          'var N,n,x=0,k=-1,e;main:while((e=c[++k])){' + source + '}return r;');\n      } else {\n        // for match method\n        return new global.Function('e,s,r,d,h,g,f,v',\n          'var N,n,x=0,k=e;' + source + 'return false;');\n      }\n    },\n\n  // allows to cache already visited nodes\n  FILTER =\n    'var z=v[@]||(v[@]=[]),l=z.length-1;' +\n    'while(l>=0&&z[l]!==e)--l;' +\n    'if(l!==-1){break;}' +\n    'z[z.length]=e;',\n\n  // compile a CSS3 string selector into ad-hoc javascript matching function\n  // @return string (to be compiled)\n  compileSelector =\n    function(selector, source, mode) {\n\n      var a, b, n, k = 0, expr, match, result, status, test, type;\n\n      while (selector) {\n\n        k++;\n\n        // *** Universal selector\n        // * match all (empty block, do not remove)\n        if ((match = selector.match(Patterns.universal))) {\n          // do nothing, handled in the compiler where\n          // BUGGY_GEBTN return comment nodes (ex: IE)\n          expr = '';\n        }\n\n        // *** ID selector\n        // #Foo Id case sensitive\n        else if ((match = selector.match(Patterns.id))) {\n          // document can contain conflicting elements (id/name)\n          // prototype selector unit need this method to recover bad HTML forms\n          source = 'if(' + (XML_DOCUMENT ?\n            's.getAttribute(e,\"id\")' :\n            '(e.submit?s.getAttribute(e,\"id\"):e.id)') +\n            '==\"' + match[1] + '\"' +\n            '){' + source + '}';\n        }\n\n        // *** Type selector\n        // Foo Tag (case insensitive)\n        else if ((match = selector.match(Patterns.tagName))) {\n          // both tagName and nodeName properties may be upper/lower case\n          // depending on their creation NAMESPACE in createElementNS()\n          source = 'if(e.nodeName' + (XML_DOCUMENT ?\n            '==\"' + match[1] + '\"' : '.toUpperCase()' +\n            '==\"' + match[1].toUpperCase() + '\"') +\n            '){' + source + '}';\n        }\n\n        // *** Class selector\n        // .Foo Class (case sensitive)\n        else if ((match = selector.match(Patterns.className))) {\n          // W3C CSS3 specs: element whose \"class\" attribute has been assigned a\n          // list of whitespace-separated values, see section 6.4 Class selectors\n          // and notes at the bottom; explicitly non-normative in this specification.\n          source = 'if((n=' + (XML_DOCUMENT ?\n            's.getAttribute(e,\"class\")' : 'e.className') +\n            ')&&n.length&&(\" \"+' + (QUIRKS_MODE ? 'n.toLowerCase()' : 'n') +\n            '.replace(' + reWhiteSpace + ',\" \")+\" \").indexOf(\" ' +\n            (QUIRKS_MODE ? match[1].toLowerCase() : match[1]) + ' \")>-1' +\n            '){' + source + '}';\n        }\n\n        // *** Attribute selector\n        // [attr] [attr=value] [attr=\"value\"] [attr='value'] and !=, *=, ~=, |=, ^=, $=\n        // case sensitivity is treated differently depending on the document type (see map)\n        else if ((match = selector.match(Patterns.attribute))) {\n\n          // xml namespaced attribute ?\n          expr = match[1].split(':');\n          expr = expr.length == 2 ? expr[1] : expr[0] + '';\n\n          if (match[2] && !Operators[match[2]]) {\n            emit('Unsupported operator in attribute selectors \"' + selector + '\"');\n            return '';\n          }\n\n          test = 'false';\n\n          // replace Operators parameter if needed\n          if (match[2] && match[4] && (test = Operators[match[2]])) {\n            match[4] = convertEscapes(match[4]);\n            // case treatment depends on document\n            HTML_TABLE['class'] = QUIRKS_MODE ? 1 : 0;\n            type = (XML_DOCUMENT ? XHTML_TABLE : HTML_TABLE)[expr.toLowerCase()];\n            test = test.replace(/\\%m/g, type ? match[4].toLowerCase() : match[4]);\n          } else if (match[2] == '!=' || match[2] == '=') {\n            test = 'n' + match[2] + '=\"\"';\n          }\n\n          source = 'if(n=s.hasAttribute(e,\"' + match[1] + '\")){' +\n            (match[2] ? 'n=s.getAttribute(e,\"' + match[1] + '\")' : '') +\n            (type && match[2] ? '.toLowerCase();' : ';') +\n            'if(' + (match[2] ? test : 'n') + '){' + source + '}}';\n\n        }\n\n        // *** Adjacent sibling combinator\n        // E + F (F adiacent sibling of E)\n        else if ((match = selector.match(Patterns.adjacent))) {\n          source = (mode ? '' : FILTER.replace(/@/g, k)) + source;\n          source = NATIVE_TRAVERSAL_API ?\n            'var N' + k + '=e;while(e&&(e=e.previousElementSibling)){' + source + 'break;}e=N' + k + ';' :\n            'var N' + k + '=e;while(e&&(e=e.previousSibling)){if(e.nodeName>\"@\"){' + source + 'break;}}e=N' + k + ';';\n        }\n\n        // *** General sibling combinator\n        // E ~ F (F relative sibling of E)\n        else if ((match = selector.match(Patterns.relative))) {\n          source = (mode ? '' : FILTER.replace(/@/g, k)) + source;\n          source = NATIVE_TRAVERSAL_API ?\n            ('var N' + k + '=e;e=e.parentNode.firstElementChild;' +\n            'while(e&&e!==N' + k + '){' + source + 'e=e.nextElementSibling;}e=N' + k + ';') :\n            ('var N' + k + '=e;e=e.parentNode.firstChild;' +\n            'while(e&&e!==N' + k + '){if(e.nodeName>\"@\"){' + source + '}e=e.nextSibling;}e=N' + k + ';');\n        }\n\n        // *** Child combinator\n        // E > F (F children of E)\n        else if ((match = selector.match(Patterns.children))) {\n          source = (mode ? '' : FILTER.replace(/@/g, k)) + source;\n          source = 'var N' + k + '=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){' + source + 'break;}e=N' + k + ';';\n        }\n\n        // *** Descendant combinator\n        // E F (E ancestor of F)\n        else if ((match = selector.match(Patterns.ancestor))) {\n          source = (mode ? '' : FILTER.replace(/@/g, k)) + source;\n          source = 'var N' + k + '=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){' + source + '}e=N' + k + ';';\n        }\n\n        // *** Structural pseudo-classes\n        // :root, :empty,\n        // :first-child, :last-child, :only-child,\n        // :first-of-type, :last-of-type, :only-of-type,\n        // :nth-child(), :nth-last-child(), :nth-of-type(), :nth-last-of-type()\n        else if ((match = selector.match(Patterns.spseudos)) && match[1]) {\n\n          switch (match[1]) {\n            case 'root':\n              // element root of the document\n              if (match[3]) {\n                source = 'if(e===h||s.contains(h,e)){' + source + '}';\n              } else {\n                source = 'if(e===h){' + source + '}';\n              }\n              break;\n\n            case 'empty':\n              // element that has no children\n              source = 'if(s.isEmpty(e)){' + source + '}';\n              break;\n\n            default:\n              if (match[1] && match[2]) {\n                if (match[2] == 'n') {\n                  source = 'if(e!==h){' + source + '}';\n                  break;\n                } else if (match[2] == 'even') {\n                  a = 2;\n                  b = 0;\n                } else if (match[2] == 'odd') {\n                  a = 2;\n                  b = 1;\n                } else {\n                  // assumes correct \"an+b\" format, \"b\" before \"a\" to keep \"n\" values\n                  b = ((n = match[2].match(/(-?\\d+)$/)) ? global.parseInt(n[1], 10) : 0);\n                  a = ((n = match[2].match(/(-?\\d*)n/i)) ? global.parseInt(n[1], 10) : 0);\n                  if (n && n[1] == '-') a = -1;\n                }\n\n                // build test expression out of structural pseudo (an+b) parameters\n                // see here: http://www.w3.org/TR/css3-selectors/#nth-child-pseudo\n                test = a > 1 ?\n                  (/last/i.test(match[1])) ? '(n-(' + b + '))%' + a + '==0' :\n                  'n>=' + b + '&&(n-(' + b + '))%' + a + '==0' : a < -1 ?\n                  (/last/i.test(match[1])) ? '(n-(' + b + '))%' + a + '==0' :\n                  'n<=' + b + '&&(n-(' + b + '))%' + a + '==0' : a === 0 ?\n                  'n==' + b : a == -1 ? 'n<=' + b : 'n>=' + b;\n\n                // 4 cases: 1 (nth) x 4 (child, of-type, last-child, last-of-type)\n                source =\n                  'if(e!==h){' +\n                    'n=s[' + (/-of-type/i.test(match[1]) ? '\"nthOfType\"' : '\"nthElement\"') + ']' +\n                      '(e,' + (/last/i.test(match[1]) ? 'true' : 'false') + ');' +\n                    'if(' + test + '){' + source + '}' +\n                  '}';\n\n              } else {\n                // 6 cases: 3 (first, last, only) x 1 (child) x 2 (-of-type)\n                a = /first/i.test(match[1]) ? 'previous' : 'next';\n                n = /only/i.test(match[1]) ? 'previous' : 'next';\n                b = /first|last/i.test(match[1]);\n\n                type = /-of-type/i.test(match[1]) ? '&&n.nodeName!=e.nodeName' : '&&n.nodeName<\"@\"';\n\n                source = 'if(e!==h){' +\n                  ( 'n=e;while((n=n.' + a + 'Sibling)' + type + ');if(!n){' + (b ? source :\n                    'n=e;while((n=n.' + n + 'Sibling)' + type + ');if(!n){' + source + '}') + '}' ) + '}';\n              }\n              break;\n          }\n\n        }\n\n        // *** negation, user action and target pseudo-classes\n        // *** UI element states and dynamic pseudo-classes\n        // CSS3 :not, :checked, :enabled, :disabled, :target\n        // CSS3 :active, :hover, :focus\n        // CSS3 :link, :visited\n        else if ((match = selector.match(Patterns.dpseudos)) && match[1]) {\n\n          switch (match[1].match(/^\\w+/)[0]) {\n            // CSS3 negation pseudo-class\n            case 'not':\n              // compile nested selectors, DO NOT pass the callback parameter\n              // SIMPLENOT allow disabling complex selectors nested\n              // in ':not()' pseudo-classes, breaks some test units\n              expr = match[3].replace(reTrimSpaces, '');\n\n              if (Config.SIMPLENOT && !reSimpleNot.test(expr)) {\n                // see above, log error but continue execution\n                emit('Negation pseudo-class only accepts simple selectors \"' + selector + '\"');\n                return '';\n              } else {\n                if ('compatMode' in doc) {\n                  source = 'if(!' + compile(expr, '', false) + '(e,s,r,d,h,g)){' + source + '}';\n                } else {\n                  source = 'if(!s.match(e, \"' + expr.replace(/\\x22/g, '\\\\\"') + '\",g)){' + source +'}';\n                }\n              }\n              break;\n\n            // CSS3 UI element states\n            case 'checked':\n              // for radio buttons checkboxes (HTML4) and options (HTML5)\n              source = 'if((typeof e.form!==\"undefined\"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)' +\n                (Config.USE_HTML5 ? '||(/^option$/i.test(e.nodeName)&&(e.selected||e.checked))' : '') +\n                '){' + source + '}';\n              break;\n            case 'disabled':\n              // does not consider hidden input fields\n              source = 'if(((typeof e.form!==\"undefined\"' +\n                (Config.USE_HTML5 ? '' : '&&!(/^hidden$/i).test(e.type)') +\n                ')||s.isLink(e))&&e.disabled===true){' + source + '}';\n              break;\n            case 'enabled':\n              // does not consider hidden input fields\n              source = 'if(((typeof e.form!==\"undefined\"' +\n                (Config.USE_HTML5 ? '' : '&&!(/^hidden$/i).test(e.type)') +\n                ')||s.isLink(e))&&e.disabled===false){' + source + '}';\n              break;\n\n            // CSS3 lang pseudo-class\n            case 'lang':\n              test = '';\n              if (match[2]) test = match[2].substr(0, 2) + '-';\n              source = 'do{(n=e.lang||\"\").toLowerCase();' +\n                'if((n==\"\"&&h.lang==\"' + match[2].toLowerCase() + '\")||' +\n                '(n&&(n==\"' + match[2].toLowerCase() +\n                '\"||n.substr(0,3)==\"' + test.toLowerCase() + '\")))' +\n                '{' + source + 'break;}}while((e=e.parentNode)&&e!==g);';\n              break;\n\n            // CSS3 target pseudo-class\n            case 'target':\n              source = 'if(e.id==d.location.hash.slice(1)){' + source + '}';\n              break;\n\n            // CSS3 dynamic pseudo-classes\n            case 'link':\n              source = 'if(s.isLink(e)&&!e.visited){' + source + '}';\n              break;\n            case 'visited':\n              source = 'if(s.isLink(e)&&e.visited){' + source + '}';\n              break;\n\n            // CSS3 user action pseudo-classes IE & FF3 have native support\n            // these capabilities may be emulated by some event managers\n            case 'active':\n              if (XML_DOCUMENT) break;\n              source = 'if(e===d.activeElement){' + source + '}';\n              break;\n            case 'hover':\n              if (XML_DOCUMENT) break;\n              source = 'if(e===d.hoverElement){' + source + '}';\n              break;\n            case 'focus':\n              if (XML_DOCUMENT) break;\n              source = NATIVE_FOCUS ?\n                'if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\")){' + source + '}' :\n                'if(e===d.activeElement&&(e.type||e.href)){' + source + '}';\n              break;\n\n            // CSS2 selected pseudo-classes, not part of current CSS3 drafts\n            // the 'selected' property is only available for option elements\n            case 'selected':\n              // fix Safari selectedIndex property bug\n              expr = BUGGY_SELECTED ? '||(n=e.parentNode)&&n.options[n.selectedIndex]===e' : '';\n              source = 'if(/^option$/i.test(e.nodeName)&&(e.selected||e.checked' + expr + ')){' + source + '}';\n              break;\n\n            default:\n              break;\n          }\n\n        }\n\n        else {\n\n          // this is where external extensions are\n          // invoked if expressions match selectors\n          expr = false;\n          status = false;\n          for (expr in Selectors) {\n            if ((match = selector.match(Selectors[expr].Expression)) && match[1]) {\n              result = Selectors[expr].Callback(match, source);\n              source = result.source;\n              status = result.status;\n              if (status) { break; }\n            }\n          }\n\n          // if an extension fails to parse the selector\n          // it must return a false boolean in \"status\"\n          if (!status) {\n            // log error but continue execution, don't throw real exceptions\n            // because blocking following processes maybe is not a good idea\n            emit('Unknown pseudo-class selector \"' + selector + '\"');\n            return '';\n          }\n\n          if (!expr) {\n            // see above, log error but continue execution\n            emit('Unknown token in selector \"' + selector + '\"');\n            return '';\n          }\n\n        }\n\n        // error if no matches found by the pattern scan\n        if (!match) {\n          emit('Invalid syntax in selector \"' + selector + '\"');\n          return '';\n        }\n\n        // ensure \"match\" is not null or empty since\n        // we do not throw real DOMExceptions above\n        selector = match && match[match.length - 1];\n      }\n\n      return source;\n    },\n\n  /*----------------------------- QUERY METHODS ------------------------------*/\n\n  // match element with selector\n  // @return boolean\n  match =\n    function(element, selector, from, callback) {\n\n      var parts;\n\n      if (!(element && element.nodeType == 1)) {\n        emit('Invalid element argument');\n        return false;\n      } else if (typeof selector != 'string') {\n        emit('Invalid selector argument');\n        return false;\n      } else if (from && from.nodeType == 1 && !contains(from, element)) {\n        return false;\n      } else if (lastContext !== from) {\n        // reset context data when it changes\n        // and ensure context is set to a default\n        switchContext(from || (from = element.ownerDocument));\n      }\n\n      selector = selector.replace(reTrimSpaces, '');\n\n      Config.SHORTCUTS && (selector = Dom.shortcuts(selector, element, from));\n\n      if (lastMatcher != selector) {\n        // process valid selector strings\n        if ((parts = selector.match(reValidator)) && parts[0] == selector) {\n          isSingleMatch = (parts = selector.match(reSplitGroup)).length < 2;\n          // save passed selector\n          lastMatcher = selector;\n          lastPartsMatch = parts;\n        } else {\n          emit('The string \"' + selector + '\", is not a valid CSS selector');\n          return false;\n        }\n      } else parts = lastPartsMatch;\n\n      // compile matcher resolvers if necessary\n      if (!matchResolvers[selector] || matchContexts[selector] !== from) {\n        matchResolvers[selector] = compile(isSingleMatch ? [selector] : parts, '', false);\n        matchContexts[selector] = from;\n      }\n\n      return matchResolvers[selector](element, Snapshot, [ ], doc, root, from, callback, new global.Object());\n    },\n\n  // select only the first element\n  // matching selector (document ordered)\n  first =\n    function(selector, from) {\n      return select(selector, from, function() { return false; })[0] || null;\n    },\n\n  // select elements matching selector\n  // using new Query Selector API\n  // or cross-browser client API\n  // @return array\n  select =\n    function(selector, from, callback) {\n\n      var i, changed, element, elements, parts, token, original = selector;\n\n      if (arguments.length === 0) {\n        emit('Not enough arguments');\n        return [ ];\n      } else if (typeof selector != 'string') {\n        return [ ];\n      } else if (from && !(/1|9|11/).test(from.nodeType)) {\n        emit('Invalid or illegal context element');\n        return [ ];\n      } else if (lastContext !== from) {\n        // reset context data when it changes\n        // and ensure context is set to a default\n        switchContext(from || (from = doc));\n      }\n\n      if (Config.CACHING && (elements = Dom.loadResults(original, from, doc, root))) {\n        return callback ? concatCall([ ], elements, callback) : elements;\n      }\n\n      if (!OPERA_QSAPI && RE_SIMPLE_SELECTOR.test(selector)) {\n        switch (selector.charAt(0)) {\n          case '#':\n            if (Config.UNIQUE_ID) {\n              elements = (element = _byId(selector.slice(1), from)) ? [ element ] : [ ];\n            }\n            break;\n          case '.':\n            elements = _byClass(selector.slice(1), from);\n            break;\n          default:\n            elements = _byTag(selector, from);\n            break;\n        }\n      }\n\n      else if (!XML_DOCUMENT && Config.USE_QSAPI &&\n        !(BUGGY_QUIRKS_QSAPI && RE_CLASS.test(selector)) &&\n        !RE_BUGGY_QSAPI.test(selector)) {\n        try {\n          elements = from.querySelectorAll(selector);\n        } catch(e) { }\n      }\n\n      if (elements) {\n        elements = callback ? concatCall([ ], elements, callback) :\n          NATIVE_SLICE_PROTO ? slice.call(elements) : concatList([ ], elements);\n        Config.CACHING && Dom.saveResults(original, from, doc, elements);\n        return elements;\n      }\n\n      selector = selector.replace(reTrimSpaces, '');\n\n      Config.SHORTCUTS && (selector = Dom.shortcuts(selector, from));\n\n      if ((changed = lastSelector != selector)) {\n        // process valid selector strings\n        if ((parts = selector.match(reValidator)) && parts[0] == selector) {\n          isSingleSelect = (parts = selector.match(reSplitGroup)).length < 2;\n          // save passed selector\n          lastSelector = selector;\n          lastPartsSelect = parts;\n        } else {\n          emit('The string \"' + selector + '\", is not a valid CSS selector');\n          return [ ];\n        }\n      } else parts = lastPartsSelect;\n\n      // commas separators are treated sequentially to maintain order\n      if (from.nodeType == 11) {\n\n        elements = byTagRaw('*', from);\n\n      } else if (!XML_DOCUMENT && isSingleSelect) {\n\n        if (changed) {\n          // get right most selector token\n          parts = selector.match(reSplitToken);\n          token = parts[parts.length - 1];\n\n          // only last slice before :not rules\n          lastSlice = token.split(':not')[0];\n\n          // position where token was found\n          lastPosition = selector.length - token.length;\n        }\n\n        // ID optimization RTL, to reduce number of elements to visit\n        if (Config.UNIQUE_ID && (parts = lastSlice.match(Optimize.ID)) && (token = parts[1])) {\n          if ((element = _byId(token, from))) {\n            if (match(element, selector)) {\n              callback && callback(element);\n              elements = new global.Array(element);\n            } else elements = new global.Array();\n          }\n        }\n\n        // ID optimization LTR, to reduce selection context searches\n        else if (Config.UNIQUE_ID && (parts = selector.match(Optimize.ID)) && (token = parts[1])) {\n          if ((element = _byId(token, doc))) {\n            if ('#' + token == selector) {\n              callback && callback(element);\n              elements = new global.Array(element);\n            } else if (/[>+~]/.test(selector)) {\n              from = element.parentNode;\n            } else {\n              from = element;\n            }\n          } else elements = new global.Array();\n        }\n\n        if (elements) {\n          Config.CACHING && Dom.saveResults(original, from, doc, elements);\n          return elements;\n        }\n\n        if (!NATIVE_GEBCN && (parts = lastSlice.match(Optimize.TAG)) && (token = parts[1])) {\n          if ((elements = _byTag(token, from)).length === 0) { return [ ]; }\n          selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace(token, '*');\n        }\n\n        else if ((parts = lastSlice.match(Optimize.CLASS)) && (token = parts[1])) {\n          if ((elements = _byClass(token, from)).length === 0) { return [ ]; }\n          if (reOptimizeSelector.test(selector.charAt(selector.indexOf(token) - 1))) {\n            selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace('.' + token, '');\n          } else {\n            selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace('.' + token, '*');\n          }\n        }\n\n        else if ((parts = selector.match(Optimize.CLASS)) && (token = parts[1])) {\n          if ((elements = _byClass(token, from)).length === 0) { return [ ]; }\n          for (i = 0, els = new global.Array(); elements.length > i; ++i) {\n            els = concatList(els, elements[i].getElementsByTagName('*'));\n          }\n          elements = els;\n          if (reOptimizeSelector.test(selector.charAt(selector.indexOf(token) - 1))) {\n            selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace('.' + token, '');\n          } else {\n            selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace('.' + token, '*');\n          }\n        }\n\n        else if (NATIVE_GEBCN && (parts = lastSlice.match(Optimize.TAG)) && (token = parts[1])) {\n          if ((elements = _byTag(token, from)).length === 0) { return [ ]; }\n          selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace(token, '*');\n        }\n\n      }\n\n      if (!elements) {\n        elements = /^(?:applet|object)$/i.test(from.nodeName) ? from.childNodes : _byTag('*', from);\n      }\n      // end of prefiltering pass\n\n      // compile selector resolver if necessary\n      if (!selectResolvers[selector] || selectContexts[selector] !== from) {\n        selectResolvers[selector] = compile(isSingleSelect ? [selector] : parts, '', true);\n        selectContexts[selector] = from;\n      }\n\n      elements = selectResolvers[selector](elements, Snapshot, [ ], doc, root, from, callback, new global.Object());\n\n      Config.CACHING && Dom.saveResults(original, from, doc, elements);\n\n      return elements;\n    },\n\n  /*-------------------------------- STORAGE ---------------------------------*/\n\n  // empty function handler\n  FN = function(x) { return x; },\n\n  // compiled match functions returning booleans\n  matchContexts = new global.Object(),\n  matchResolvers = new global.Object(),\n\n  // compiled select functions returning collections\n  selectContexts = new global.Object(),\n  selectResolvers = new global.Object(),\n\n  // used to pass methods to compiled functions\n  Snapshot = new global.Object({\n\n    // element indexing methods\n    nthElement: nthElement,\n    nthOfType: nthOfType,\n\n    // element inspection methods\n    getAttribute: getAttribute,\n    hasAttribute: hasAttribute,\n\n    // element selection methods\n    byClass: _byClass,\n    byName: byName,\n    byTag: _byTag,\n    byId: _byId,\n\n    // helper/check methods\n    contains: contains,\n    isEmpty: isEmpty,\n    isLink: isLink,\n\n    // selection/matching\n    select: select,\n    match: match\n  }),\n\n  Tokens = new global.Object({\n    prefixes: prefixes,\n    encoding: encoding,\n    operators: operators,\n    whitespace: whitespace,\n    identifier: identifier,\n    attributes: attributes,\n    combinators: combinators,\n    pseudoclass: pseudoclass,\n    pseudoparms: pseudoparms,\n    quotedvalue: quotedvalue\n  });\n\n  /*------------------------------- PUBLIC API -------------------------------*/\n\n  // code referenced by extensions\n  Dom.ACCEPT_NODE = ACCEPT_NODE;\n\n  // retrieve element by id attr\n  Dom.byId = byId;\n\n  // retrieve elements by tag name\n  Dom.byTag = byTag;\n\n  // retrieve elements by name attr\n  Dom.byName = byName;\n\n  // retrieve elements by class name\n  Dom.byClass = byClass;\n\n  // read the value of the attribute\n  // as was in the original HTML code\n  Dom.getAttribute = getAttribute;\n\n  // check for the attribute presence\n  // as was in the original HTML code\n  Dom.hasAttribute = hasAttribute;\n\n  // element match selector, return boolean true/false\n  Dom.match = match;\n\n  // first element match only, return element or null\n  Dom.first = first;\n\n  // elements matching selector, starting from element\n  Dom.select = select;\n\n  // compile selector into ad-hoc javascript resolver\n  Dom.compile = compile;\n\n  // check that two elements are ancestor/descendant\n  Dom.contains = contains;\n\n  // handle selector engine configuration settings\n  Dom.configure = configure;\n\n  // initialize caching for each document\n  Dom.setCache = FN;\n\n  // load previously collected result set\n  Dom.loadResults = FN;\n\n  // save previously collected result set\n  Dom.saveResults = FN;\n\n  // handle missing context in selector strings\n  Dom.shortcuts = FN;\n\n  // log resolvers errors/warnings\n  Dom.emit = emit;\n\n  // options enabing specific engine functionality\n  Dom.Config = Config;\n\n  // pass methods references to compiled resolvers\n  Dom.Snapshot = Snapshot;\n\n  // operators descriptor\n  // for attribute operators extensions\n  Dom.Operators = Operators;\n\n  // selectors descriptor\n  // for pseudo-class selectors extensions\n  Dom.Selectors = Selectors;\n\n  // export string patterns\n  Dom.Tokens = Tokens;\n\n  // export version string\n  Dom.Version = version;\n\n  // add or overwrite user defined operators\n  Dom.registerOperator =\n    function(symbol, resolver) {\n      Operators[symbol] || (Operators[symbol] = resolver);\n    };\n\n  // add selector patterns for user defined callbacks\n  Dom.registerSelector =\n    function(name, rexp, func) {\n      Selectors[name] || (Selectors[name] = new global.Object({\n        Expression: rexp,\n        Callback: func\n      }));\n    };\n\n  /*---------------------------------- INIT ----------------------------------*/\n\n  // init context specific variables\n  switchContext(doc, true);\n\n});\n\n/*\r\n\tselectivizr.com\r\n\r\n\tNotes about this source\r\n\t-----------------------\r\n * The #DEBUG_START and #DEBUG_END comments are used to mark blocks of code\r\n   that will be removed prior to building a final release version (using a\r\n   pre-compression script)\r\n\r\n\tReferences:\r\n\t-----------\r\n * CSS Syntax          : https://www.w3.org/TR/2003/WD-css3-syntax-20030813/#style\r\n * Selectors           : https://www.w3.org/TR/css3-selectors/#selectors\r\n * IE Compatability    : https://msdn.microsoft.com/en-us/library/cc351024%28VS.85%29.aspx\r\n * W3C Selector Tests  : https://www.w3.org/Style/CSS/Test/CSS3/Selectors/current/html/tests/\r\n*/\r\n\r\n(function(win) {\r\n\r\n\t// Determine IE version and stop execution if browser isn't IE. This\r\n\t// handles the script being loaded by non IE browsers because the\r\n\t// developer didn't use conditional comments.\r\n\tvar ieUserAgent = navigator.userAgent.match(/MSIE (\\d+)/);\r\n\tif (!ieUserAgent) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// =========================== Init Objects ============================\r\n\r\n\tvar doc = document;\r\n\tvar root = doc.documentElement;\r\n\tvar xhr = getXHRObject();\r\n\tvar ieVersion = ieUserAgent[1];\r\n\r\n\t// If were not in standards mode, IE is too old / new or we can't create\r\n\t// an XMLHttpRequest object then we should get out now.\r\n\tif (doc.compatMode != 'CSS1Compat' || ieVersion<6 || ieVersion>8 || !xhr) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// ========================= Common Objects ============================\r\n\r\n\t// Compatible selector engines in order of CSS3 support. Note: '*' is\r\n\t// a placeholder for the object key name. (basically, crude compression)\r\n\tvar selectorEngines = {\r\n\t\t\"NW\"\t\t\t\t\t\t\t\t: \"*.Dom.select\",\r\n\t\t\"MooTools\"\t\t\t\t\t\t\t: \"$$\",\r\n\t\t\"DOMAssistant\"\t\t\t\t\t\t: \"*.$\",\r\n\t\t\"Prototype\"\t\t\t\t\t\t\t: \"$$\",\r\n\t\t\"YAHOO\"\t\t\t\t\t\t\t\t: \"*.util.Selector.query\",\r\n\t\t\"Sizzle\"\t\t\t\t\t\t\t: \"*\",\r\n\t\t\"jQuery\"\t\t\t\t\t\t\t: \"*\",\r\n\t\t\"dojo\"\t\t\t\t\t\t\t\t: \"*.query\"\r\n\t};\r\n\r\n\tvar selectorMethod;\r\n\tvar enabledWatchers \t\t\t\t\t= [];     // array of :enabled/:disabled elements to poll\r\n\tvar domPatches\t\t\t\t\t\t\t= [];\r\n\tvar ie6PatchID \t\t\t\t\t\t\t= 0;      // used to solve ie6's multiple class bug\r\n\tvar patchIE6MultipleClasses\t\t\t\t= true;   // if true adds class bloat to ie6\r\n\tvar namespace \t\t\t\t\t\t\t= \"slvzr\";\r\n\r\n\t// Stylesheet parsing regexp's\r\n\tvar RE_COMMENT\t\t\t\t\t\t\t= /(\\/\\*[^*]*\\*+([^\\/][^*]*\\*+)*\\/)\\s*?/g;\r\n\tvar RE_IMPORT\t\t\t\t\t\t\t= /@import\\s*(?:(?:(?:url\\(\\s*(['\"]?)([^;]*)\\1)\\s*\\))|(?:(['\"])([^;]*)\\3))\\s*([^;]*);/g;\r\n\tvar RE_ASSET_URL \t\t\t\t\t\t= /(behavior\\s*?:\\s*)?\\burl\\(\\s*([\"']?)(?!data:)([^\"')]+)\\2\\s*\\)/g;\r\n\tvar RE_PSEUDO_STRUCTURAL\t\t\t\t= /^:(empty|(first|last|only|nth(-last)?)-(child|of-type))$/;\r\n\tvar RE_PSEUDO_ELEMENTS\t\t\t\t\t= /:(:first-(?:line|letter))/g;\r\n\tvar RE_SELECTOR_GROUP\t\t\t\t\t= /((?:^|(?:\\s*})+)(?:\\s*@media[^{]+{)?)\\s*([^\\{]*?[\\[:][^{]+)/g;\r\n\tvar RE_SELECTOR_PARSE\t\t\t\t\t= /([ +~>])|(:[a-z-]+(?:\\(.*?\\)+)?)|(\\[.*?\\])/g;\r\n\tvar RE_LIBRARY_INCOMPATIBLE_PSEUDOS\t\t= /(:not\\()?:(hover|enabled|disabled|focus|checked|target|active|visited|first-line|first-letter)\\)?/g;\r\n\tvar RE_PATCH_CLASS_NAME_REPLACE\t\t\t= /[^\\w-]/g;\r\n\r\n\t// HTML UI element regexp's\r\n\tvar RE_INPUT_ELEMENTS\t\t\t\t\t= /^(INPUT|SELECT|TEXTAREA|BUTTON)$/;\r\n\tvar RE_INPUT_CHECKABLE_TYPES\t\t\t= /^(checkbox|radio)$/;\r\n\r\n\t// Broken attribute selector implementations (IE7/8 native [^=\"\"], [$=\"\"] and [*=\"\"])\r\n\tvar BROKEN_ATTR_IMPLEMENTATIONS\t\t\t= ieVersion>6 ? /[\\$\\^*]=(['\"])\\1/ : null;\r\n\r\n\t// Whitespace normalization regexp's\r\n\tvar RE_TIDY_TRAILING_WHITESPACE\t\t\t= /([(\\[+~])\\s+/g;\r\n\tvar RE_TIDY_LEADING_WHITESPACE\t\t\t= /\\s+([)\\]+~])/g;\r\n\tvar RE_TIDY_CONSECUTIVE_WHITESPACE\t\t= /\\s+/g;\r\n\tvar RE_TIDY_TRIM_WHITESPACE\t\t\t\t= /^\\s*((?:[\\S\\s]*\\S)?)\\s*$/;\r\n\r\n\t// String constants\r\n\tvar EMPTY_STRING\t\t\t\t\t\t= \"\";\r\n\tvar SPACE_STRING\t\t\t\t\t\t= \" \";\r\n\tvar PLACEHOLDER_STRING\t\t\t\t\t= \"$1\";\r\n\r\n\t// =========================== Patching ================================\r\n\r\n\t// --[ patchStyleSheet() ]----------------------------------------------\r\n\t// Scans the passed cssText for selectors that require emulation and\r\n\t// creates one or more patches for each matched selector.\r\n\tfunction patchStyleSheet( cssText ) {\r\n\t\treturn cssText.replace(RE_PSEUDO_ELEMENTS, PLACEHOLDER_STRING).\r\n\t\t\treplace(RE_SELECTOR_GROUP, function(m, prefix, selectorText) {\r\n    \t\t\tvar selectorGroups = selectorText.split(\",\");\r\n\t\t\t\t\tfunction comboBreaker (match, combinator, pseudo, attribute, index) {\r\n\t\t\t\t\t\tif (combinator) {\r\n\t\t\t\t\t\t\tif (patches.length>0) {\r\n\t\t\t\t\t\t\t\tdomPatches.push( { selector: selector.substring(0, index), patches: patches } );\r\n\t\t\t\t\t\t\t\tpatches = [];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn combinator;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tvar patch = (pseudo) ? patchPseudoClass( pseudo ) : patchAttribute( attribute );\r\n\t\t\t\t\t\t\tif (patch) {\r\n\t\t\t\t\t\t\t\tpatches.push(patch);\r\n\t\t\t\t\t\t\t\treturn \".\" + patch.className;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn match;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n    \t\t\tfor (var c = 0, cs = selectorGroups.length; c < cs; c++) {\r\n    \t\t\t\tvar selector = normalizeSelectorWhitespace(selectorGroups[c]) + SPACE_STRING;\r\n    \t\t\t\tvar patches = [];\r\n    \t\t\t\tselectorGroups[c] = selector.replace(RE_SELECTOR_PARSE, comboBreaker);\r\n    \t\t\t}\r\n    \t\t\treturn prefix + selectorGroups.join(\",\");\r\n    \t\t});\r\n\t}\r\n\r\n\t// --[ patchAttribute() ]-----------------------------------------------\r\n\t// returns a patch for an attribute selector.\r\n\tfunction patchAttribute( attr ) {\r\n\t\treturn (!BROKEN_ATTR_IMPLEMENTATIONS || BROKEN_ATTR_IMPLEMENTATIONS.test(attr)) ?\r\n\t\t\t{ className: createClassName(attr), applyClass: true } : null;\r\n\t}\r\n\r\n\t// --[ patchPseudoClass() ]---------------------------------------------\r\n\t// returns a patch for a pseudo-class\r\n\tfunction patchPseudoClass( pseudo ) {\r\n\r\n\t\tvar applyClass = true;\r\n\t\tvar className = createClassName(pseudo.slice(1));\r\n\t\tvar isNegated = pseudo.substring(0, 5) == \":not(\";\r\n\t\tvar activateEventName;\r\n\t\tvar deactivateEventName;\r\n\r\n\t\t// if negated, remove :not()\r\n\t\tif (isNegated) {\r\n\t\t\tpseudo = pseudo.slice(5, -1);\r\n\t\t}\r\n\r\n\t\t// bracket contents are irrelevant - remove them\r\n\t\tvar bracketIndex = pseudo.indexOf(\"(\");\r\n\t\tif (bracketIndex > -1) {\r\n\t\t\tpseudo = pseudo.substring(0, bracketIndex);\r\n\t\t}\r\n\r\n\t\t// check we're still dealing with a pseudo-class\r\n\t\tif (pseudo.charAt(0) == \":\") {\r\n\t\t\tswitch (pseudo.slice(1)) {\r\n\r\n\t\t\t\tcase \"root\":\r\n\t\t\t\t\tapplyClass = function(e) {\r\n\t\t\t\t\t\treturn isNegated ? e != root : e == root;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"target\":\r\n\t\t\t\t\t// :target is only supported in IE8\r\n\t\t\t\t\tif (ieVersion == 8) {\r\n\t\t\t\t\t\tapplyClass = function(e) {\r\n\t\t\t\t\t\t\tvar handler = function() {\r\n\t\t\t\t\t\t\t\tvar hash = location.hash;\r\n\t\t\t\t\t\t\t\tvar hashID = hash.slice(1);\r\n\t\t\t\t\t\t\t\treturn isNegated ? (hash == EMPTY_STRING || e.id != hashID) : (hash != EMPTY_STRING && e.id == hashID);\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\taddEvent( win, \"hashchange\", function() {\r\n\t\t\t\t\t\t\t\ttoggleElementClass(e, className, handler());\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn handler();\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\tcase \"checked\":\r\n\t\t\t\t\tapplyClass = function(e) {\r\n\t\t\t\t\t\tif (RE_INPUT_CHECKABLE_TYPES.test(e.type)) {\r\n\t\t\t\t\t\t\taddEvent( e, \"propertychange\", function() {\r\n\t\t\t\t\t\t\t\tif (event.propertyName == \"checked\") {\r\n\t\t\t\t\t\t\t\t\ttoggleElementClass( e, className, e.checked !== isNegated );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn e.checked !== isNegated;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"disabled\":\r\n\t\t\t\t\tisNegated = !isNegated;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"enabled\":\r\n\t\t\t\t\tapplyClass = function(e) {\r\n\t\t\t\t\t\tif (RE_INPUT_ELEMENTS.test(e.tagName)) {\r\n\t\t\t\t\t\t\taddEvent( e, \"propertychange\", function() {\r\n\t\t\t\t\t\t\t\tif (event.propertyName == \"$disabled\") {\r\n\t\t\t\t\t\t\t\t\ttoggleElementClass( e, className, e.$disabled === isNegated );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tenabledWatchers.push(e);\r\n\t\t\t\t\t\t\te.$disabled = e.disabled;\r\n\t\t\t\t\t\t\treturn e.disabled === isNegated;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn pseudo == \":enabled\" ? isNegated : !isNegated;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"focus\":\r\n\t\t\t\t\tactivateEventName = \"focus\";\r\n\t\t\t\t\tdeactivateEventName = \"blur\";\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"hover\":\r\n\t\t\t\t\tif (!activateEventName) {\r\n\t\t\t\t\t\tactivateEventName = \"mouseenter\";\r\n\t\t\t\t\t\tdeactivateEventName = \"mouseleave\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tapplyClass = function(e) {\r\n\t\t\t\t\t\taddEvent( e, isNegated ? deactivateEventName : activateEventName, function() {\r\n\t\t\t\t\t\t\ttoggleElementClass( e, className, true );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\taddEvent( e, isNegated ? activateEventName : deactivateEventName, function() {\r\n\t\t\t\t\t\t\ttoggleElementClass( e, className, false );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn isNegated;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t// everything else\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t// If we don't support this pseudo-class don't create\r\n\t\t\t\t\t// a patch for it\r\n\t\t\t\t\tif (!RE_PSEUDO_STRUCTURAL.test(pseudo)) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn { className: className, applyClass: applyClass };\r\n\t}\r\n\r\n\t// --[ applyPatches() ]-------------------------------------------------\r\n\tfunction applyPatches() {\r\n\t\tvar elms, selectorText, patches, domSelectorText;\r\n\r\n\t\tfor (var c=0; c<domPatches.length; c++) {\r\n\t\t\tselectorText = domPatches[c].selector;\r\n\t\t\tpatches = domPatches[c].patches;\r\n\r\n\t\t\t// Although some selector libraries can find :checked :enabled etc.\r\n\t\t\t// we need to find all elements that could have that state because\r\n\t\t\t// it can be changed by the user.\r\n\t\t\tdomSelectorText = selectorText.replace(RE_LIBRARY_INCOMPATIBLE_PSEUDOS, EMPTY_STRING);\r\n\r\n\t\t\t// If the dom selector equates to an empty string or ends with\r\n\t\t\t// whitespace then we need to append a universal selector (*) to it.\r\n\t\t\tif (domSelectorText == EMPTY_STRING || domSelectorText.charAt(domSelectorText.length - 1) == SPACE_STRING) {\r\n\t\t\t\tdomSelectorText += \"*\";\r\n\t\t\t}\r\n\r\n\t\t\t// Ensure we catch errors from the selector library\r\n\t\t\ttry {\r\n\t\t\t\telms = selectorMethod( domSelectorText );\r\n\t\t\t} catch (ex) {\r\n\t\t\t\t// #DEBUG_START\r\n\t\t\t\tlog( \"Selector '\" + selectorText + \"' threw exception '\" + ex + \"'\" );\r\n\t\t\t\t// #DEBUG_END\r\n\t\t\t}\r\n\r\n\t\t\tif (elms) {\r\n\t\t\t\tfor (var d = 0, dl = elms.length; d < dl; d++) {\r\n\t\t\t\t\tvar elm = elms[d];\r\n\t\t\t\t\tvar cssClasses = elm.className;\r\n\t\t\t\t\tfor (var f = 0, fl = patches.length; f < fl; f++) {\r\n\t\t\t\t\t\tvar patch = patches[f];\r\n\t\t\t\t\t\tif (!hasPatch(elm, patch)) {\r\n\t\t\t\t\t\t\tif (patch.applyClass && (patch.applyClass === true || patch.applyClass(elm) === true)) {\r\n\t\t\t\t\t\t\t\tcssClasses = toggleClass(cssClasses, patch.className, true );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telm.className = cssClasses;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// --[ hasPatch() ]-----------------------------------------------------\r\n\t// checks for the existence of a patch on an element\r\n\tfunction hasPatch( elm, patch ) {\r\n\t\treturn new RegExp(\"(^|\\\\s)\" + patch.className + \"(\\\\s|$)\").test(elm.className);\r\n\t}\r\n\r\n\t// =========================== Utility =================================\r\n\r\n\tfunction createClassName( className ) {\r\n\t\treturn namespace + \"-\" + ((ieVersion == 6 && patchIE6MultipleClasses) ?\r\n\t\t\tie6PatchID++\r\n\t\t:\r\n\t\t\tclassName.replace(RE_PATCH_CLASS_NAME_REPLACE, function(a) { return a.charCodeAt(0); }));\r\n\t}\r\n\r\n\t// --[ log() ]----------------------------------------------------------\r\n\t// #DEBUG_START\r\n\tfunction log( message ) {\r\n\t\tif (win.console) {\r\n\t\t\twin.console.log(message);\r\n\t\t}\r\n\t}\r\n\t// #DEBUG_END\r\n\r\n\t// --[ trim() ]---------------------------------------------------------\r\n\t// removes leading, trailing whitespace from a string\r\n\tfunction trim( text ) {\r\n\t\treturn text.replace(RE_TIDY_TRIM_WHITESPACE, PLACEHOLDER_STRING);\r\n\t}\r\n\r\n\t// --[ normalizeWhitespace() ]------------------------------------------\r\n\t// removes leading, trailing and consecutive whitespace from a string\r\n\tfunction normalizeWhitespace( text ) {\r\n\t\treturn trim(text).replace(RE_TIDY_CONSECUTIVE_WHITESPACE, SPACE_STRING);\r\n\t}\r\n\r\n\t// --[ normalizeSelectorWhitespace() ]----------------------------------\r\n\t// tidies whitespace around selector brackets and combinators\r\n\tfunction normalizeSelectorWhitespace( selectorText ) {\r\n\t\treturn normalizeWhitespace(selectorText.\r\n\t\t\treplace(RE_TIDY_TRAILING_WHITESPACE, PLACEHOLDER_STRING).\r\n\t\t\treplace(RE_TIDY_LEADING_WHITESPACE, PLACEHOLDER_STRING)\r\n\t\t);\r\n\t}\r\n\r\n\t// --[ toggleElementClass() ]-------------------------------------------\r\n\t// toggles a single className on an element\r\n\tfunction toggleElementClass( elm, className, on ) {\r\n\t\tvar oldClassName = elm.className;\r\n\t\tvar newClassName = toggleClass(oldClassName, className, on);\r\n\t\tif (newClassName != oldClassName) {\r\n\t\t\telm.className = newClassName;\r\n\t\t\telm.parentNode.className += EMPTY_STRING;\r\n\t\t}\r\n\t}\r\n\r\n\t// --[ toggleClass() ]--------------------------------------------------\r\n\t// adds / removes a className from a string of classNames. Used to\r\n\t// manage multiple class changes without forcing a DOM redraw\r\n\tfunction toggleClass( classList, className, on ) {\r\n\t\tvar re = RegExp(\"(^|\\\\s)\" + className + \"(\\\\s|$)\");\r\n\t\tvar classExists = re.test(classList);\r\n\t\tif (on) {\r\n\t\t\treturn classExists ? classList : classList + SPACE_STRING + className;\r\n\t\t} else {\r\n\t\t\treturn classExists ? trim(classList.replace(re, PLACEHOLDER_STRING)) : classList;\r\n\t\t}\r\n\t}\r\n\r\n\t// --[ addEvent() ]-----------------------------------------------------\r\n\tfunction addEvent(elm, eventName, eventHandler) {\r\n\t\telm.attachEvent(\"on\" + eventName, eventHandler);\r\n\t}\r\n\r\n\t// --[ getXHRObject() ]-------------------------------------------------\r\n\tfunction getXHRObject() {\r\n\t\tif (win.XMLHttpRequest) {\r\n\t\t\treturn new XMLHttpRequest();\r\n\t\t}\r\n\t\ttry\t{\r\n\t\t\treturn new ActiveXObject('Microsoft.XMLHTTP');\r\n\t\t} catch(e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t// --[ loadStyleSheet() ]-----------------------------------------------\r\n\tfunction loadStyleSheet( url ) {\r\n\t\txhr.open(\"GET\", url, false);\r\n\t\txhr.send();\r\n\t\treturn (xhr.status==200) ? (xhr.responseText != null ? xhr.responseText : EMPTY_STRING) : EMPTY_STRING;\r\n\t}\r\n\r\n\t// --[ resolveUrl() ]---------------------------------------------------\r\n\t// Converts a URL fragment to a fully qualified URL using the specified\r\n\t// context URL. Returns null if same-origin policy is broken\r\n\tfunction resolveUrl( url, contextUrl, ignoreSameOriginPolicy ) {\r\n\r\n\t\tfunction getProtocol( url ) {\r\n\t\t\treturn url.substring(0, url.indexOf(\"//\"));\r\n\t\t}\r\n\r\n\t\tfunction getProtocolAndHost( url ) {\r\n\t\t\treturn url.substring(0, url.indexOf(\"/\", 8));\r\n\t\t}\r\n\r\n\t\tif (!contextUrl) {\r\n\t\t\tcontextUrl = baseUrl;\r\n\t\t}\r\n\r\n\t\t// protocol-relative path\r\n\t\tif (url.substring(0,2)==\"//\") {\r\n\t\t\turl = getProtocol(contextUrl) + url;\r\n\t\t}\r\n\r\n\t\t// absolute path\r\n\t\tif (/^https?:\\/\\//i.test(url)) {\r\n\t\t\treturn !ignoreSameOriginPolicy && getProtocolAndHost(contextUrl) != getProtocolAndHost(url) ? null : url ;\r\n\t\t}\r\n\r\n\t\t// root-relative path\r\n\t\tif (url.charAt(0)==\"/\")\t{\r\n\t\t\treturn getProtocolAndHost(contextUrl) + url;\r\n\t\t}\r\n\r\n\t\t// relative path\r\n\t\tvar contextUrlPath = contextUrl.split(/[?#]/)[0]; // ignore query string in the contextUrl\r\n\t\tif (url.charAt(0) != \"?\" && contextUrlPath.charAt(contextUrlPath.length - 1) != \"/\") {\r\n\t\t\tcontextUrlPath = contextUrlPath.substring(0, contextUrlPath.lastIndexOf(\"/\") + 1);\r\n\t\t}\r\n\r\n\t\treturn contextUrlPath + url;\r\n\t}\r\n\r\n\t// --[ parseStyleSheet() ]----------------------------------------------\r\n\t// Downloads the stylesheet specified by the URL, removes it's comments\r\n\t// and recursivly replaces @import rules with their contents, ultimately\r\n\t// returning the full cssText.\r\n\tfunction parseStyleSheet( url ) {\r\n\t\tif (url && url.indexOf(\".css\") !== -1) {\r\n\t\t\treturn loadStyleSheet(url).replace(RE_COMMENT, EMPTY_STRING).\r\n\t\t\treplace(RE_IMPORT, function( match, quoteChar, importUrl, quoteChar2, importUrl2, media ) {\r\n\t\t\t\tvar cssText = parseStyleSheet(resolveUrl(importUrl || importUrl2, url));\r\n\t\t\t\treturn (media) ? \"@media \" + media + \" {\" + cssText + \"}\" : cssText;\r\n\t\t\t}).\r\n\t\t\treplace(RE_ASSET_URL, function( match, isBehavior, quoteChar, assetUrl ) {\r\n\t\t\t\tquoteChar = quoteChar || EMPTY_STRING;\r\n\t\t\t\treturn isBehavior ? match : \" url(\" + quoteChar + resolveUrl(assetUrl, url, true) + quoteChar + \") \";\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn EMPTY_STRING;\r\n\t}\r\n\r\n\t// --[ getStyleSheets() ]-----------------------------------------------\r\n\tfunction getStyleSheets() {\r\n\t\tvar url, stylesheet;\r\n\t\tfor (var c = 0; c < doc.styleSheets.length; c++) {\r\n\t\t\tstylesheet = doc.styleSheets[c];\r\n\t\t\tif (stylesheet.href != EMPTY_STRING) {\r\n\t\t\t\turl = resolveUrl(stylesheet.href);\r\n\t\t\t\tif (url) {\r\n\t\t\t\t\tstylesheet.cssText = stylesheet.rawCssText = patchStyleSheet( parseStyleSheet( url ) );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// --[ init() ]---------------------------------------------------------\r\n\tfunction init() {\r\n\t\tapplyPatches();\r\n\r\n\t\t// :enabled & :disabled polling script (since we can't hook\r\n\t\t// onpropertychange event when an element is disabled)\r\n\t\tif (enabledWatchers.length > 0) {\r\n\t\t\tsetInterval( function() {\r\n\t\t\t\tfor (var c = 0, cl = enabledWatchers.length; c < cl; c++) {\r\n\t\t\t\t\tvar e = enabledWatchers[c];\r\n\t\t\t\t\tif (e.disabled !== e.$disabled) {\r\n\t\t\t\t\t\tif (e.disabled) {\r\n\t\t\t\t\t\t\te.disabled = false;\r\n\t\t\t\t\t\t\te.$disabled = true;\r\n\t\t\t\t\t\t\te.disabled = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\te.$disabled = e.disabled;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, 250);\r\n\t\t}\r\n\t}\r\n\r\n\t// Determine the baseUrl and download the stylesheets\r\n\tvar baseTags = doc.getElementsByTagName(\"BASE\");\r\n\tvar baseUrl = (baseTags.length > 0) ? baseTags[0].href : doc.location.href;\r\n\tgetStyleSheets();\r\n\r\n\t// Bind selectivizr to the ContentLoaded event.\r\n\tContentLoaded(win, function() {\r\n\t\t// Determine the \"best fit\" selector engine\r\n\t\tfor (var engine in selectorEngines) {\r\n\t\t\tvar members, member, context = win;\r\n\t\t\tif (win[engine]) {\r\n\t\t\t\tmembers = selectorEngines[engine].replace(\"*\", engine).split(\".\");\r\n\t\t\t\twhile ((member = members.shift()) && (context = context[member])) {}\r\n\t\t\t\tif (typeof context == \"function\") {\r\n\t\t\t\t\tselectorMethod = context;\r\n\t\t\t\t\tinit();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/*!\r\n\t * ContentLoaded.js by Diego Perini, modified for IE<9 only (to save space)\r\n\t *\r\n\t * Author: Diego Perini (diego.perini at gmail.com)\r\n\t * Summary: cross-browser wrapper for DOMContentLoaded\r\n\t * Updated: 20101020\r\n\t * License: MIT\r\n\t * Version: 1.2\r\n\t *\r\n\t * URL:\r\n\t * http://javascript.nwbox.com/ContentLoaded/\r\n\t * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE\r\n\t *\r\n\t */\r\n\r\n\t// @w window reference\r\n\t// @f function reference\r\n\tfunction ContentLoaded(win, fn) {\r\n\r\n\t\tvar done = false, top = true,\r\n\t\tinit = function(e) {\r\n\t\t\tif (e.type == \"readystatechange\" && doc.readyState != \"complete\") return;\r\n\t\t\t(e.type == \"load\" ? win : doc).detachEvent(\"on\" + e.type, init, false);\r\n\t\t\tif (!done && (done = true)) fn.call(win, e.type || e);\r\n\t\t},\r\n\t\tpoll = function() {\r\n\t\t\ttry { root.doScroll(\"left\"); } catch(e) { setTimeout(poll, 50); return; }\r\n\t\t\tinit('poll');\r\n\t\t};\r\n\r\n\t\tif (doc.readyState == \"complete\") fn.call(win, EMPTY_STRING);\r\n\t\telse {\r\n\t\t\tif (doc.createEventObject && root.doScroll) {\r\n\t\t\t\ttry { top = !win.frameElement; } catch(e) { }\r\n\t\t\t\tif (top) poll();\r\n\t\t\t}\r\n\t\t\taddEvent(doc,\"readystatechange\", init);\r\n\t\t\taddEvent(win,\"load\", init);\r\n\t\t}\r\n\t}\r\n})(this);\r\n\n/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */\n/*! NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part */\n(function(w) {\n  \"use strict\";\n  w.matchMedia = w.matchMedia || function(doc, undefined) {\n    var bool, docElem = doc.documentElement, refNode = docElem.firstElementChild || docElem.firstChild, fakeBody = doc.createElement(\"body\"), div = doc.createElement(\"div\");\n    div.id = \"mq-test-1\";\n    div.style.cssText = \"position:absolute;top:-100em\";\n    fakeBody.style.background = \"none\";\n    fakeBody.appendChild(div);\n    return function(q) {\n      div.innerHTML = '&shy;<style media=\"' + q + '\"> #mq-test-1 { width: 42px; }</style>';\n      docElem.insertBefore(fakeBody, refNode);\n      bool = div.offsetWidth === 42;\n      docElem.removeChild(fakeBody);\n      return {\n        matches: bool,\n        media: q\n      };\n    };\n  }(w.document);\n})(this);\n\n/*! Respond.js v1.4.0: min/max-width media query polyfill. (c) Scott Jehl. MIT Lic. j.mp/respondjs  */\n(function(w) {\n  \"use strict\";\n  var respond = {};\n  w.respond = respond;\n  respond.update = function() {};\n  var requestQueue = [], xmlHttp = function() {\n    var xmlhttpmethod = false;\n    try {\n      xmlhttpmethod = new w.XMLHttpRequest();\n    } catch (e) {\n      xmlhttpmethod = new w.ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    return function() {\n      return xmlhttpmethod;\n    };\n  }(), ajax = function(url, callback) {\n    var req = xmlHttp();\n    if (!req) {\n      return;\n    }\n    req.open(\"GET\", url, true);\n    req.onreadystatechange = function() {\n      if (req.readyState !== 4 || req.status !== 200 && req.status !== 304) {\n        return;\n      }\n      callback(req.responseText);\n    };\n    if (req.readyState === 4) {\n      return;\n    }\n    req.send(null);\n  };\n  respond.ajax = ajax;\n  respond.queue = requestQueue;\n  respond.regex = {\n    media: /@media[^\\{]+\\{([^\\{\\}]*\\{[^\\}\\{]*\\})+/gi,\n    keyframes: /@(?:\\-(?:o|moz|webkit)\\-)?keyframes[^\\{]+\\{(?:[^\\{\\}]*\\{[^\\}\\{]*\\})+[^\\}]*\\}/gi,\n    urls: /(url\\()['\"]?([^\\/\\)'\"][^:\\)'\"]+)['\"]?(\\))/g,\n    findStyles: /@media *([^\\{]+)\\{([\\S\\s]+?)$/,\n    only: /(only\\s+)?([a-zA-Z]+)\\s?/,\n    minw: /\\([\\s]*min\\-width\\s*:[\\s]*([\\s]*[0-9\\.]+)(px|em)[\\s]*\\)/,\n    maxw: /\\([\\s]*max\\-width\\s*:[\\s]*([\\s]*[0-9\\.]+)(px|em)[\\s]*\\)/\n  };\n  respond.mediaQueriesSupported = w.matchMedia && w.matchMedia(\"only all\") !== null && w.matchMedia(\"only all\").matches;\n  if (respond.mediaQueriesSupported) {\n    return;\n  }\n  var doc = w.document, docElem = doc.documentElement, mediastyles = [], rules = [], appendedEls = [], parsedSheets = {}, resizeThrottle = 30, head = doc.getElementsByTagName(\"head\")[0] || docElem, base = doc.getElementsByTagName(\"base\")[0], links = head.getElementsByTagName(\"link\"), lastCall, resizeDefer, eminpx, getEmValue = function() {\n    var ret, div = doc.createElement(\"div\"), body = doc.body, originalHTMLFontSize = docElem.style.fontSize, originalBodyFontSize = body && body.style.fontSize, fakeUsed = false;\n    div.style.cssText = \"position:absolute;font-size:1em;width:1em\";\n    if (!body) {\n      body = fakeUsed = doc.createElement(\"body\");\n      body.style.background = \"none\";\n    }\n    docElem.style.fontSize = \"100%\";\n    body.style.fontSize = \"100%\";\n    body.appendChild(div);\n    if (fakeUsed) {\n      docElem.insertBefore(body, docElem.firstChild);\n    }\n    ret = div.offsetWidth;\n    if (fakeUsed) {\n      docElem.removeChild(body);\n    } else {\n      body.removeChild(div);\n    }\n    docElem.style.fontSize = originalHTMLFontSize;\n    if (originalBodyFontSize) {\n      body.style.fontSize = originalBodyFontSize;\n    }\n    ret = eminpx = parseFloat(ret);\n    return ret;\n  }, applyMedia = function(fromResize) {\n    var name = \"clientWidth\", docElemProp = docElem[name], currWidth = doc.compatMode === \"CSS1Compat\" && docElemProp || doc.body[name] || docElemProp, styleBlocks = {}, lastLink = links[links.length - 1], now = new Date().getTime();\n    if (fromResize && lastCall && now - lastCall < resizeThrottle) {\n      w.clearTimeout(resizeDefer);\n      resizeDefer = w.setTimeout(applyMedia, resizeThrottle);\n      return;\n    } else {\n      lastCall = now;\n    }\n    for (var i in mediastyles) {\n      if (mediastyles.hasOwnProperty(i)) {\n        var thisstyle = mediastyles[i], min = thisstyle.minw, max = thisstyle.maxw, minnull = min === null, maxnull = max === null, em = \"em\";\n        if (!!min) {\n          min = parseFloat(min) * (min.indexOf(em) > -1 ? eminpx || getEmValue() : 1);\n        }\n        if (!!max) {\n          max = parseFloat(max) * (max.indexOf(em) > -1 ? eminpx || getEmValue() : 1);\n        }\n        if (!thisstyle.hasquery || (!minnull || !maxnull) && (minnull || currWidth >= min) && (maxnull || currWidth <= max)) {\n          if (!styleBlocks[thisstyle.media]) {\n            styleBlocks[thisstyle.media] = [];\n          }\n          styleBlocks[thisstyle.media].push(rules[thisstyle.rules]);\n        }\n      }\n    }\n    for (var j in appendedEls) {\n      if (appendedEls.hasOwnProperty(j)) {\n        if (appendedEls[j] && appendedEls[j].parentNode === head) {\n          head.removeChild(appendedEls[j]);\n        }\n      }\n    }\n    appendedEls.length = 0;\n    for (var k in styleBlocks) {\n      if (styleBlocks.hasOwnProperty(k)) {\n        var ss = doc.createElement(\"style\"), css = styleBlocks[k].join(\"\\n\");\n        ss.type = \"text/css\";\n        ss.media = k;\n        head.insertBefore(ss, lastLink.nextSibling);\n        if (ss.styleSheet) {\n          ss.styleSheet.cssText = css;\n        } else {\n          ss.appendChild(doc.createTextNode(css));\n        }\n        appendedEls.push(ss);\n      }\n    }\n  }, translate = function(styles, href, media) {\n    var qs = styles.replace(respond.regex.keyframes, \"\").match(respond.regex.media), ql = qs && qs.length || 0;\n    href = href.substring(0, href.lastIndexOf(\"/\"));\n    var repUrls = function(css) {\n      return css.replace(respond.regex.urls, \"$1\" + href + \"$2$3\");\n    }, useMedia = !ql && media;\n    if (href.length) {\n      href += \"/\";\n    }\n    if (useMedia) {\n      ql = 1;\n    }\n    for (var i = 0; i < ql; i++) {\n      var fullq, thisq, eachq, eql;\n      if (useMedia) {\n        fullq = media;\n        rules.push(repUrls(styles));\n      } else {\n        fullq = qs[i].match(respond.regex.findStyles) && RegExp.$1;\n        rules.push(RegExp.$2 && repUrls(RegExp.$2));\n      }\n      eachq = fullq.split(\",\");\n      eql = eachq.length;\n      for (var j = 0; j < eql; j++) {\n        thisq = eachq[j];\n        mediastyles.push({\n          media: thisq.split(\"(\")[0].match(respond.regex.only) && RegExp.$2 || \"all\",\n          rules: rules.length - 1,\n          hasquery: thisq.indexOf(\"(\") > -1,\n          minw: thisq.match(respond.regex.minw) && parseFloat(RegExp.$1) + (RegExp.$2 || \"\"),\n          maxw: thisq.match(respond.regex.maxw) && parseFloat(RegExp.$1) + (RegExp.$2 || \"\")\n        });\n      }\n    }\n    applyMedia();\n  }, makeRequests = function() {\n    if (requestQueue.length) {\n      var thisRequest = requestQueue.shift();\n      ajax(thisRequest.href, function(styles) {\n        translate(styles, thisRequest.href, thisRequest.media);\n        parsedSheets[thisRequest.href] = true;\n        w.setTimeout(function() {\n          makeRequests();\n        }, 0);\n      });\n    }\n  }, ripCSS = function() {\n    for (var i = 0; i < links.length; i++) {\n      var sheet = links[i], href = sheet.href, media = sheet.media, isCSS = sheet.rel && sheet.rel.toLowerCase() === \"stylesheet\";\n      if (!!href && isCSS && !parsedSheets[href]) {\n        if (sheet.styleSheet && sheet.styleSheet.rawCssText) {\n          translate(sheet.styleSheet.rawCssText, href, media);\n          parsedSheets[href] = true;\n        } else {\n          if (!/^([a-zA-Z:]*\\/\\/)/.test(href) && !base || href.replace(RegExp.$1, \"\").split(\"/\")[0] === w.location.host) {\n            if (href.substring(0, 2) === \"//\") {\n              href = w.location.protocol + href;\n            }\n            requestQueue.push({\n              href: href,\n              media: media\n            });\n          }\n        }\n      }\n    }\n    makeRequests();\n  };\n  ripCSS();\n  respond.update = ripCSS;\n  respond.getEmValue = getEmValue;\n  function callMedia() {\n    applyMedia(true);\n  }\n  if (w.addEventListener) {\n    w.addEventListener(\"resize\", callMedia, false);\n  } else if (w.attachEvent) {\n    w.attachEvent(\"onresize\", callMedia);\n  }\n})(this);\n/*!\n    Copyright (c) 2009, 280 North Inc. http://280north.com/\n    MIT License. http://github.com/280north/narwhal/blob/master/README.md\n*/\n\n// @codekit-prepend \"array/isArray.js\";\n// @codekit-prepend \"array/every.js\";\n// @codekit-prepend \"array/filter.js\";\n// @codekit-prepend \"array/forEach.js\";\n// @codekit-prepend \"array/indexOf.js\";\n// @codekit-prepend \"array/lastIndexOf.js\";\n// @codekit-prepend \"array/map.js\";\n// @codekit-prepend \"array/reduce.js\";\n// @codekit-prepend \"array/reduceRight.js\";\n// @codekit-prepend \"array/some.js\";\n\n// @codekit-prepend \"date/now.js\";\n// @codekit-prepend \"date/parse.js\";\n// @codekit-prepend \"date/toISOString.js\";\n// @codekit-prepend \"date/toJSON.js\";\n\n// @codekit-prepend \"function/bind.js\";\n\n// @codekit-prepend \"object/create.js\";\n// @codekit-prepend \"object/defineProperties.js\";\n// @codekit-prepend \"object/defineProperty.js\";\n// @codekit-prepend \"object/freeze.js\";\n// @codekit-prepend \"object/getOwnPropertyDescriptor.js\";\n// @codekit-prepend \"object/getOwnPropertyNames.js\";\n// @codekit-prepend \"object/getPrototypeOf.js\";\n// @codekit-prepend \"object/isExtensible.js\";\n// @codekit-prepend \"object/isFrozen.js\";\n// @codekit-prepend \"object/isSealed.js\";\n// @codekit-prepend \"object/keys.js\";\n// @codekit-prepend \"object/preventExtensions.js\";\n// @codekit-prepend \"object/seal.js\";\n\n// @codekit-prepend \"string/trim.js\";\n// addEventListener\n// removeEventListener\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener?redirectlocale=en-US&redirectslug=DOM%2FEventTarget.addEventListener#Compatibility\n\n(function() {\n  if (!Element.prototype.addEventListener) {\n    var eventListeners=[];\n    \n    var addEventListener=function(type,listener /*, useCapture (will be ignored) */) {\n      var self=this;\n      var wrapper=function(e) {\n        e.target=e.srcElement;\n        e.currentTarget=self;\n        if (typeof listener.handleEvent != 'undefined') {\n          listener.handleEvent(e);\n        } else {\n          listener.call(self,e);\n        }\n      };\n      if (type==\"DOMContentLoaded\") {\n        var wrapper2=function(e) {\n          if (document.readyState==\"complete\") {\n            wrapper(e);\n          }\n        };\n        document.attachEvent(\"onreadystatechange\",wrapper2);\n        eventListeners.push({object:this,type:type,listener:listener,wrapper:wrapper2});\n        \n        if (document.readyState==\"complete\") {\n          var e=new Event();\n          e.srcElement=window;\n          wrapper2(e);\n        }\n      } else {\n        this.attachEvent(\"on\"+type,wrapper);\n        eventListeners.push({object:this,type:type,listener:listener,wrapper:wrapper});\n      }\n    };\n    var removeEventListener=function(type,listener /*, useCapture (will be ignored) */) {\n      var counter=0;\n      while (counter<eventListeners.length) {\n        var eventListener=eventListeners[counter];\n        if (eventListener.object==this && eventListener.type==type && eventListener.listener==listener) {\n          if (type==\"DOMContentLoaded\") {\n            this.detachEvent(\"onreadystatechange\",eventListener.wrapper);\n          } else {\n            this.detachEvent(\"on\"+type,eventListener.wrapper);\n          }\n          eventListeners.splice(counter, 1);\n          break;\n        }\n        ++counter;\n      }\n    };\n    Element.prototype.addEventListener=addEventListener;\n    Element.prototype.removeEventListener=removeEventListener;\n    if (HTMLDocument) {\n      HTMLDocument.prototype.addEventListener=addEventListener;\n      HTMLDocument.prototype.removeEventListener=removeEventListener;\n    }\n    if (Window) {\n      Window.prototype.addEventListener=addEventListener;\n      Window.prototype.removeEventListener=removeEventListener;\n    }\n  }\n})();\n// Element.childElementCount\n\n(function () {\n  \"use strict\";\n\n  if (!(\"childElementCount\" in document.documentElement)) {\n    Object.defineProperty(Element.prototype, \"childElementCount\", {\n      get: function(){\n        for(var c = 0, nodes = this.children, i = 0, l = nodes.length; i < l; ++i) {\n          if(nodes[i].nodeType === 1) { ++c; }\n        }\n        return c;\n      }\n    });\n  }\n})();\n// Element.firstElementChild\n\n(function () {\n  \"use strict\";\n\n  if (!(\"firstElementChild\" in document.documentElement)) {\n    Object.defineProperty(Element.prototype, \"firstElementChild\", {\n      get: function(){\n        for(var nodes = this.children, n, i = 0, l = nodes.length; i < l; ++i) {\n          if(n = nodes[i], 1 === n.nodeType) { return n; }\n        }\n        return null;\n      }\n    });\n  }\n})();\n// getComputedStyle\n\n(function(){\n  \"use strict\";\n  \n  if(!window.getComputedStyle){\n    window.getComputedStyle = function(el){\n      if(!el) { return null; }\n      \n      /**\n       * currentStyle returns an instance of a non-standard class called \"CSSCurrentStyleDeclaration\"\n       * instead of \"CSSStyleDeclaration\", which has a few methods and properties missing (such as cssText).\n       * https://msdn.microsoft.com/en-us/library/cc848941(v=vs.85).aspx\n       *\n       * Instead of returning the currentStyle value directly, we'll copy its properties to the style\n       * of a shadow element. This ensures cssText is included, and ensures the result is an instance of\n       * the correct DOM interface.\n       *\n       * There'll still be some minor discrepancies in the style values. For example, IE preserves the way\n       * colour values were authored, whereas standards-compliant browsers will expand colours to use \"rgb()\"\n       * notation. We won't bother to fix things like these, as they'd involve too much fiddling for little\n       * gain.\n       */\n      \n      var style   = el.currentStyle;\n      var box     = el.getBoundingClientRect();\n      var shadow  = document.createElement(\"div\");\n      var output  = shadow.style;\n      for(var i in style) {\n        output[i] = style[i];\n      }\n      \n      /** Fix some glitches */\n      output.cssFloat = output.styleFloat;\n      if(\"auto\" === output.width) { output.width  = (box.right - box.left) + \"px\"; }\n      if(\"auto\" === output.height) { output.height = (box.bottom - box.top) + \"px\"; }\n      return output;\n    };\n  } \n})();\n// window.innerHeight\n\n(function () {\n  \"use strict\";\n\n  if(!(\"innerHeight\" in window)){\n    Object.defineProperty(window, \"innerHeight\", {\n      get: function(){ \n        return (document.documentElement || document.body.parentNode || document.body).clientHeight; \n      }\n    });\n  }\n})();\n// window.innerWidth\n\n(function () {\n  \"use strict\";\n\n  if(!(\"innerWidth\" in window)){\n    Object.defineProperty(window, \"innerWidth\",  {\n      get: function(){ \n        return (document.documentElement || document.body.parentNode || document.body).clientWidth; \n      }\n    });\n  }\n})();\n// Element.lastElementChild\n\n(function () {\n  \"use strict\";\n\n  if (!(\"lastElementChild\" in document.documentElement)) {\n    Object.defineProperty(Element.prototype, \"lastElementChild\", {\n      get: function(){\n        for(var nodes = this.children, n, i = nodes.length - 1; i >= 0; --i) {\n          if(n = nodes[i], 1 === n.nodeType) { return n; }\n        }\n        return null;\n      }\n    });\n  }\n})();\n// Element.nextElementSibling\n\n(function () {\n  \"use strict\";\n\n  if (!(\"nextElementSibling\" in document.documentElement)) {\n    Object.defineProperty(Element.prototype, \"nextElementSibling\", {\n      get: function(){\n        var e = this.nextSibling;\n        while(e && 1 !== e.nodeType) {\n          e = e.nextSibling;\n        }\n        return e;\n      }\n    });\n  }\n})();\n// event.pageX / event.pageY\n\n(function () {\n  \"use strict\";\n\n  if(!window.MouseEvent && !(\"pageX\" in Event.prototype)){\n    Object.defineProperty(Event.prototype, \"pageX\", {\n      get: function(){ \n        return this.clientX + window.pageXOffset; \n      }\n    });\n    Object.defineProperty(Event.prototype, \"pageY\", {\n      get: function(){ \n        return this.clientY + window.pageYOffset; \n      }\n    });\n  }\n})();\n// window.pageXOffset / window.pageYOffset / window.scrollX / window.scrollY\n\n(function () {\n  \"use strict\";\n\n  if(!(\"pageXOffset\" in window)) {\n    var x = function(){ return (document.documentElement || document.body.parentNode || document.body).scrollLeft; },\n        y = function(){ return (document.documentElement || document.body.parentNode || document.body).scrollTop;  };\n\n    Object.defineProperty(window, \"pageXOffset\", {get: x});\n    Object.defineProperty(window, \"pageYOffset\", {get: y});\n    Object.defineProperty(window, \"scrollX\",     {get: x});\n    Object.defineProperty(window, \"scrollY\",     {get: y});\n  }\n})();\n\n// IE8 preventDefault\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener?redirectlocale=en-US&redirectslug=DOM%2FEventTarget.addEventListener#Compatibility\n\n(function() {\n  if (!Event.prototype.preventDefault) {\n    Event.prototype.preventDefault=function() {\n      this.returnValue=false;\n    };\n  }\n})();\n// Element.previousElementSibling\n\n(function () {\n  \"use strict\";\n\n  if (!(\"previousElementSibling\" in document.documentElement)) {\n    Object.defineProperty(Element.prototype, \"previousElementSibling\", {\n      get: function(){\n        var e = this.previousSibling;\n        while(e && 1 !== e.nodeType) {\n          e = e.previousSibling;\n        }\n        return e;\n      }\n    });\n  }\n})();\n// IE8 stopPropagation\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener?redirectlocale=en-US&redirectslug=DOM%2FEventTarget.addEventListener#Compatibility\n\n(function() {\n  if (!Event.prototype.stopPropagation) {\n    Event.prototype.stopPropagation=function() {\n      this.cancelBubble=true;\n    };\n  }\n})();\n// textContent\n\n(function(){\n  \"use strict\";\n  \n  if(!(\"textContent\" in Element.prototype)){\n    var interfaces = \"Element Text HTMLDocument HTMLCommentElement\".split(\" \");\n    var haveText   = {3:1, 8:1, 4:1, 7:1};\n    var haveNull   = {9:1, 10:1, 12:1};\n    var srcTags    = {SCRIPT:1, STYLE:1};\n    for(var I, i = 0; i < 4; ++i){\n      I = window[interfaces[i]];\n      I && Object.defineProperty(I.prototype, \"textContent\", {\n        get: function(){ return getText(this); },\n        set: function(input){\n          var type = this.nodeType;\n          \n          /** Text nodes: set nodeValue */\n          if(haveText[type]) {\n            this.nodeValue = input;\n          } else if(!haveNull[type]){\n            /** For everything that isn't a document, DOCTYPE or notation */\n            var name = this.nodeName;\n            \n            /** IE8 throws a runtime error trying to set the innerHTML of a <style> element */\n            if(\"STYLE\" === name) {\n              this.styleSheet.cssText = input;\n            } else if(srcTags[name]) {\n              /** Scripts have a similar issue */\n              this.text = input;\n            } else {\n              this.innerText = input;\n            } \n          }\n        },\n      });\n    }\n    \n    \n    function getText(node){\n      var type = node.nodeType;\n      \n      /** Return `nodeValue` if input is a text node, comment, CDATA section, or processing instruction */\n      if(haveText[type]) {\n        return node.nodeValue;\n      }\n      \n      /** Return null for documents, DOCTYPE declarations, and notations */\n      if(haveNull[type]) {\n        return null;\n      }\n      \n      /** Use the innerHTML property of <script> and <style> tags */\n      var name = node.nodeName;\n      if(name && srcTags[name]) {\n        return node.innerHTML;\n      }\n      \n      \n      /** Everything else: Concatenate the textContent of each child node, except comments and processing instructions */\n      var result   = \"\";\n      var children = node.childNodes;\n      for(var i = 0, l = children.length; i < l; ++i){\n        var child = children[i];\n        if(child.nodeType !== 7 && child.nodeType !== 8) {\n          result += child.textContent;\n        }\n      }\n      \n      return result;\n    }\n  } \n})();"],"sourceRoot":"/source/"}