{"version":3,"sources":["go-native.ie8.js"],"names":["global","factory","module","exports","browserGlobal","console","parseInt","Function","Boolean","Number","RegExp","String","Object","Array","Error","Date","Math","NW","Dom","this","isSingleMatch","isSingleSelect","lastSlice","lastContext","lastPosition","lastMatcher","lastSelector","lastPartsMatch","lastPartsSelect","BUGGY_QUIRKS_GEBCN","BUGGY_QUIRKS_QSAPI","QUIRKS_MODE","XML_DOCUMENT","version","doc","document","root","documentElement","slice","prototype","string","toString","prefixes","operators","whitespace","combinators","pseudoparms","quotedvalue","skipround","skipcurly","skipsquare","skipgroup","encoding","identifier","attrcheck","attributes","attrmatcher","replace","pseudoclass","extensions","standardValidator","extendedValidator","reValidator","reTrimSpaces","reSimpleNot","reSplitGroup","reSplitToken","reWhiteSpace","reOptimizeSelector","isNative","re","isnative","method","NATIVE_FOCUS","hasFocus","NATIVE_QSAPI","querySelector","NATIVE_GEBID","getElementById","NATIVE_GEBTN","getElementsByTagName","NATIVE_GEBCN","getElementsByClassName","NATIVE_GET_ATTRIBUTE","getAttribute","NATIVE_HAS_ATTRIBUTE","hasAttribute","NATIVE_SLICE_PROTO","isBuggy","call","childNodes","e","NATIVE_TRAVERSAL_API","BUGGY_GEBID","x","a","createElementNS","createElement","name","insertBefore","firstChild","removeChild","BUGGY_GEBTN","div","appendChild","createComment","BUGGY_GEBCN","test","setAttribute","lastChild","className","length","BUGGY_GET_ATTRIBUTE","input","defaultValue","BUGGY_HAS_ATTRIBUTE","option","BUGGY_SELECTED","select","selected","OPERA","opera","OPERA_QSAPI","parseFloat","RE_BUGGY_QSAPI","context","element","pattern","expect","selector","n","result","querySelectorAll","implementation","createDocument","parentNode","innerHTML","push","join","RE_CLASS","RE_SIMPLE_SELECTOR","LINK_NODES","A","area","AREA","link","LINK","ATTR_BOOLEAN","checked","disabled","ismap","multiple","readonly","ATTR_DEFAULT","value","ATTR_URIDATA","action","cite","codebase","data","href","longdesc","lowsrc","src","usemap","HTML_TABLE","class","accept","accept-charset","align","alink","axis","bgcolor","charset","clear","codetype","color","compact","declare","defer","dir","direction","enctype","face","frame","hreflang","http-equiv","lang","language","media","nohref","noresize","noshade","nowrap","rel","rev","rules","scope","scrolling","shape","target","text","type","valign","valuetype","vlink","XHTML_TABLE","Selectors","Operators","=","^=","*=","|=","~=","$=","Optimize","ID","TAG","CLASS","Patterns","spseudos","dpseudos","attribute","children","adjacent","relative","ancestor","universal","id","tagName","concatList","elements","i","concatCall","callback","switchContext","from","force","oldDoc","ownerDocument","nodeName","compatMode","style","width","indexOf","Config","CACHING","setCache","convertEscapes","str","substring","p1","p2","codePoint","highHex","highSurrogate","lowHex","lowSurrogate","substr","byIdRaw","_byId","nodeType","getElementsByName","byId","byTagRaw","tag","any","next","toUpperCase","nextSibling","_byTag","j","byTag","byName","byClassRaw","toLowerCase","_byClass","byClass","contains","container","compareDocumentPosition","node","getAttributeNode","obj","specified","isEmpty","isLink","nthElement","last","count","succ","nthOfType","configure","matchContexts","matchResolvers","selectContexts","selectResolvers","SIMPLENOT","emit","message","VERBOSITY","log","SHORTCUTS","UNIQUE_ID","USE_HTML5","USE_QSAPI","ACCEPT_NODE","compile","source","mode","parts","match","compileSelector","token","seen","FILTER","b","expr","status","k","split","Expression","Callback","shortcuts","Snapshot","first","changed","original","arguments","loadResults","charAt","saveResults","els","FN","Tokens","Version","registerOperator","symbol","resolver","registerSelector","rexp","func","win","patchStyleSheet","cssText","RE_PSEUDO_ELEMENTS","PLACEHOLDER_STRING","RE_SELECTOR_GROUP","m","prefix","selectorText","comboBreaker","combinator","pseudo","index","patches","domPatches","patch","patchPseudoClass","patchAttribute","selectorGroups","c","cs","normalizeSelectorWhitespace","SPACE_STRING","RE_SELECTOR_PARSE","attr","BROKEN_ATTR_IMPLEMENTATIONS","createClassName","applyClass","activateEventName","deactivateEventName","isNegated","bracketIndex","ieVersion","handler","hash","location","hashID","EMPTY_STRING","addEvent","toggleElementClass","RE_INPUT_CHECKABLE_TYPES","event","propertyName","RE_INPUT_ELEMENTS","$disabled","enabledWatchers","RE_PSEUDO_STRUCTURAL","applyPatches","elms","domSelectorText","RE_LIBRARY_INCOMPATIBLE_PSEUDOS","selectorMethod","ex","d","dl","elm","cssClasses","f","fl","hasPatch","toggleClass","namespace","patchIE6MultipleClasses","ie6PatchID","RE_PATCH_CLASS_NAME_REPLACE","charCodeAt","trim","RE_TIDY_TRIM_WHITESPACE","normalizeWhitespace","RE_TIDY_CONSECUTIVE_WHITESPACE","RE_TIDY_TRAILING_WHITESPACE","RE_TIDY_LEADING_WHITESPACE","on","oldClassName","newClassName","classList","classExists","eventName","eventHandler","attachEvent","getXHRObject","XMLHttpRequest","ActiveXObject","loadStyleSheet","url","xhr","open","send","responseText","resolveUrl","contextUrl","ignoreSameOriginPolicy","getProtocol","getProtocolAndHost","baseUrl","contextUrlPath","lastIndexOf","parseStyleSheet","RE_COMMENT","RE_IMPORT","quoteChar","importUrl","quoteChar2","importUrl2","RE_ASSET_URL","isBehavior","assetUrl","getStyleSheets","stylesheet","styleSheets","rawCssText","init","setInterval","cl","ContentLoaded","fn","done","top","readyState","detachEvent","poll","doScroll","setTimeout","createEventObject","frameElement","ieUserAgent","navigator","userAgent","selectorEngines","MooTools","DOMAssistant","Prototype","YAHOO","Sizzle","jQuery","dojo","baseTags","engine","members","member","shift","w","matchMedia","undefined","bool","docElem","refNode","firstElementChild","fakeBody","background","q","offsetWidth","matches","callMedia","applyMedia","respond","update","requestQueue","xmlHttp","xmlhttpmethod","ajax","req","onreadystatechange","queue","regex","keyframes","urls","findStyles","only","minw","maxw","mediaQueriesSupported","lastCall","resizeDefer","eminpx","mediastyles","appendedEls","parsedSheets","resizeThrottle","head","base","links","getEmValue","ret","body","originalHTMLFontSize","fontSize","originalBodyFontSize","fakeUsed","fromResize","docElemProp","currWidth","styleBlocks","lastLink","now","getTime","clearTimeout","hasOwnProperty","thisstyle","min","max","minnull","maxnull","em","hasquery","ss","css","styleSheet","createTextNode","translate","styles","qs","ql","repUrls","useMedia","fullq","thisq","eachq","eql","$1","$2","makeRequests","thisRequest","ripCSS","sheet","isCSS","host","protocol","addEventListener","Element","eventListeners","listener","self","wrapper","srcElement","currentTarget","handleEvent","wrapper2","object","Event","window","removeEventListener","counter","eventListener","splice","HTMLDocument","Window","defineProperty","get","nodes","l","getComputedStyle","el","currentStyle","box","getBoundingClientRect","shadow","output","cssFloat","styleFloat","right","left","height","bottom","clientHeight","clientWidth","MouseEvent","clientX","pageXOffset","clientY","pageYOffset","scrollLeft","y","scrollTop","preventDefault","returnValue","previousSibling","stopPropagation","cancelBubble","getText","haveText","nodeValue","haveNull","srcTags","child","textContent","I","interfaces","3","8","4","7","9","10","12","SCRIPT","STYLE","set","innerText"],"mappings":"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","file":"go-native.ie8.min.js","sourcesContent":["/*\n * Copyright (C) 2007-2015 Diego Perini\n * All rights reserved.\n *\n * nwmatcher.js - A fast CSS selector engine and matcher\n *\n * Author: Diego Perini <diego.perini at gmail com>\n * Version: 1.3.6\n * Created: 20070722\n * Release: 20150710\n *\n * License:\n *  http://javascript.nwbox.com/NWMatcher/MIT-LICENSE\n * Download:\n *  http://javascript.nwbox.com/NWMatcher/nwmatcher.js\n */\n\n(function(global, factory) {\n\n  if (typeof module == 'object' && typeof exports == 'object') {\n    // in a Node.js environment, the nwmatcher functions will operate on\n    // the passed \"browserGlobal\" and will be returned in an object\n    module.exports = function (browserGlobal) {\n      // passed global does not contain\n      // references to native objects\n      browserGlobal.console = console;\n      browserGlobal.parseInt = parseInt;\n      browserGlobal.Function = Function;\n      browserGlobal.Boolean = Boolean;\n      browserGlobal.Number = Number;\n      browserGlobal.RegExp = RegExp;\n      browserGlobal.String = String;\n      browserGlobal.Object = Object;\n      browserGlobal.Array = Array;\n      browserGlobal.Error = Error;\n      browserGlobal.Date = Date;\n      browserGlobal.Math = Math;\n      var exports = browserGlobal.Object();\n      factory(browserGlobal, exports);\n      return exports;\n    };\n    module.factory = factory;\n  } else {\n    // in a browser environment, the nwmatcher functions will operate on\n    // the \"global\" loading them and be attached to \"global.NW.Dom\"\n    factory(global,\n      (global.NW || (global.NW = global.Object())) &&\n      (global.NW.Dom || (global.NW.Dom = global.Object())));\n    global.NW.Dom.factory = factory;\n  }\n\n})(this, function(global, exports) {\n\n  var version = 'nwmatcher-1.3.6',\n\n  Dom = exports,\n\n  // processing context & root element\n  doc = global.document,\n  root = doc.documentElement,\n\n  // save utility methods references\n  slice = global.Array.prototype.slice,\n  string = global.Object.prototype.toString,\n\n  // persist previous parsed data\n  isSingleMatch,\n  isSingleSelect,\n\n  lastSlice,\n  lastContext,\n  lastPosition,\n\n  lastMatcher,\n  lastSelector,\n\n  lastPartsMatch,\n  lastPartsSelect,\n\n  // accepted prefix identifiers\n  // (id, class & pseudo-class)\n  prefixes = '[#.:]?',\n\n  // accepted attribute operators\n  operators = '([~*^$|!]?={1})',\n\n  // accepted whitespace characters\n  whitespace = '[\\\\x20\\\\t\\\\n\\\\r\\\\f]*',\n\n  // 4 combinators F E, F>E, F+E, F~E\n  combinators = '[\\\\x20]|[>+~][^>+~]',\n\n  // an+b format params for pseudo-classes\n  pseudoparms = '(?:[-+]?\\\\d*n)?[-+]?\\\\d*',\n\n  // CSS quoted string values\n  quotedvalue = '\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*\"' + \"|'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*'\",\n\n  // skip round brackets groups\n  skipround = '\\\\([^()]+\\\\)|\\\\(.*\\\\)',\n  // skip curly brackets groups\n  skipcurly = '\\\\{[^{}]+\\\\}|\\\\{.*\\\\}',\n  // skip square brackets groups\n  skipsquare = '\\\\[[^[\\\\]]*\\\\]|\\\\[.*\\\\]',\n\n  // skip [ ], ( ), { } brackets groups\n  skipgroup = '\\\\[.*\\\\]|\\\\(.*\\\\)|\\\\{.*\\\\}',\n\n  // http://www.w3.org/TR/css3-syntax/#characters\n  // unicode/ISO 10646 characters 161 and higher\n  // NOTE: Safari 2.0.x crashes with escaped (\\\\)\n  // Unicode ranges in regular expressions so we\n  // use a negated character range class instead\n  encoding = '(?:[-\\\\w]|[^\\\\x00-\\\\xa0]|\\\\\\\\.)',\n\n  // CSS identifier syntax\n  identifier = '(?:-?[_a-zA-Z]{1}[-\\\\w]*|[^\\\\x00-\\\\xa0]+|\\\\\\\\.+)+',\n\n  // build attribute string\n  attrcheck = '(' + quotedvalue + '|' + identifier + ')',\n  attributes = whitespace + '(' + encoding + '*:?' + encoding + '+)' +\n    whitespace + '(?:' + operators + whitespace + attrcheck + ')?' + whitespace,\n  attrmatcher = attributes.replace(attrcheck, '([\\\\x22\\\\x27]*)((?:\\\\\\\\?.)*?)\\\\3'),\n\n  // build pseudoclass string\n  pseudoclass = '((?:' +\n    // an+b parameters or quoted string\n    pseudoparms + '|' + quotedvalue + '|' +\n    // id, class, pseudo-class selector\n    prefixes + '|' + encoding + '+|' +\n    // nested HTML attribute selector\n    '\\\\[' + attributes + '\\\\]|' +\n    // nested pseudo-class selector\n    '\\\\(.+\\\\)|' + whitespace + '|' +\n    // nested pseudos/separators\n    ',)+)',\n\n  // placeholder for extensions\n  extensions = '.+',\n\n  // CSS3: syntax scanner and\n  // one pass validation only\n  // using regular expression\n  standardValidator =\n    // discard start\n    '(?=[\\\\x20\\\\t\\\\n\\\\r\\\\f]*[^>+~(){}<>])' +\n    // open match group\n    '(' +\n    //universal selector\n    '\\\\*' +\n    // id/class/tag/pseudo-class identifier\n    '|(?:' + prefixes + identifier + ')' +\n    // combinator selector\n    '|' + combinators +\n    // HTML attribute selector\n    '|\\\\[' + attributes + '\\\\]' +\n    // pseudo-classes parameters\n    '|\\\\(' + pseudoclass + '\\\\)' +\n    // dom properties selector (extension)\n    '|\\\\{' + extensions + '\\\\}' +\n    // selector group separator (comma)\n    '|(?:,|' + whitespace + ')' +\n    // close match group\n    ')+',\n\n  // validator for complex selectors in ':not()' pseudo-classes\n  extendedValidator = standardValidator.replace(pseudoclass, '.*'),\n\n  // validator for standard selectors as default\n  reValidator = new global.RegExp(standardValidator, 'g'),\n\n  // whitespace is any combination of these 5 character [\\x20\\t\\n\\r\\f]\n  // http://www.w3.org/TR/css3-selectors/#selector-syntax\n  reTrimSpaces = new global.RegExp('^' +\n    whitespace + '|' + whitespace + '$', 'g'),\n\n  // only allow simple selectors nested in ':not()' pseudo-classes\n  reSimpleNot = new global.RegExp('^(' +\n    '(?!:not)' +\n    '(' + prefixes +\n    '|' + identifier +\n    '|\\\\([^()]*\\\\))+' +\n    '|\\\\[' + attributes + '\\\\]' +\n    ')$'),\n\n  // split comma groups, exclude commas from\n  // quotes '' \"\" and from brackets () [] {}\n  reSplitGroup = new global.RegExp('(' +\n    '[^,\\\\\\\\()[\\\\]]+' +\n    '|' + skipsquare +\n    '|' + skipround +\n    '|' + skipcurly +\n    '|\\\\\\\\.' +\n    ')+', 'g'),\n\n  // split last, right most, selector group token\n  reSplitToken = new global.RegExp('(' +\n    '\\\\[' + attributes + '\\\\]|' +\n    '\\\\(' + pseudoclass + '\\\\)|' +\n    '\\\\\\\\.|[^\\\\x20\\\\t\\\\r\\\\n\\\\f>+~])+', 'g'),\n\n  // for in excess whitespace removal\n  reWhiteSpace = /[\\x20\\t\\n\\r\\f]+/g,\n\n  reOptimizeSelector = new global.RegExp(identifier + '|^$'),\n\n  /*----------------------------- FEATURE TESTING ----------------------------*/\n\n  // detect native methods\n  isNative = (function() {\n    var re = / \\w+\\(/,\n    isnative = String(Object.prototype.toString).replace(re, ' (');\n    return function(method) {\n      return method && typeof method != 'string' &&\n        isnative == String(method).replace(re, ' (');\n    };\n  })(),\n\n  // NATIVE_XXXXX true if method exist and is callable\n  // detect if DOM methods are native in browsers\n  NATIVE_FOCUS = isNative(doc.hasFocus),\n  NATIVE_QSAPI = isNative(doc.querySelector),\n  NATIVE_GEBID = isNative(doc.getElementById),\n  NATIVE_GEBTN = isNative(root.getElementsByTagName),\n  NATIVE_GEBCN = isNative(root.getElementsByClassName),\n\n  // detect native getAttribute/hasAttribute methods,\n  // frameworks extend these to elements, but it seems\n  // this does not work for XML namespaced attributes,\n  // used to check both getAttribute/hasAttribute in IE\n  NATIVE_GET_ATTRIBUTE = isNative(root.getAttribute),\n  NATIVE_HAS_ATTRIBUTE = isNative(root.hasAttribute),\n\n  // check if slice() can convert nodelist to array\n  // see http://yura.thinkweb2.com/cft/\n  NATIVE_SLICE_PROTO =\n    (function() {\n      var isBuggy = false;\n      try {\n        isBuggy = !!slice.call(doc.childNodes, 0)[0];\n      } catch(e) { }\n      return isBuggy;\n    })(),\n\n  // supports the new traversal API\n  NATIVE_TRAVERSAL_API =\n    'nextElementSibling' in root && 'previousElementSibling' in root,\n\n  // BUGGY_XXXXX true if method is feature tested and has known bugs\n  // detect buggy gEBID\n  BUGGY_GEBID = NATIVE_GEBID ?\n    (function() {\n      var isBuggy = true, x = 'x' + global.String(+new global.Date),\n        a = doc.createElementNS ? 'a' : '<a name=\"' + x + '\">';\n      (a = doc.createElement(a)).name = x;\n      root.insertBefore(a, root.firstChild);\n      isBuggy = !!doc.getElementById(x);\n      root.removeChild(a);\n      return isBuggy;\n    })() :\n    true,\n\n  // detect IE gEBTN comment nodes bug\n  BUGGY_GEBTN = NATIVE_GEBTN ?\n    (function() {\n      var div = doc.createElement('div');\n      div.appendChild(doc.createComment(''));\n      return !!div.getElementsByTagName('*')[0];\n    })() :\n    true,\n\n  // detect Opera gEBCN second class and/or UTF8 bugs as well as Safari 3.2\n  // caching class name results and not detecting when changed,\n  // tests are based on the jQuery selector test suite\n  BUGGY_GEBCN = NATIVE_GEBCN ?\n    (function() {\n      var isBuggy, div = doc.createElement('div'), test = '\\u53f0\\u5317';\n\n      // Opera tests\n      div.appendChild(doc.createElement('span')).\n        setAttribute('class', test + 'abc ' + test);\n      div.appendChild(doc.createElement('span')).\n        setAttribute('class', 'x');\n\n      isBuggy = !div.getElementsByClassName(test)[0];\n\n      // Safari test\n      div.lastChild.className = test;\n      return isBuggy || div.getElementsByClassName(test).length != 2;\n    })() :\n    true,\n\n  // detect IE bug with dynamic attributes\n  BUGGY_GET_ATTRIBUTE = NATIVE_GET_ATTRIBUTE ?\n    (function() {\n      var input = doc.createElement('input');\n      input.setAttribute('value', 5);\n      return input.defaultValue != 5;\n    })() :\n    true,\n\n  // detect IE bug with non-standard boolean attributes\n  BUGGY_HAS_ATTRIBUTE = NATIVE_HAS_ATTRIBUTE ?\n    (function() {\n      var option = doc.createElement('option');\n      option.setAttribute('selected', 'selected');\n      return !option.hasAttribute('selected');\n    })() :\n    true,\n\n  // detect Safari bug with selected option elements\n  BUGGY_SELECTED =\n    (function() {\n      var select = doc.createElement('select');\n      select.appendChild(doc.createElement('option'));\n      return !select.firstChild.selected;\n    })(),\n\n  // initialized with the loading context\n  // and reset for each different context\n  BUGGY_QUIRKS_GEBCN,\n  BUGGY_QUIRKS_QSAPI,\n\n  QUIRKS_MODE,\n  XML_DOCUMENT,\n\n  // detect Opera browser\n  OPERA = /opera/i.test(string.call(global.opera)),\n\n  // skip simple selector optimizations for Opera >= 11\n  OPERA_QSAPI = OPERA && global.parseFloat(global.opera.version()) >= 11,\n\n  // check Selector API implementations\n  RE_BUGGY_QSAPI = NATIVE_QSAPI ?\n    (function() {\n      var pattern = new global.Array(), context, element,\n\n      expect = function(selector, element, n) {\n        var result = false;\n        context.appendChild(element);\n        try { result = context.querySelectorAll(selector).length == n; } catch(e) { }\n        while (context.firstChild) { context.removeChild(context.firstChild); }\n        return result;\n      };\n\n      // certain bugs can only be detected in standard documents\n      // to avoid writing a live loading document create a fake one\n      if (doc.implementation && doc.implementation.createDocument) {\n        // use a shadow document body as context\n        context = doc.implementation.createDocument('', '', null).\n          appendChild(doc.createElement('html')).\n          appendChild(doc.createElement('head')).parentNode.\n          appendChild(doc.createElement('body'));\n      } else {\n        // use an unattached div node as context\n        context = doc.createElement('div');\n      }\n\n      // fix for Safari 8.x and other engines that\n      // fail querying filtered sibling combinators\n      element = doc.createElement('div');\n      element.innerHTML = '<p id=\"a\"></p><br>';\n      expect('p#a+*', element, 0) &&\n        pattern.push('\\\\w+#\\\\w+.*[+~]');\n\n      // ^= $= *= operators bugs with empty values (Opera 10 / IE8)\n      element = doc.createElement('p');\n      element.setAttribute('class', '');\n      expect('[class^=\"\"]', element, 1) &&\n        pattern.push('[*^$]=[\\\\x20\\\\t\\\\n\\\\r\\\\f]*(?:\"\"|' + \"'')\");\n\n      // :checked bug with option elements (Firefox 3.6.x)\n      // it wrongly includes 'selected' options elements\n      // HTML5 rules says selected options also match\n      element = doc.createElement('option');\n      element.setAttribute('selected', 'selected');\n      expect(':checked', element, 0) &&\n        pattern.push(':checked');\n\n      // :enabled :disabled bugs with hidden fields (Firefox 3.5)\n      // http://www.w3.org/TR/html5/links.html#selector-enabled\n      // http://www.w3.org/TR/css3-selectors/#enableddisabled\n      // not supported by IE8 Query Selector\n      element = doc.createElement('input');\n      element.setAttribute('type', 'hidden');\n      expect(':enabled', element, 0) &&\n        pattern.push(':enabled', ':disabled');\n\n      // :link bugs with hyperlinks matching (Firefox/Safari)\n      element = doc.createElement('link');\n      element.setAttribute('href', 'x');\n      expect(':link', element, 1) ||\n        pattern.push(':link');\n\n      // avoid attribute selectors for IE QSA\n      if (BUGGY_HAS_ATTRIBUTE) {\n        // IE fails in reading:\n        // - original values for input/textarea\n        // - original boolean values for controls\n        pattern.push('\\\\[[\\\\x20\\\\t\\\\n\\\\r\\\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)');\n      }\n\n      return pattern.length ?\n        new global.RegExp(pattern.join('|')) :\n        { 'test': function() { return false; } };\n\n    })() :\n    true,\n\n  // matches class selectors\n  RE_CLASS = new global.RegExp('(?:\\\\[[\\\\x20\\\\t\\\\n\\\\r\\\\f]*class\\\\b|\\\\.' + identifier + ')'),\n\n  // matches simple id, tag & class selectors\n  RE_SIMPLE_SELECTOR = new global.RegExp(\n    BUGGY_GEBTN && BUGGY_GEBCN || OPERA ?\n      '^#?-?[_a-zA-Z]{1}' + encoding + '*$' : BUGGY_GEBTN ?\n      '^[.#]?-?[_a-zA-Z]{1}' + encoding + '*$' : BUGGY_GEBCN ?\n      '^(?:\\\\*|#-?[_a-zA-Z]{1}' + encoding + '*)$' :\n      '^(?:\\\\*|[.#]?-?[_a-zA-Z]{1}' + encoding + '*)$'),\n\n  /*----------------------------- LOOKUP OBJECTS -----------------------------*/\n\n  LINK_NODES = new global.Object({ 'a': 1, 'A': 1, 'area': 1, 'AREA': 1, 'link': 1, 'LINK': 1 }),\n\n  // boolean attributes should return attribute name instead of true/false\n  ATTR_BOOLEAN = new global.Object({\n    'checked': 1, 'disabled': 1, 'ismap': 1,\n    'multiple': 1, 'readonly': 1, 'selected': 1\n  }),\n\n  // dynamic attributes that needs to be checked against original HTML value\n  ATTR_DEFAULT = new global.Object({\n    'value': 'defaultValue',\n    'checked': 'defaultChecked',\n    'selected': 'defaultSelected'\n  }),\n\n  // attributes referencing URI data values need special treatment in IE\n  ATTR_URIDATA = new global.Object({\n    'action': 2, 'cite': 2, 'codebase': 2, 'data': 2, 'href': 2,\n    'longdesc': 2, 'lowsrc': 2, 'src': 2, 'usemap': 2\n  }),\n\n  // HTML 5 draft specifications\n  // http://www.whatwg.org/specs/web-apps/current-work/#selectors\n  HTML_TABLE = new global.Object({\n    // class attribute must be treated case-insensitive in HTML quirks mode\n    // initialized by default to Standard Mode (case-sensitive),\n    // set dynamically by the attribute resolver\n    'class': 0,\n    'accept': 1, 'accept-charset': 1, 'align': 1, 'alink': 1, 'axis': 1,\n    'bgcolor': 1, 'charset': 1, 'checked': 1, 'clear': 1, 'codetype': 1, 'color': 1,\n    'compact': 1, 'declare': 1, 'defer': 1, 'dir': 1, 'direction': 1, 'disabled': 1,\n    'enctype': 1, 'face': 1, 'frame': 1, 'hreflang': 1, 'http-equiv': 1, 'lang': 1,\n    'language': 1, 'link': 1, 'media': 1, 'method': 1, 'multiple': 1, 'nohref': 1,\n    'noresize': 1, 'noshade': 1, 'nowrap': 1, 'readonly': 1, 'rel': 1, 'rev': 1,\n    'rules': 1, 'scope': 1, 'scrolling': 1, 'selected': 1, 'shape': 1, 'target': 1,\n    'text': 1, 'type': 1, 'valign': 1, 'valuetype': 1, 'vlink': 1\n  }),\n\n  // the following attributes must be treated case-insensitive in XHTML mode\n  // Niels Leenheer http://rakaz.nl/item/css_selector_bugs_case_sensitivity\n  XHTML_TABLE = new global.Object({\n    'accept': 1, 'accept-charset': 1, 'alink': 1, 'axis': 1,\n    'bgcolor': 1, 'charset': 1, 'codetype': 1, 'color': 1,\n    'enctype': 1, 'face': 1, 'hreflang': 1, 'http-equiv': 1,\n    'lang': 1, 'language': 1, 'link': 1, 'media': 1, 'rel': 1,\n    'rev': 1, 'target': 1, 'text': 1, 'type': 1, 'vlink': 1\n  }),\n\n  /*-------------------------- REGULAR EXPRESSIONS ---------------------------*/\n\n  // placeholder to add functionalities\n  Selectors = new global.Object({\n    // as a simple example this will check\n    // for chars not in standard ascii table\n    //\n    // 'mySpecialSelector': {\n    //  'Expression': /\\u0080-\\uffff/,\n    //  'Callback': mySelectorCallback\n    // }\n    //\n    // 'mySelectorCallback' will be invoked\n    // only after passing all other standard\n    // checks and only if none of them worked\n  }),\n\n  // attribute operators\n  Operators = new global.Object({\n     '=': \"n=='%m'\",\n    '^=': \"n.indexOf('%m')==0\",\n    '*=': \"n.indexOf('%m')>-1\",\n    '|=': \"(n+'-').indexOf('%m-')==0\",\n    '~=': \"(' '+n+' ').indexOf(' %m ')>-1\",\n    '$=': \"n.substr(n.length-'%m'.length)=='%m'\"\n  }),\n\n  // optimization expressions\n  Optimize = new global.Object({\n    ID: new global.RegExp('^\\\\*?#(' + encoding + '+)|' + skipgroup),\n    TAG: new global.RegExp('^(' + encoding + '+)|' + skipgroup),\n    CLASS: new global.RegExp('^\\\\*?\\\\.(' + encoding + '+$)|' + skipgroup)\n  }),\n\n  // precompiled Regular Expressions\n  Patterns = new global.Object({\n    // structural pseudo-classes and child selectors\n    spseudos: /^\\:(root|empty|(?:first|last|only)(?:-child|-of-type)|nth(?:-last)?(?:-child|-of-type)\\(\\s*(even|odd|(?:[-+]{0,1}\\d*n\\s*)?[-+]{0,1}\\s*\\d*)\\s*\\))?(.*)/i,\n    // uistates + dynamic + negation pseudo-classes\n    dpseudos: /^\\:(link|visited|target|active|focus|hover|checked|disabled|enabled|selected|lang\\(([-\\w]{2,})\\)|not\\(([^()]*|.*)\\))?(.*)/i,\n    // element attribute matcher\n    attribute: new global.RegExp('^\\\\[' + attrmatcher + '\\\\](.*)'),\n    // E > F\n    children: /^[\\x20\\t\\n\\r\\f]*\\>[\\x20\\t\\n\\r\\f]*(.*)/,\n    // E + F\n    adjacent: /^[\\x20\\t\\n\\r\\f]*\\+[\\x20\\t\\n\\r\\f]*(.*)/,\n    // E ~ F\n    relative: /^[\\x20\\t\\n\\r\\f]*\\~[\\x20\\t\\n\\r\\f]*(.*)/,\n    // E F\n    ancestor: /^[\\x20\\t\\n\\r\\f]+(.*)/,\n    // all\n    universal: /^\\*(.*)/,\n    // id\n    id: new global.RegExp('^#(' + encoding + '+)(.*)'),\n    // tag\n    tagName: new global.RegExp('^(' + encoding + '+)(.*)'),\n    // class\n    className: new global.RegExp('^\\\\.(' + encoding + '+)(.*)')\n  }),\n\n  /*------------------------------ UTIL METHODS ------------------------------*/\n\n  // concat elements to data\n  concatList =\n    function(data, elements) {\n      var i = -1, element;\n      if (!data.length && global.Array.slice)\n        return global.Array.slice(elements);\n      while ((element = elements[++i]))\n        data[data.length] = element;\n      return data;\n    },\n\n  // concat elements to data and callback\n  concatCall =\n    function(data, elements, callback) {\n      var i = -1, element;\n      while ((element = elements[++i])) {\n        if (false === callback(data[data.length] = element)) { break; }\n      }\n      return data;\n    },\n\n  // change context specific variables\n  switchContext =\n    function(from, force) {\n      var div, oldDoc = doc;\n      // save passed context\n      lastContext = from;\n      // set new context document\n      doc = from.ownerDocument || from;\n      if (force || oldDoc !== doc) {\n        // set document root\n        root = doc.documentElement;\n        // set host environment flags\n        XML_DOCUMENT = doc.createElement('DiV').nodeName == 'DiV';\n\n        // In quirks mode css class names are case insensitive.\n        // In standards mode they are case sensitive. See docs:\n        // https://developer.mozilla.org/en/Mozilla_Quirks_Mode_Behavior\n        // http://www.whatwg.org/specs/web-apps/current-work/#selectors\n        QUIRKS_MODE = !XML_DOCUMENT &&\n          typeof doc.compatMode == 'string' ?\n          doc.compatMode.indexOf('CSS') < 0 :\n          (function() {\n            var style = doc.createElement('div').style;\n            return style && (style.width = 1) && style.width == '1px';\n          })();\n\n        div = doc.createElement('div');\n        div.appendChild(doc.createElement('p')).setAttribute('class', 'xXx');\n        div.appendChild(doc.createElement('p')).setAttribute('class', 'xxx');\n\n        // GEBCN buggy in quirks mode, match count is:\n        // Firefox 3.0+ [xxx = 1, xXx = 1]\n        // Opera 10.63+ [xxx = 0, xXx = 2]\n        BUGGY_QUIRKS_GEBCN =\n          !XML_DOCUMENT && NATIVE_GEBCN && QUIRKS_MODE &&\n          (div.getElementsByClassName('xxx').length != 2 ||\n          div.getElementsByClassName('xXx').length != 2);\n\n        // QSAPI buggy in quirks mode, match count is:\n        // At least Chrome 4+, Firefox 3.5+, Opera 10.x+, Safari 4+ [xxx = 1, xXx = 2]\n        // Safari 3.2 QSA doesn't work with mixedcase in quirksmode [xxx = 1, xXx = 0]\n        // https://bugs.webkit.org/show_bug.cgi?id=19047\n        // must test the attribute selector '[class~=xxx]'\n        // before '.xXx' or the bug may not present itself\n        BUGGY_QUIRKS_QSAPI =\n          !XML_DOCUMENT && NATIVE_QSAPI && QUIRKS_MODE &&\n          (div.querySelectorAll('[class~=xxx]').length != 2 ||\n          div.querySelectorAll('.xXx').length != 2);\n\n        Config.CACHING && Dom.setCache(true, doc);\n      }\n    },\n\n  // convert a CSS string or identifier containing escape sequence to a\n  // javascript string with javascript escape sequences\n  convertEscapes =\n    function(str) {\n      return str.replace(/\\\\([0-9a-fA-F]{1,6}\\x20?|.)|([\\x22\\x27])/g, function(substring, p1, p2) {\n        var codePoint, highHex, highSurrogate, lowHex, lowSurrogate;\n\n        if (p2) {\n          // unescaped \" or '\n          return '\\\\' + p2;\n        }\n\n        if (/^[0-9a-fA-F]/.test(p1)) {\n          // \\1f23\n          codePoint = parseInt(p1, 16);\n\n          if (codePoint < 0 || codePoint > 0x10ffff) {\n            // the replacement character\n            return '\\\\ufffd';\n          }\n\n          // javascript strings are in UTF-16\n          if (codePoint <= 0xffff) {\n            // Basic\n            lowHex = '000' + codePoint.toString(16);\n            return '\\\\u' + lowHex.substr(lowHex.length - 4);\n          }\n\n          // Supplementary\n          codePoint -= 0x10000;\n          highSurrogate = (codePoint >> 10) + 0xd800;\n          lowSurrogate = (codePoint % 0x400) + 0xdc00;\n          highHex = '000' + highSurrogate.toString(16);\n          lowHex = '000' + lowSurrogate.toString(16);\n\n          return '\\\\u' + highHex.substr(highHex.length - 4) +\n            '\\\\u' + lowHex.substr(lowHex.length - 4);\n        }\n\n        if (/^[\\\\\\x22\\x27]/.test(p1)) {\n          // \\' \\\"\n          return substring;\n        }\n\n        // \\g \\h \\. \\# etc\n        return p1;\n      });\n    },\n\n  /*------------------------------ DOM METHODS -------------------------------*/\n\n  // element by id (raw)\n  // @return reference or null\n  byIdRaw =\n    function(id, elements) {\n      var i = -1, element = null;\n      while ((element = elements[++i])) {\n        if (element.getAttribute('id') == id) {\n          break;\n        }\n      }\n      return element;\n    },\n\n  // element by id\n  // @return reference or null\n  _byId = !BUGGY_GEBID ?\n    function(id, from) {\n      id = id.replace(/\\\\([^\\\\]{1})/g, '$1');\n      return from.getElementById && from.getElementById(id) ||\n        byIdRaw(id, from.getElementsByTagName('*'));\n    } :\n    function(id, from) {\n      var element = null;\n      id = id.replace(/\\\\([^\\\\]{1})/g, '$1');\n      if (XML_DOCUMENT || from.nodeType != 9) {\n        return byIdRaw(id, from.getElementsByTagName('*'));\n      }\n      if ((element = from.getElementById(id)) &&\n        element.name == id && from.getElementsByName) {\n        return byIdRaw(id, from.getElementsByName(id));\n      }\n      return element;\n    },\n\n  // publicly exposed byId\n  // @return reference or null\n  byId =\n    function(id, from) {\n      from || (from = doc);\n      if (lastContext !== from) { switchContext(from); }\n      return _byId(id, from);\n    },\n\n  // elements by tag (raw)\n  // @return array\n  byTagRaw =\n    function(tag, from) {\n      var any = tag == '*', element = from, elements = new global.Array(), next = element.firstChild;\n      any || (tag = tag.toUpperCase());\n      while ((element = next)) {\n        if (element.tagName > '@' && (any || element.tagName.toUpperCase() == tag)) {\n          elements[elements.length] = element;\n        }\n        if ((next = element.firstChild || element.nextSibling)) continue;\n        while (!next && (element = element.parentNode) && element !== from) {\n          next = element.nextSibling;\n        }\n      }\n      return elements;\n    },\n\n  // elements by tag\n  // @return array\n  _byTag = !BUGGY_GEBTN && NATIVE_SLICE_PROTO ?\n    function(tag, from) {\n      return XML_DOCUMENT || from.nodeType == 11 ? byTagRaw(tag, from) :\n        slice.call(from.getElementsByTagName(tag), 0);\n    } :\n    function(tag, from) {\n      var i = -1, j = i, data = new global.Array(),\n        element, elements = from.getElementsByTagName(tag);\n      if (tag == '*') {\n        while ((element = elements[++i])) {\n          if (element.nodeName > '@')\n            data[++j] = element;\n        }\n      } else {\n        while ((element = elements[++i])) {\n          data[i] = element;\n        }\n      }\n      return data;\n    },\n\n  // publicly exposed byTag\n  // @return array\n  byTag =\n    function(tag, from) {\n      from || (from = doc);\n      if (lastContext !== from) { switchContext(from); }\n      return _byTag(tag, from);\n    },\n\n  // publicly exposed byName\n  // @return array\n  byName =\n    function(name, from) {\n      return select('[name=\"' + name.replace(/\\\\([^\\\\]{1})/g, '$1') + '\"]', from);\n    },\n\n  // elements by class (raw)\n  // @return array\n  byClassRaw =\n    function(name, from) {\n      var i = -1, j = i, data = new global.Array(), element, elements = _byTag('*', from), n;\n      name = ' ' + (QUIRKS_MODE ? name.toLowerCase() : name).replace(/\\\\([^\\\\]{1})/g, '$1') + ' ';\n      while ((element = elements[++i])) {\n        n = XML_DOCUMENT ? element.getAttribute('class') : element.className;\n        if (n && n.length && (' ' + (QUIRKS_MODE ? n.toLowerCase() : n).\n          replace(reWhiteSpace, ' ') + ' ').indexOf(name) > -1) {\n          data[++j] = element;\n        }\n      }\n      return data;\n    },\n\n  // elements by class\n  // @return array\n  _byClass =\n    function(name, from) {\n      return (BUGGY_GEBCN || BUGGY_QUIRKS_GEBCN || XML_DOCUMENT || !from.getElementsByClassName) ?\n        byClassRaw(name, from) : slice.call(from.getElementsByClassName(name.replace(/\\\\([^\\\\]{1})/g, '$1')), 0);\n    },\n\n  // publicly exposed byClass\n  // @return array\n  byClass =\n    function(name, from) {\n      from || (from = doc);\n      if (lastContext !== from) { switchContext(from); }\n      return _byClass(name, from);\n    },\n\n  // check element is descendant of container\n  // @return boolean\n  contains = 'compareDocumentPosition' in root ?\n    function(container, element) {\n      return (container.compareDocumentPosition(element) & 16) == 16;\n    } : 'contains' in root ?\n    function(container, element) {\n      return container !== element && container.contains(element);\n    } :\n    function(container, element) {\n      while ((element = element.parentNode)) {\n        if (element === container) return true;\n      }\n      return false;\n    },\n\n  // attribute value\n  // @return string\n  getAttribute = !BUGGY_GET_ATTRIBUTE ?\n    function(node, attribute) {\n      return node.getAttribute(attribute);\n    } :\n    function(node, attribute) {\n      attribute = attribute.toLowerCase();\n      if (typeof node[attribute] == 'object') {\n        return node.attributes[attribute] &&\n          node.attributes[attribute].value;\n      }\n      return (\n        // 'type' can only be read by using native getAttribute\n        attribute == 'type' ? node.getAttribute(attribute) :\n        // specific URI data attributes (parameter 2 to fix IE bug)\n        ATTR_URIDATA[attribute] ? node.getAttribute(attribute, 2) :\n        // boolean attributes should return name instead of true/false\n        ATTR_BOOLEAN[attribute] ? node.getAttribute(attribute) ? attribute : 'false' :\n          (node = node.getAttributeNode(attribute)) && node.value);\n    },\n\n  // attribute presence\n  // @return boolean\n  hasAttribute = !BUGGY_HAS_ATTRIBUTE ?\n    function(node, attribute) {\n      return XML_DOCUMENT ?\n        !!node.getAttribute(attribute) :\n        node.hasAttribute(attribute);\n    } :\n    function(node, attribute) {\n      // read the node attribute object\n      var obj = node.getAttributeNode(attribute = attribute.toLowerCase());\n      return ATTR_DEFAULT[attribute] && attribute != 'value' ?\n        node[ATTR_DEFAULT[attribute]] : obj && obj.specified;\n    },\n\n  // check node emptyness\n  // @return boolean\n  isEmpty =\n    function(node) {\n      node = node.firstChild;\n      while (node) {\n        if (node.nodeType == 3 || node.nodeName > '@') return false;\n        node = node.nextSibling;\n      }\n      return true;\n    },\n\n  // check if element matches the :link pseudo\n  // @return boolean\n  isLink =\n    function(element) {\n      return hasAttribute(element,'href') && LINK_NODES[element.nodeName];\n    },\n\n  // child position by nodeType\n  // @return number\n  nthElement =\n    function(element, last) {\n      var count = 1, succ = last ? 'nextSibling' : 'previousSibling';\n      while ((element = element[succ])) {\n        if (element.nodeName > '@') ++count;\n      }\n      return count;\n    },\n\n  // child position by nodeName\n  // @return number\n  nthOfType =\n    function(element, last) {\n      var count = 1, succ = last ? 'nextSibling' : 'previousSibling', type = element.nodeName;\n      while ((element = element[succ])) {\n        if (element.nodeName == type) ++count;\n      }\n      return count;\n    },\n\n  /*------------------------------- DEBUGGING --------------------------------*/\n\n  // get/set (string/object) working modes\n  configure =\n    function(option) {\n      if (typeof option == 'string') { return Config[option] || Config; }\n      if (typeof option != 'object') { return false; }\n      for (var i in option) {\n        Config[i] = !!option[i];\n        if (i == 'SIMPLENOT') {\n          matchContexts = new global.Object();\n          matchResolvers = new global.Object();\n          selectContexts = new global.Object();\n          selectResolvers = new global.Object();\n          if (!Config[i]) { Config['USE_QSAPI'] = false; }\n        } else if (i == 'USE_QSAPI') {\n          Config[i] = !!option[i] && NATIVE_QSAPI;\n        }\n      }\n      reValidator = new global.RegExp(Config.SIMPLENOT ?\n        standardValidator : extendedValidator, 'g');\n      return true;\n    },\n\n  // control user notifications\n  emit =\n    function(message) {\n      if (Config.VERBOSITY) { throw new global.Error(message); }\n      if (global.console && global.console.log) {\n        global.console.log(message);\n      }\n    },\n\n  Config = new global.Object({\n\n    // used to enable/disable caching of result sets\n    CACHING: false,\n\n    // by default do not add missing left/right context\n    // to selector string shortcuts like \"+div\" or \"ul>\"\n    // callable Dom.shortcuts method has to be available\n    SHORTCUTS: false,\n\n    // by default disable complex selectors nested in\n    // ':not()' pseudo-classes, as for specifications\n    SIMPLENOT: true,\n\n    // strict QSA match all non-unique IDs (false)\n    // speed & libs compat match unique ID (true)\n    UNIQUE_ID: true,\n\n    // HTML5 handling for the \":checked\" pseudo-class\n    USE_HTML5: true,\n\n    // controls enabling the Query Selector API branch\n    USE_QSAPI: NATIVE_QSAPI,\n\n    // controls the engine error/warning notifications\n    VERBOSITY: true\n\n  }),\n\n  /*---------------------------- COMPILER METHODS ----------------------------*/\n\n  // code string reused to build compiled functions\n  ACCEPT_NODE = 'r[r.length]=c[k];if(f&&false===f(c[k]))break main;else continue main;',\n\n  // compile a comma separated group of selector\n  // @mode boolean true for select, false for match\n  // return a compiled function\n  compile =\n    function(selector, source, mode) {\n\n      var parts = typeof selector == 'string' ? selector.match(reSplitGroup) : selector;\n\n      // ensures that source is a string\n      typeof source == 'string' || (source = '');\n\n      if (parts.length == 1) {\n        source += compileSelector(parts[0], mode ? ACCEPT_NODE : 'f&&f(k);return true;', mode);\n      } else {\n        // for each selector in the group\n        var i = -1, seen = new global.Object(), token;\n        while ((token = parts[++i])) {\n          token = token.replace(reTrimSpaces, '');\n          // avoid repeating the same token\n          // in comma separated group (p, p)\n          if (!seen[token] && (seen[token] = true)) {\n            source += compileSelector(token, mode ? ACCEPT_NODE : 'f&&f(k);return true;', mode);\n          }\n        }\n      }\n\n      if (mode) {\n        // for select method\n        return new global.Function('c,s,r,d,h,g,f,v',\n          'var N,n,x=0,k=-1,e;main:while((e=c[++k])){' + source + '}return r;');\n      } else {\n        // for match method\n        return new global.Function('e,s,r,d,h,g,f,v',\n          'var N,n,x=0,k=e;' + source + 'return false;');\n      }\n    },\n\n  // allows to cache already visited nodes\n  FILTER =\n    'var z=v[@]||(v[@]=[]),l=z.length-1;' +\n    'while(l>=0&&z[l]!==e)--l;' +\n    'if(l!==-1){break;}' +\n    'z[z.length]=e;',\n\n  // compile a CSS3 string selector into ad-hoc javascript matching function\n  // @return string (to be compiled)\n  compileSelector =\n    function(selector, source, mode) {\n\n      var a, b, n, k = 0, expr, match, result, status, test, type;\n\n      while (selector) {\n\n        k++;\n\n        // *** Universal selector\n        // * match all (empty block, do not remove)\n        if ((match = selector.match(Patterns.universal))) {\n          // do nothing, handled in the compiler where\n          // BUGGY_GEBTN return comment nodes (ex: IE)\n          expr = '';\n        }\n\n        // *** ID selector\n        // #Foo Id case sensitive\n        else if ((match = selector.match(Patterns.id))) {\n          // document can contain conflicting elements (id/name)\n          // prototype selector unit need this method to recover bad HTML forms\n          source = 'if(' + (XML_DOCUMENT ?\n            's.getAttribute(e,\"id\")' :\n            '(e.submit?s.getAttribute(e,\"id\"):e.id)') +\n            '==\"' + match[1] + '\"' +\n            '){' + source + '}';\n        }\n\n        // *** Type selector\n        // Foo Tag (case insensitive)\n        else if ((match = selector.match(Patterns.tagName))) {\n          // both tagName and nodeName properties may be upper/lower case\n          // depending on their creation NAMESPACE in createElementNS()\n          source = 'if(e.nodeName' + (XML_DOCUMENT ?\n            '==\"' + match[1] + '\"' : '.toUpperCase()' +\n            '==\"' + match[1].toUpperCase() + '\"') +\n            '){' + source + '}';\n        }\n\n        // *** Class selector\n        // .Foo Class (case sensitive)\n        else if ((match = selector.match(Patterns.className))) {\n          // W3C CSS3 specs: element whose \"class\" attribute has been assigned a\n          // list of whitespace-separated values, see section 6.4 Class selectors\n          // and notes at the bottom; explicitly non-normative in this specification.\n          source = 'if((n=' + (XML_DOCUMENT ?\n            's.getAttribute(e,\"class\")' : 'e.className') +\n            ')&&n.length&&(\" \"+' + (QUIRKS_MODE ? 'n.toLowerCase()' : 'n') +\n            '.replace(' + reWhiteSpace + ',\" \")+\" \").indexOf(\" ' +\n            (QUIRKS_MODE ? match[1].toLowerCase() : match[1]) + ' \")>-1' +\n            '){' + source + '}';\n        }\n\n        // *** Attribute selector\n        // [attr] [attr=value] [attr=\"value\"] [attr='value'] and !=, *=, ~=, |=, ^=, $=\n        // case sensitivity is treated differently depending on the document type (see map)\n        else if ((match = selector.match(Patterns.attribute))) {\n\n          // xml namespaced attribute ?\n          expr = match[1].split(':');\n          expr = expr.length == 2 ? expr[1] : expr[0] + '';\n\n          if (match[2] && !Operators[match[2]]) {\n            emit('Unsupported operator in attribute selectors \"' + selector + '\"');\n            return '';\n          }\n\n          test = 'false';\n\n          // replace Operators parameter if needed\n          if (match[2] && match[4] && (test = Operators[match[2]])) {\n            match[4] = convertEscapes(match[4]);\n            // case treatment depends on document\n            HTML_TABLE['class'] = QUIRKS_MODE ? 1 : 0;\n            type = (XML_DOCUMENT ? XHTML_TABLE : HTML_TABLE)[expr.toLowerCase()];\n            test = test.replace(/\\%m/g, type ? match[4].toLowerCase() : match[4]);\n          } else if (match[2] == '!=' || match[2] == '=') {\n            test = 'n' + match[2] + '=\"\"';\n          }\n\n          source = 'if(n=s.hasAttribute(e,\"' + match[1] + '\")){' +\n            (match[2] ? 'n=s.getAttribute(e,\"' + match[1] + '\")' : '') +\n            (type && match[2] ? '.toLowerCase();' : ';') +\n            'if(' + (match[2] ? test : 'n') + '){' + source + '}}';\n\n        }\n\n        // *** Adjacent sibling combinator\n        // E + F (F adiacent sibling of E)\n        else if ((match = selector.match(Patterns.adjacent))) {\n          source = (mode ? '' : FILTER.replace(/@/g, k)) + source;\n          source = NATIVE_TRAVERSAL_API ?\n            'var N' + k + '=e;while(e&&(e=e.previousElementSibling)){' + source + 'break;}e=N' + k + ';' :\n            'var N' + k + '=e;while(e&&(e=e.previousSibling)){if(e.nodeName>\"@\"){' + source + 'break;}}e=N' + k + ';';\n        }\n\n        // *** General sibling combinator\n        // E ~ F (F relative sibling of E)\n        else if ((match = selector.match(Patterns.relative))) {\n          source = (mode ? '' : FILTER.replace(/@/g, k)) + source;\n          source = NATIVE_TRAVERSAL_API ?\n            ('var N' + k + '=e;e=e.parentNode.firstElementChild;' +\n            'while(e&&e!==N' + k + '){' + source + 'e=e.nextElementSibling;}e=N' + k + ';') :\n            ('var N' + k + '=e;e=e.parentNode.firstChild;' +\n            'while(e&&e!==N' + k + '){if(e.nodeName>\"@\"){' + source + '}e=e.nextSibling;}e=N' + k + ';');\n        }\n\n        // *** Child combinator\n        // E > F (F children of E)\n        else if ((match = selector.match(Patterns.children))) {\n          source = (mode ? '' : FILTER.replace(/@/g, k)) + source;\n          source = 'var N' + k + '=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){' + source + 'break;}e=N' + k + ';';\n        }\n\n        // *** Descendant combinator\n        // E F (E ancestor of F)\n        else if ((match = selector.match(Patterns.ancestor))) {\n          source = (mode ? '' : FILTER.replace(/@/g, k)) + source;\n          source = 'var N' + k + '=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){' + source + '}e=N' + k + ';';\n        }\n\n        // *** Structural pseudo-classes\n        // :root, :empty,\n        // :first-child, :last-child, :only-child,\n        // :first-of-type, :last-of-type, :only-of-type,\n        // :nth-child(), :nth-last-child(), :nth-of-type(), :nth-last-of-type()\n        else if ((match = selector.match(Patterns.spseudos)) && match[1]) {\n\n          switch (match[1]) {\n            case 'root':\n              // element root of the document\n              if (match[3]) {\n                source = 'if(e===h||s.contains(h,e)){' + source + '}';\n              } else {\n                source = 'if(e===h){' + source + '}';\n              }\n              break;\n\n            case 'empty':\n              // element that has no children\n              source = 'if(s.isEmpty(e)){' + source + '}';\n              break;\n\n            default:\n              if (match[1] && match[2]) {\n                if (match[2] == 'n') {\n                  source = 'if(e!==h){' + source + '}';\n                  break;\n                } else if (match[2] == 'even') {\n                  a = 2;\n                  b = 0;\n                } else if (match[2] == 'odd') {\n                  a = 2;\n                  b = 1;\n                } else {\n                  // assumes correct \"an+b\" format, \"b\" before \"a\" to keep \"n\" values\n                  b = ((n = match[2].match(/(-?\\d+)$/)) ? global.parseInt(n[1], 10) : 0);\n                  a = ((n = match[2].match(/(-?\\d*)n/i)) ? global.parseInt(n[1], 10) : 0);\n                  if (n && n[1] == '-') a = -1;\n                }\n\n                // build test expression out of structural pseudo (an+b) parameters\n                // see here: http://www.w3.org/TR/css3-selectors/#nth-child-pseudo\n                test = a > 1 ?\n                  (/last/i.test(match[1])) ? '(n-(' + b + '))%' + a + '==0' :\n                  'n>=' + b + '&&(n-(' + b + '))%' + a + '==0' : a < -1 ?\n                  (/last/i.test(match[1])) ? '(n-(' + b + '))%' + a + '==0' :\n                  'n<=' + b + '&&(n-(' + b + '))%' + a + '==0' : a === 0 ?\n                  'n==' + b : a == -1 ? 'n<=' + b : 'n>=' + b;\n\n                // 4 cases: 1 (nth) x 4 (child, of-type, last-child, last-of-type)\n                source =\n                  'if(e!==h){' +\n                    'n=s[' + (/-of-type/i.test(match[1]) ? '\"nthOfType\"' : '\"nthElement\"') + ']' +\n                      '(e,' + (/last/i.test(match[1]) ? 'true' : 'false') + ');' +\n                    'if(' + test + '){' + source + '}' +\n                  '}';\n\n              } else {\n                // 6 cases: 3 (first, last, only) x 1 (child) x 2 (-of-type)\n                a = /first/i.test(match[1]) ? 'previous' : 'next';\n                n = /only/i.test(match[1]) ? 'previous' : 'next';\n                b = /first|last/i.test(match[1]);\n\n                type = /-of-type/i.test(match[1]) ? '&&n.nodeName!=e.nodeName' : '&&n.nodeName<\"@\"';\n\n                source = 'if(e!==h){' +\n                  ( 'n=e;while((n=n.' + a + 'Sibling)' + type + ');if(!n){' + (b ? source :\n                    'n=e;while((n=n.' + n + 'Sibling)' + type + ');if(!n){' + source + '}') + '}' ) + '}';\n              }\n              break;\n          }\n\n        }\n\n        // *** negation, user action and target pseudo-classes\n        // *** UI element states and dynamic pseudo-classes\n        // CSS3 :not, :checked, :enabled, :disabled, :target\n        // CSS3 :active, :hover, :focus\n        // CSS3 :link, :visited\n        else if ((match = selector.match(Patterns.dpseudos)) && match[1]) {\n\n          switch (match[1].match(/^\\w+/)[0]) {\n            // CSS3 negation pseudo-class\n            case 'not':\n              // compile nested selectors, DO NOT pass the callback parameter\n              // SIMPLENOT allow disabling complex selectors nested\n              // in ':not()' pseudo-classes, breaks some test units\n              expr = match[3].replace(reTrimSpaces, '');\n\n              if (Config.SIMPLENOT && !reSimpleNot.test(expr)) {\n                // see above, log error but continue execution\n                emit('Negation pseudo-class only accepts simple selectors \"' + selector + '\"');\n                return '';\n              } else {\n                if ('compatMode' in doc) {\n                  source = 'if(!' + compile(expr, '', false) + '(e,s,r,d,h,g)){' + source + '}';\n                } else {\n                  source = 'if(!s.match(e, \"' + expr.replace(/\\x22/g, '\\\\\"') + '\",g)){' + source +'}';\n                }\n              }\n              break;\n\n            // CSS3 UI element states\n            case 'checked':\n              // for radio buttons checkboxes (HTML4) and options (HTML5)\n              source = 'if((typeof e.form!==\"undefined\"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)' +\n                (Config.USE_HTML5 ? '||(/^option$/i.test(e.nodeName)&&(e.selected||e.checked))' : '') +\n                '){' + source + '}';\n              break;\n            case 'disabled':\n              // does not consider hidden input fields\n              source = 'if(((typeof e.form!==\"undefined\"' +\n                (Config.USE_HTML5 ? '' : '&&!(/^hidden$/i).test(e.type)') +\n                ')||s.isLink(e))&&e.disabled===true){' + source + '}';\n              break;\n            case 'enabled':\n              // does not consider hidden input fields\n              source = 'if(((typeof e.form!==\"undefined\"' +\n                (Config.USE_HTML5 ? '' : '&&!(/^hidden$/i).test(e.type)') +\n                ')||s.isLink(e))&&e.disabled===false){' + source + '}';\n              break;\n\n            // CSS3 lang pseudo-class\n            case 'lang':\n              test = '';\n              if (match[2]) test = match[2].substr(0, 2) + '-';\n              source = 'do{(n=e.lang||\"\").toLowerCase();' +\n                'if((n==\"\"&&h.lang==\"' + match[2].toLowerCase() + '\")||' +\n                '(n&&(n==\"' + match[2].toLowerCase() +\n                '\"||n.substr(0,3)==\"' + test.toLowerCase() + '\")))' +\n                '{' + source + 'break;}}while((e=e.parentNode)&&e!==g);';\n              break;\n\n            // CSS3 target pseudo-class\n            case 'target':\n              source = 'if(e.id==d.location.hash.slice(1)){' + source + '}';\n              break;\n\n            // CSS3 dynamic pseudo-classes\n            case 'link':\n              source = 'if(s.isLink(e)&&!e.visited){' + source + '}';\n              break;\n            case 'visited':\n              source = 'if(s.isLink(e)&&e.visited){' + source + '}';\n              break;\n\n            // CSS3 user action pseudo-classes IE & FF3 have native support\n            // these capabilities may be emulated by some event managers\n            case 'active':\n              if (XML_DOCUMENT) break;\n              source = 'if(e===d.activeElement){' + source + '}';\n              break;\n            case 'hover':\n              if (XML_DOCUMENT) break;\n              source = 'if(e===d.hoverElement){' + source + '}';\n              break;\n            case 'focus':\n              if (XML_DOCUMENT) break;\n              source = NATIVE_FOCUS ?\n                'if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href||typeof e.tabIndex==\"number\")){' + source + '}' :\n                'if(e===d.activeElement&&(e.type||e.href)){' + source + '}';\n              break;\n\n            // CSS2 selected pseudo-classes, not part of current CSS3 drafts\n            // the 'selected' property is only available for option elements\n            case 'selected':\n              // fix Safari selectedIndex property bug\n              expr = BUGGY_SELECTED ? '||(n=e.parentNode)&&n.options[n.selectedIndex]===e' : '';\n              source = 'if(/^option$/i.test(e.nodeName)&&(e.selected||e.checked' + expr + ')){' + source + '}';\n              break;\n\n            default:\n              break;\n          }\n\n        }\n\n        else {\n\n          // this is where external extensions are\n          // invoked if expressions match selectors\n          expr = false;\n          status = false;\n          for (expr in Selectors) {\n            if ((match = selector.match(Selectors[expr].Expression)) && match[1]) {\n              result = Selectors[expr].Callback(match, source);\n              source = result.source;\n              status = result.status;\n              if (status) { break; }\n            }\n          }\n\n          // if an extension fails to parse the selector\n          // it must return a false boolean in \"status\"\n          if (!status) {\n            // log error but continue execution, don't throw real exceptions\n            // because blocking following processes maybe is not a good idea\n            emit('Unknown pseudo-class selector \"' + selector + '\"');\n            return '';\n          }\n\n          if (!expr) {\n            // see above, log error but continue execution\n            emit('Unknown token in selector \"' + selector + '\"');\n            return '';\n          }\n\n        }\n\n        // error if no matches found by the pattern scan\n        if (!match) {\n          emit('Invalid syntax in selector \"' + selector + '\"');\n          return '';\n        }\n\n        // ensure \"match\" is not null or empty since\n        // we do not throw real DOMExceptions above\n        selector = match && match[match.length - 1];\n      }\n\n      return source;\n    },\n\n  /*----------------------------- QUERY METHODS ------------------------------*/\n\n  // match element with selector\n  // @return boolean\n  match =\n    function(element, selector, from, callback) {\n\n      var parts;\n\n      if (!(element && element.nodeType == 1)) {\n        emit('Invalid element argument');\n        return false;\n      } else if (typeof selector != 'string') {\n        emit('Invalid selector argument');\n        return false;\n      } else if (from && from.nodeType == 1 && !contains(from, element)) {\n        return false;\n      } else if (lastContext !== from) {\n        // reset context data when it changes\n        // and ensure context is set to a default\n        switchContext(from || (from = element.ownerDocument));\n      }\n\n      selector = selector.replace(reTrimSpaces, '');\n\n      Config.SHORTCUTS && (selector = Dom.shortcuts(selector, element, from));\n\n      if (lastMatcher != selector) {\n        // process valid selector strings\n        if ((parts = selector.match(reValidator)) && parts[0] == selector) {\n          isSingleMatch = (parts = selector.match(reSplitGroup)).length < 2;\n          // save passed selector\n          lastMatcher = selector;\n          lastPartsMatch = parts;\n        } else {\n          emit('The string \"' + selector + '\", is not a valid CSS selector');\n          return false;\n        }\n      } else parts = lastPartsMatch;\n\n      // compile matcher resolvers if necessary\n      if (!matchResolvers[selector] || matchContexts[selector] !== from) {\n        matchResolvers[selector] = compile(isSingleMatch ? [selector] : parts, '', false);\n        matchContexts[selector] = from;\n      }\n\n      return matchResolvers[selector](element, Snapshot, [ ], doc, root, from, callback, new global.Object());\n    },\n\n  // select only the first element\n  // matching selector (document ordered)\n  first =\n    function(selector, from) {\n      return select(selector, from, function() { return false; })[0] || null;\n    },\n\n  // select elements matching selector\n  // using new Query Selector API\n  // or cross-browser client API\n  // @return array\n  select =\n    function(selector, from, callback) {\n\n      var i, changed, element, elements, parts, token, original = selector;\n\n      if (arguments.length === 0) {\n        emit('Not enough arguments');\n        return [ ];\n      } else if (typeof selector != 'string') {\n        return [ ];\n      } else if (from && !(/1|9|11/).test(from.nodeType)) {\n        emit('Invalid or illegal context element');\n        return [ ];\n      } else if (lastContext !== from) {\n        // reset context data when it changes\n        // and ensure context is set to a default\n        switchContext(from || (from = doc));\n      }\n\n      if (Config.CACHING && (elements = Dom.loadResults(original, from, doc, root))) {\n        return callback ? concatCall([ ], elements, callback) : elements;\n      }\n\n      if (!OPERA_QSAPI && RE_SIMPLE_SELECTOR.test(selector)) {\n        switch (selector.charAt(0)) {\n          case '#':\n            if (Config.UNIQUE_ID) {\n              elements = (element = _byId(selector.slice(1), from)) ? [ element ] : [ ];\n            }\n            break;\n          case '.':\n            elements = _byClass(selector.slice(1), from);\n            break;\n          default:\n            elements = _byTag(selector, from);\n            break;\n        }\n      }\n\n      else if (!XML_DOCUMENT && Config.USE_QSAPI &&\n        !(BUGGY_QUIRKS_QSAPI && RE_CLASS.test(selector)) &&\n        !RE_BUGGY_QSAPI.test(selector)) {\n        try {\n          elements = from.querySelectorAll(selector);\n        } catch(e) { }\n      }\n\n      if (elements) {\n        elements = callback ? concatCall([ ], elements, callback) :\n          NATIVE_SLICE_PROTO ? slice.call(elements) : concatList([ ], elements);\n        Config.CACHING && Dom.saveResults(original, from, doc, elements);\n        return elements;\n      }\n\n      selector = selector.replace(reTrimSpaces, '');\n\n      Config.SHORTCUTS && (selector = Dom.shortcuts(selector, from));\n\n      if ((changed = lastSelector != selector)) {\n        // process valid selector strings\n        if ((parts = selector.match(reValidator)) && parts[0] == selector) {\n          isSingleSelect = (parts = selector.match(reSplitGroup)).length < 2;\n          // save passed selector\n          lastSelector = selector;\n          lastPartsSelect = parts;\n        } else {\n          emit('The string \"' + selector + '\", is not a valid CSS selector');\n          return [ ];\n        }\n      } else parts = lastPartsSelect;\n\n      // commas separators are treated sequentially to maintain order\n      if (from.nodeType == 11) {\n\n        elements = byTagRaw('*', from);\n\n      } else if (!XML_DOCUMENT && isSingleSelect) {\n\n        if (changed) {\n          // get right most selector token\n          parts = selector.match(reSplitToken);\n          token = parts[parts.length - 1];\n\n          // only last slice before :not rules\n          lastSlice = token.split(':not')[0];\n\n          // position where token was found\n          lastPosition = selector.length - token.length;\n        }\n\n        // ID optimization RTL, to reduce number of elements to visit\n        if (Config.UNIQUE_ID && (parts = lastSlice.match(Optimize.ID)) && (token = parts[1])) {\n          if ((element = _byId(token, from))) {\n            if (match(element, selector)) {\n              callback && callback(element);\n              elements = new global.Array(element);\n            } else elements = new global.Array();\n          }\n        }\n\n        // ID optimization LTR, to reduce selection context searches\n        else if (Config.UNIQUE_ID && (parts = selector.match(Optimize.ID)) && (token = parts[1])) {\n          if ((element = _byId(token, doc))) {\n            if ('#' + token == selector) {\n              callback && callback(element);\n              elements = new global.Array(element);\n            } else if (/[>+~]/.test(selector)) {\n              from = element.parentNode;\n            } else {\n              from = element;\n            }\n          } else elements = new global.Array();\n        }\n\n        if (elements) {\n          Config.CACHING && Dom.saveResults(original, from, doc, elements);\n          return elements;\n        }\n\n        if (!NATIVE_GEBCN && (parts = lastSlice.match(Optimize.TAG)) && (token = parts[1])) {\n          if ((elements = _byTag(token, from)).length === 0) { return [ ]; }\n          selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace(token, '*');\n        }\n\n        else if ((parts = lastSlice.match(Optimize.CLASS)) && (token = parts[1])) {\n          if ((elements = _byClass(token, from)).length === 0) { return [ ]; }\n          if (reOptimizeSelector.test(selector.charAt(selector.indexOf(token) - 1))) {\n            selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace('.' + token, '');\n          } else {\n            selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace('.' + token, '*');\n          }\n        }\n\n        else if ((parts = selector.match(Optimize.CLASS)) && (token = parts[1])) {\n          if ((elements = _byClass(token, from)).length === 0) { return [ ]; }\n          for (i = 0, els = new global.Array(); elements.length > i; ++i) {\n            els = concatList(els, elements[i].getElementsByTagName('*'));\n          }\n          elements = els;\n          if (reOptimizeSelector.test(selector.charAt(selector.indexOf(token) - 1))) {\n            selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace('.' + token, '');\n          } else {\n            selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace('.' + token, '*');\n          }\n        }\n\n        else if (NATIVE_GEBCN && (parts = lastSlice.match(Optimize.TAG)) && (token = parts[1])) {\n          if ((elements = _byTag(token, from)).length === 0) { return [ ]; }\n          selector = selector.slice(0, lastPosition) + selector.slice(lastPosition).replace(token, '*');\n        }\n\n      }\n\n      if (!elements) {\n        elements = /^(?:applet|object)$/i.test(from.nodeName) ? from.childNodes : _byTag('*', from);\n      }\n      // end of prefiltering pass\n\n      // compile selector resolver if necessary\n      if (!selectResolvers[selector] || selectContexts[selector] !== from) {\n        selectResolvers[selector] = compile(isSingleSelect ? [selector] : parts, '', true);\n        selectContexts[selector] = from;\n      }\n\n      elements = selectResolvers[selector](elements, Snapshot, [ ], doc, root, from, callback, new global.Object());\n\n      Config.CACHING && Dom.saveResults(original, from, doc, elements);\n\n      return elements;\n    },\n\n  /*-------------------------------- STORAGE ---------------------------------*/\n\n  // empty function handler\n  FN = function(x) { return x; },\n\n  // compiled match functions returning booleans\n  matchContexts = new global.Object(),\n  matchResolvers = new global.Object(),\n\n  // compiled select functions returning collections\n  selectContexts = new global.Object(),\n  selectResolvers = new global.Object(),\n\n  // used to pass methods to compiled functions\n  Snapshot = new global.Object({\n\n    // element indexing methods\n    nthElement: nthElement,\n    nthOfType: nthOfType,\n\n    // element inspection methods\n    getAttribute: getAttribute,\n    hasAttribute: hasAttribute,\n\n    // element selection methods\n    byClass: _byClass,\n    byName: byName,\n    byTag: _byTag,\n    byId: _byId,\n\n    // helper/check methods\n    contains: contains,\n    isEmpty: isEmpty,\n    isLink: isLink,\n\n    // selection/matching\n    select: select,\n    match: match\n  }),\n\n  Tokens = new global.Object({\n    prefixes: prefixes,\n    encoding: encoding,\n    operators: operators,\n    whitespace: whitespace,\n    identifier: identifier,\n    attributes: attributes,\n    combinators: combinators,\n    pseudoclass: pseudoclass,\n    pseudoparms: pseudoparms,\n    quotedvalue: quotedvalue\n  });\n\n  /*------------------------------- PUBLIC API -------------------------------*/\n\n  // code referenced by extensions\n  Dom.ACCEPT_NODE = ACCEPT_NODE;\n\n  // retrieve element by id attr\n  Dom.byId = byId;\n\n  // retrieve elements by tag name\n  Dom.byTag = byTag;\n\n  // retrieve elements by name attr\n  Dom.byName = byName;\n\n  // retrieve elements by class name\n  Dom.byClass = byClass;\n\n  // read the value of the attribute\n  // as was in the original HTML code\n  Dom.getAttribute = getAttribute;\n\n  // check for the attribute presence\n  // as was in the original HTML code\n  Dom.hasAttribute = hasAttribute;\n\n  // element match selector, return boolean true/false\n  Dom.match = match;\n\n  // first element match only, return element or null\n  Dom.first = first;\n\n  // elements matching selector, starting from element\n  Dom.select = select;\n\n  // compile selector into ad-hoc javascript resolver\n  Dom.compile = compile;\n\n  // check that two elements are ancestor/descendant\n  Dom.contains = contains;\n\n  // handle selector engine configuration settings\n  Dom.configure = configure;\n\n  // initialize caching for each document\n  Dom.setCache = FN;\n\n  // load previously collected result set\n  Dom.loadResults = FN;\n\n  // save previously collected result set\n  Dom.saveResults = FN;\n\n  // handle missing context in selector strings\n  Dom.shortcuts = FN;\n\n  // log resolvers errors/warnings\n  Dom.emit = emit;\n\n  // options enabing specific engine functionality\n  Dom.Config = Config;\n\n  // pass methods references to compiled resolvers\n  Dom.Snapshot = Snapshot;\n\n  // operators descriptor\n  // for attribute operators extensions\n  Dom.Operators = Operators;\n\n  // selectors descriptor\n  // for pseudo-class selectors extensions\n  Dom.Selectors = Selectors;\n\n  // export string patterns\n  Dom.Tokens = Tokens;\n\n  // export version string\n  Dom.Version = version;\n\n  // add or overwrite user defined operators\n  Dom.registerOperator =\n    function(symbol, resolver) {\n      Operators[symbol] || (Operators[symbol] = resolver);\n    };\n\n  // add selector patterns for user defined callbacks\n  Dom.registerSelector =\n    function(name, rexp, func) {\n      Selectors[name] || (Selectors[name] = new global.Object({\n        Expression: rexp,\n        Callback: func\n      }));\n    };\n\n  /*---------------------------------- INIT ----------------------------------*/\n\n  // init context specific variables\n  switchContext(doc, true);\n\n});\n\n/*\r\n\tselectivizr.com\r\n\r\n\tNotes about this source\r\n\t-----------------------\r\n * The #DEBUG_START and #DEBUG_END comments are used to mark blocks of code\r\n   that will be removed prior to building a final release version (using a\r\n   pre-compression script)\r\n\r\n\tReferences:\r\n\t-----------\r\n * CSS Syntax          : https://www.w3.org/TR/2003/WD-css3-syntax-20030813/#style\r\n * Selectors           : https://www.w3.org/TR/css3-selectors/#selectors\r\n * IE Compatability    : https://msdn.microsoft.com/en-us/library/cc351024%28VS.85%29.aspx\r\n * W3C Selector Tests  : https://www.w3.org/Style/CSS/Test/CSS3/Selectors/current/html/tests/\r\n*/\r\n\r\n(function(win) {\r\n\r\n\t// Determine IE version and stop execution if browser isn't IE. This\r\n\t// handles the script being loaded by non IE browsers because the\r\n\t// developer didn't use conditional comments.\r\n\tvar ieUserAgent = navigator.userAgent.match(/MSIE (\\d+)/);\r\n\tif (!ieUserAgent) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// =========================== Init Objects ============================\r\n\r\n\tvar doc = document;\r\n\tvar root = doc.documentElement;\r\n\tvar xhr = getXHRObject();\r\n\tvar ieVersion = ieUserAgent[1];\r\n\r\n\t// If were not in standards mode, IE is too old / new or we can't create\r\n\t// an XMLHttpRequest object then we should get out now.\r\n\tif (doc.compatMode != 'CSS1Compat' || ieVersion<6 || ieVersion>8 || !xhr) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// ========================= Common Objects ============================\r\n\r\n\t// Compatible selector engines in order of CSS3 support. Note: '*' is\r\n\t// a placeholder for the object key name. (basically, crude compression)\r\n\tvar selectorEngines = {\r\n\t\t\"NW\"\t\t\t\t\t\t\t\t: \"*.Dom.select\",\r\n\t\t\"MooTools\"\t\t\t\t\t\t\t: \"$$\",\r\n\t\t\"DOMAssistant\"\t\t\t\t\t\t: \"*.$\",\r\n\t\t\"Prototype\"\t\t\t\t\t\t\t: \"$$\",\r\n\t\t\"YAHOO\"\t\t\t\t\t\t\t\t: \"*.util.Selector.query\",\r\n\t\t\"Sizzle\"\t\t\t\t\t\t\t: \"*\",\r\n\t\t\"jQuery\"\t\t\t\t\t\t\t: \"*\",\r\n\t\t\"dojo\"\t\t\t\t\t\t\t\t: \"*.query\"\r\n\t};\r\n\r\n\tvar selectorMethod;\r\n\tvar enabledWatchers \t\t\t\t\t= [];     // array of :enabled/:disabled elements to poll\r\n\tvar domPatches\t\t\t\t\t\t\t= [];\r\n\tvar ie6PatchID \t\t\t\t\t\t\t= 0;      // used to solve ie6's multiple class bug\r\n\tvar patchIE6MultipleClasses\t\t\t\t= true;   // if true adds class bloat to ie6\r\n\tvar namespace \t\t\t\t\t\t\t= \"slvzr\";\r\n\r\n\t// Stylesheet parsing regexp's\r\n\tvar RE_COMMENT\t\t\t\t\t\t\t= /(\\/\\*[^*]*\\*+([^\\/][^*]*\\*+)*\\/)\\s*?/g;\r\n\tvar RE_IMPORT\t\t\t\t\t\t\t= /@import\\s*(?:(?:(?:url\\(\\s*(['\"]?)([^;]*)\\1)\\s*\\))|(?:(['\"])([^;]*)\\3))\\s*([^;]*);/g;\r\n\tvar RE_ASSET_URL \t\t\t\t\t\t= /(behavior\\s*?:\\s*)?\\burl\\(\\s*([\"']?)(?!data:)([^\"')]+)\\2\\s*\\)/g;\r\n\tvar RE_PSEUDO_STRUCTURAL\t\t\t\t= /^:(empty|(first|last|only|nth(-last)?)-(child|of-type))$/;\r\n\tvar RE_PSEUDO_ELEMENTS\t\t\t\t\t= /:(:first-(?:line|letter))/g;\r\n\tvar RE_SELECTOR_GROUP\t\t\t\t\t= /((?:^|(?:\\s*})+)(?:\\s*@media[^{]+{)?)\\s*([^\\{]*?[\\[:][^{]+)/g;\r\n\tvar RE_SELECTOR_PARSE\t\t\t\t\t= /([ +~>])|(:[a-z-]+(?:\\(.*?\\)+)?)|(\\[.*?\\])/g;\r\n\tvar RE_LIBRARY_INCOMPATIBLE_PSEUDOS\t\t= /(:not\\()?:(hover|enabled|disabled|focus|checked|target|active|visited|first-line|first-letter)\\)?/g;\r\n\tvar RE_PATCH_CLASS_NAME_REPLACE\t\t\t= /[^\\w-]/g;\r\n\r\n\t// HTML UI element regexp's\r\n\tvar RE_INPUT_ELEMENTS\t\t\t\t\t= /^(INPUT|SELECT|TEXTAREA|BUTTON)$/;\r\n\tvar RE_INPUT_CHECKABLE_TYPES\t\t\t= /^(checkbox|radio)$/;\r\n\r\n\t// Broken attribute selector implementations (IE7/8 native [^=\"\"], [$=\"\"] and [*=\"\"])\r\n\tvar BROKEN_ATTR_IMPLEMENTATIONS\t\t\t= ieVersion>6 ? /[\\$\\^*]=(['\"])\\1/ : null;\r\n\r\n\t// Whitespace normalization regexp's\r\n\tvar RE_TIDY_TRAILING_WHITESPACE\t\t\t= /([(\\[+~])\\s+/g;\r\n\tvar RE_TIDY_LEADING_WHITESPACE\t\t\t= /\\s+([)\\]+~])/g;\r\n\tvar RE_TIDY_CONSECUTIVE_WHITESPACE\t\t= /\\s+/g;\r\n\tvar RE_TIDY_TRIM_WHITESPACE\t\t\t\t= /^\\s*((?:[\\S\\s]*\\S)?)\\s*$/;\r\n\r\n\t// String constants\r\n\tvar EMPTY_STRING\t\t\t\t\t\t= \"\";\r\n\tvar SPACE_STRING\t\t\t\t\t\t= \" \";\r\n\tvar PLACEHOLDER_STRING\t\t\t\t\t= \"$1\";\r\n\r\n\t// =========================== Patching ================================\r\n\r\n\t// --[ patchStyleSheet() ]----------------------------------------------\r\n\t// Scans the passed cssText for selectors that require emulation and\r\n\t// creates one or more patches for each matched selector.\r\n\tfunction patchStyleSheet( cssText ) {\r\n\t\treturn cssText.replace(RE_PSEUDO_ELEMENTS, PLACEHOLDER_STRING).\r\n\t\t\treplace(RE_SELECTOR_GROUP, function(m, prefix, selectorText) {\r\n    \t\t\tvar selectorGroups = selectorText.split(\",\");\r\n\t\t\t\t\tfunction comboBreaker (match, combinator, pseudo, attribute, index) {\r\n\t\t\t\t\t\tif (combinator) {\r\n\t\t\t\t\t\t\tif (patches.length>0) {\r\n\t\t\t\t\t\t\t\tdomPatches.push( { selector: selector.substring(0, index), patches: patches } );\r\n\t\t\t\t\t\t\t\tpatches = [];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn combinator;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tvar patch = (pseudo) ? patchPseudoClass( pseudo ) : patchAttribute( attribute );\r\n\t\t\t\t\t\t\tif (patch) {\r\n\t\t\t\t\t\t\t\tpatches.push(patch);\r\n\t\t\t\t\t\t\t\treturn \".\" + patch.className;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn match;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n    \t\t\tfor (var c = 0, cs = selectorGroups.length; c < cs; c++) {\r\n    \t\t\t\tvar selector = normalizeSelectorWhitespace(selectorGroups[c]) + SPACE_STRING;\r\n    \t\t\t\tvar patches = [];\r\n    \t\t\t\tselectorGroups[c] = selector.replace(RE_SELECTOR_PARSE, comboBreaker);\r\n    \t\t\t}\r\n    \t\t\treturn prefix + selectorGroups.join(\",\");\r\n    \t\t});\r\n\t}\r\n\r\n\t// --[ patchAttribute() ]-----------------------------------------------\r\n\t// returns a patch for an attribute selector.\r\n\tfunction patchAttribute( attr ) {\r\n\t\treturn (!BROKEN_ATTR_IMPLEMENTATIONS || BROKEN_ATTR_IMPLEMENTATIONS.test(attr)) ?\r\n\t\t\t{ className: createClassName(attr), applyClass: true } : null;\r\n\t}\r\n\r\n\t// --[ patchPseudoClass() ]---------------------------------------------\r\n\t// returns a patch for a pseudo-class\r\n\tfunction patchPseudoClass( pseudo ) {\r\n\r\n\t\tvar applyClass = true;\r\n\t\tvar className = createClassName(pseudo.slice(1));\r\n\t\tvar isNegated = pseudo.substring(0, 5) == \":not(\";\r\n\t\tvar activateEventName;\r\n\t\tvar deactivateEventName;\r\n\r\n\t\t// if negated, remove :not()\r\n\t\tif (isNegated) {\r\n\t\t\tpseudo = pseudo.slice(5, -1);\r\n\t\t}\r\n\r\n\t\t// bracket contents are irrelevant - remove them\r\n\t\tvar bracketIndex = pseudo.indexOf(\"(\");\r\n\t\tif (bracketIndex > -1) {\r\n\t\t\tpseudo = pseudo.substring(0, bracketIndex);\r\n\t\t}\r\n\r\n\t\t// check we're still dealing with a pseudo-class\r\n\t\tif (pseudo.charAt(0) == \":\") {\r\n\t\t\tswitch (pseudo.slice(1)) {\r\n\r\n\t\t\t\tcase \"root\":\r\n\t\t\t\t\tapplyClass = function(e) {\r\n\t\t\t\t\t\treturn isNegated ? e != root : e == root;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"target\":\r\n\t\t\t\t\t// :target is only supported in IE8\r\n\t\t\t\t\tif (ieVersion == 8) {\r\n\t\t\t\t\t\tapplyClass = function(e) {\r\n\t\t\t\t\t\t\tvar handler = function() {\r\n\t\t\t\t\t\t\t\tvar hash = location.hash;\r\n\t\t\t\t\t\t\t\tvar hashID = hash.slice(1);\r\n\t\t\t\t\t\t\t\treturn isNegated ? (hash == EMPTY_STRING || e.id != hashID) : (hash != EMPTY_STRING && e.id == hashID);\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\taddEvent( win, \"hashchange\", function() {\r\n\t\t\t\t\t\t\t\ttoggleElementClass(e, className, handler());\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn handler();\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\r\n\t\t\t\tcase \"checked\":\r\n\t\t\t\t\tapplyClass = function(e) {\r\n\t\t\t\t\t\tif (RE_INPUT_CHECKABLE_TYPES.test(e.type)) {\r\n\t\t\t\t\t\t\taddEvent( e, \"propertychange\", function() {\r\n\t\t\t\t\t\t\t\tif (event.propertyName == \"checked\") {\r\n\t\t\t\t\t\t\t\t\ttoggleElementClass( e, className, e.checked !== isNegated );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn e.checked !== isNegated;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"disabled\":\r\n\t\t\t\t\tisNegated = !isNegated;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"enabled\":\r\n\t\t\t\t\tapplyClass = function(e) {\r\n\t\t\t\t\t\tif (RE_INPUT_ELEMENTS.test(e.tagName)) {\r\n\t\t\t\t\t\t\taddEvent( e, \"propertychange\", function() {\r\n\t\t\t\t\t\t\t\tif (event.propertyName == \"$disabled\") {\r\n\t\t\t\t\t\t\t\t\ttoggleElementClass( e, className, e.$disabled === isNegated );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tenabledWatchers.push(e);\r\n\t\t\t\t\t\t\te.$disabled = e.disabled;\r\n\t\t\t\t\t\t\treturn e.disabled === isNegated;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn pseudo == \":enabled\" ? isNegated : !isNegated;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"focus\":\r\n\t\t\t\t\tactivateEventName = \"focus\";\r\n\t\t\t\t\tdeactivateEventName = \"blur\";\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"hover\":\r\n\t\t\t\t\tif (!activateEventName) {\r\n\t\t\t\t\t\tactivateEventName = \"mouseenter\";\r\n\t\t\t\t\t\tdeactivateEventName = \"mouseleave\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tapplyClass = function(e) {\r\n\t\t\t\t\t\taddEvent( e, isNegated ? deactivateEventName : activateEventName, function() {\r\n\t\t\t\t\t\t\ttoggleElementClass( e, className, true );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\taddEvent( e, isNegated ? activateEventName : deactivateEventName, function() {\r\n\t\t\t\t\t\t\ttoggleElementClass( e, className, false );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn isNegated;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t// everything else\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t// If we don't support this pseudo-class don't create\r\n\t\t\t\t\t// a patch for it\r\n\t\t\t\t\tif (!RE_PSEUDO_STRUCTURAL.test(pseudo)) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn { className: className, applyClass: applyClass };\r\n\t}\r\n\r\n\t// --[ applyPatches() ]-------------------------------------------------\r\n\tfunction applyPatches() {\r\n\t\tvar elms, selectorText, patches, domSelectorText;\r\n\r\n\t\tfor (var c=0; c<domPatches.length; c++) {\r\n\t\t\tselectorText = domPatches[c].selector;\r\n\t\t\tpatches = domPatches[c].patches;\r\n\r\n\t\t\t// Although some selector libraries can find :checked :enabled etc.\r\n\t\t\t// we need to find all elements that could have that state because\r\n\t\t\t// it can be changed by the user.\r\n\t\t\tdomSelectorText = selectorText.replace(RE_LIBRARY_INCOMPATIBLE_PSEUDOS, EMPTY_STRING);\r\n\r\n\t\t\t// If the dom selector equates to an empty string or ends with\r\n\t\t\t// whitespace then we need to append a universal selector (*) to it.\r\n\t\t\tif (domSelectorText == EMPTY_STRING || domSelectorText.charAt(domSelectorText.length - 1) == SPACE_STRING) {\r\n\t\t\t\tdomSelectorText += \"*\";\r\n\t\t\t}\r\n\r\n\t\t\t// Ensure we catch errors from the selector library\r\n\t\t\ttry {\r\n\t\t\t\telms = selectorMethod( domSelectorText );\r\n\t\t\t} catch (ex) {\r\n\t\t\t\t// #DEBUG_START\r\n\t\t\t\tlog( \"Selector '\" + selectorText + \"' threw exception '\" + ex + \"'\" );\r\n\t\t\t\t// #DEBUG_END\r\n\t\t\t}\r\n\r\n\t\t\tif (elms) {\r\n\t\t\t\tfor (var d = 0, dl = elms.length; d < dl; d++) {\r\n\t\t\t\t\tvar elm = elms[d];\r\n\t\t\t\t\tvar cssClasses = elm.className;\r\n\t\t\t\t\tfor (var f = 0, fl = patches.length; f < fl; f++) {\r\n\t\t\t\t\t\tvar patch = patches[f];\r\n\t\t\t\t\t\tif (!hasPatch(elm, patch)) {\r\n\t\t\t\t\t\t\tif (patch.applyClass && (patch.applyClass === true || patch.applyClass(elm) === true)) {\r\n\t\t\t\t\t\t\t\tcssClasses = toggleClass(cssClasses, patch.className, true );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telm.className = cssClasses;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// --[ hasPatch() ]-----------------------------------------------------\r\n\t// checks for the existence of a patch on an element\r\n\tfunction hasPatch( elm, patch ) {\r\n\t\treturn new RegExp(\"(^|\\\\s)\" + patch.className + \"(\\\\s|$)\").test(elm.className);\r\n\t}\r\n\r\n\t// =========================== Utility =================================\r\n\r\n\tfunction createClassName( className ) {\r\n\t\treturn namespace + \"-\" + ((ieVersion == 6 && patchIE6MultipleClasses) ?\r\n\t\t\tie6PatchID++\r\n\t\t:\r\n\t\t\tclassName.replace(RE_PATCH_CLASS_NAME_REPLACE, function(a) { return a.charCodeAt(0); }));\r\n\t}\r\n\r\n\t// --[ log() ]----------------------------------------------------------\r\n\t// #DEBUG_START\r\n\tfunction log( message ) {\r\n\t\tif (win.console) {\r\n\t\t\twin.console.log(message);\r\n\t\t}\r\n\t}\r\n\t// #DEBUG_END\r\n\r\n\t// --[ trim() ]---------------------------------------------------------\r\n\t// removes leading, trailing whitespace from a string\r\n\tfunction trim( text ) {\r\n\t\treturn text.replace(RE_TIDY_TRIM_WHITESPACE, PLACEHOLDER_STRING);\r\n\t}\r\n\r\n\t// --[ normalizeWhitespace() ]------------------------------------------\r\n\t// removes leading, trailing and consecutive whitespace from a string\r\n\tfunction normalizeWhitespace( text ) {\r\n\t\treturn trim(text).replace(RE_TIDY_CONSECUTIVE_WHITESPACE, SPACE_STRING);\r\n\t}\r\n\r\n\t// --[ normalizeSelectorWhitespace() ]----------------------------------\r\n\t// tidies whitespace around selector brackets and combinators\r\n\tfunction normalizeSelectorWhitespace( selectorText ) {\r\n\t\treturn normalizeWhitespace(selectorText.\r\n\t\t\treplace(RE_TIDY_TRAILING_WHITESPACE, PLACEHOLDER_STRING).\r\n\t\t\treplace(RE_TIDY_LEADING_WHITESPACE, PLACEHOLDER_STRING)\r\n\t\t);\r\n\t}\r\n\r\n\t// --[ toggleElementClass() ]-------------------------------------------\r\n\t// toggles a single className on an element\r\n\tfunction toggleElementClass( elm, className, on ) {\r\n\t\tvar oldClassName = elm.className;\r\n\t\tvar newClassName = toggleClass(oldClassName, className, on);\r\n\t\tif (newClassName != oldClassName) {\r\n\t\t\telm.className = newClassName;\r\n\t\t\telm.parentNode.className += EMPTY_STRING;\r\n\t\t}\r\n\t}\r\n\r\n\t// --[ toggleClass() ]--------------------------------------------------\r\n\t// adds / removes a className from a string of classNames. Used to\r\n\t// manage multiple class changes without forcing a DOM redraw\r\n\tfunction toggleClass( classList, className, on ) {\r\n\t\tvar re = RegExp(\"(^|\\\\s)\" + className + \"(\\\\s|$)\");\r\n\t\tvar classExists = re.test(classList);\r\n\t\tif (on) {\r\n\t\t\treturn classExists ? classList : classList + SPACE_STRING + className;\r\n\t\t} else {\r\n\t\t\treturn classExists ? trim(classList.replace(re, PLACEHOLDER_STRING)) : classList;\r\n\t\t}\r\n\t}\r\n\r\n\t// --[ addEvent() ]-----------------------------------------------------\r\n\tfunction addEvent(elm, eventName, eventHandler) {\r\n\t\telm.attachEvent(\"on\" + eventName, eventHandler);\r\n\t}\r\n\r\n\t// --[ getXHRObject() ]-------------------------------------------------\r\n\tfunction getXHRObject() {\r\n\t\tif (win.XMLHttpRequest) {\r\n\t\t\treturn new XMLHttpRequest();\r\n\t\t}\r\n\t\ttry\t{\r\n\t\t\treturn new ActiveXObject('Microsoft.XMLHTTP');\r\n\t\t} catch(e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t// --[ loadStyleSheet() ]-----------------------------------------------\r\n\tfunction loadStyleSheet( url ) {\r\n\t\txhr.open(\"GET\", url, false);\r\n\t\txhr.send();\r\n\t\treturn (xhr.status==200) ? (xhr.responseText != null ? xhr.responseText : EMPTY_STRING) : EMPTY_STRING;\r\n\t}\r\n\r\n\t// --[ resolveUrl() ]---------------------------------------------------\r\n\t// Converts a URL fragment to a fully qualified URL using the specified\r\n\t// context URL. Returns null if same-origin policy is broken\r\n\tfunction resolveUrl( url, contextUrl, ignoreSameOriginPolicy ) {\r\n\r\n\t\tfunction getProtocol( url ) {\r\n\t\t\treturn url.substring(0, url.indexOf(\"//\"));\r\n\t\t}\r\n\r\n\t\tfunction getProtocolAndHost( url ) {\r\n\t\t\treturn url.substring(0, url.indexOf(\"/\", 8));\r\n\t\t}\r\n\r\n\t\tif (!contextUrl) {\r\n\t\t\tcontextUrl = baseUrl;\r\n\t\t}\r\n\r\n\t\t// protocol-relative path\r\n\t\tif (url.substring(0,2)==\"//\") {\r\n\t\t\turl = getProtocol(contextUrl) + url;\r\n\t\t}\r\n\r\n\t\t// absolute path\r\n\t\tif (/^https?:\\/\\//i.test(url)) {\r\n\t\t\treturn !ignoreSameOriginPolicy && getProtocolAndHost(contextUrl) != getProtocolAndHost(url) ? null : url ;\r\n\t\t}\r\n\r\n\t\t// root-relative path\r\n\t\tif (url.charAt(0)==\"/\")\t{\r\n\t\t\treturn getProtocolAndHost(contextUrl) + url;\r\n\t\t}\r\n\r\n\t\t// relative path\r\n\t\tvar contextUrlPath = contextUrl.split(/[?#]/)[0]; // ignore query string in the contextUrl\r\n\t\tif (url.charAt(0) != \"?\" && contextUrlPath.charAt(contextUrlPath.length - 1) != \"/\") {\r\n\t\t\tcontextUrlPath = contextUrlPath.substring(0, contextUrlPath.lastIndexOf(\"/\") + 1);\r\n\t\t}\r\n\r\n\t\treturn contextUrlPath + url;\r\n\t}\r\n\r\n\t// --[ parseStyleSheet() ]----------------------------------------------\r\n\t// Downloads the stylesheet specified by the URL, removes it's comments\r\n\t// and recursivly replaces @import rules with their contents, ultimately\r\n\t// returning the full cssText.\r\n\tfunction parseStyleSheet( url ) {\r\n\t\tif (url && url.indexOf(\".css\") !== -1) {\r\n\t\t\treturn loadStyleSheet(url).replace(RE_COMMENT, EMPTY_STRING).\r\n\t\t\treplace(RE_IMPORT, function( match, quoteChar, importUrl, quoteChar2, importUrl2, media ) {\r\n\t\t\t\tvar cssText = parseStyleSheet(resolveUrl(importUrl || importUrl2, url));\r\n\t\t\t\treturn (media) ? \"@media \" + media + \" {\" + cssText + \"}\" : cssText;\r\n\t\t\t}).\r\n\t\t\treplace(RE_ASSET_URL, function( match, isBehavior, quoteChar, assetUrl ) {\r\n\t\t\t\tquoteChar = quoteChar || EMPTY_STRING;\r\n\t\t\t\treturn isBehavior ? match : \" url(\" + quoteChar + resolveUrl(assetUrl, url, true) + quoteChar + \") \";\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn EMPTY_STRING;\r\n\t}\r\n\r\n\t// --[ getStyleSheets() ]-----------------------------------------------\r\n\tfunction getStyleSheets() {\r\n\t\tvar url, stylesheet;\r\n\t\tfor (var c = 0; c < doc.styleSheets.length; c++) {\r\n\t\t\tstylesheet = doc.styleSheets[c];\r\n\t\t\tif (stylesheet.href != EMPTY_STRING) {\r\n\t\t\t\turl = resolveUrl(stylesheet.href);\r\n\t\t\t\tif (url) {\r\n\t\t\t\t\tstylesheet.cssText = stylesheet.rawCssText = patchStyleSheet( parseStyleSheet( url ) );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// --[ init() ]---------------------------------------------------------\r\n\tfunction init() {\r\n\t\tapplyPatches();\r\n\r\n\t\t// :enabled & :disabled polling script (since we can't hook\r\n\t\t// onpropertychange event when an element is disabled)\r\n\t\tif (enabledWatchers.length > 0) {\r\n\t\t\tsetInterval( function() {\r\n\t\t\t\tfor (var c = 0, cl = enabledWatchers.length; c < cl; c++) {\r\n\t\t\t\t\tvar e = enabledWatchers[c];\r\n\t\t\t\t\tif (e.disabled !== e.$disabled) {\r\n\t\t\t\t\t\tif (e.disabled) {\r\n\t\t\t\t\t\t\te.disabled = false;\r\n\t\t\t\t\t\t\te.$disabled = true;\r\n\t\t\t\t\t\t\te.disabled = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\te.$disabled = e.disabled;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, 250);\r\n\t\t}\r\n\t}\r\n\r\n\t// Determine the baseUrl and download the stylesheets\r\n\tvar baseTags = doc.getElementsByTagName(\"BASE\");\r\n\tvar baseUrl = (baseTags.length > 0) ? baseTags[0].href : doc.location.href;\r\n\tgetStyleSheets();\r\n\r\n\t// Bind selectivizr to the ContentLoaded event.\r\n\tContentLoaded(win, function() {\r\n\t\t// Determine the \"best fit\" selector engine\r\n\t\tfor (var engine in selectorEngines) {\r\n\t\t\tvar members, member, context = win;\r\n\t\t\tif (win[engine]) {\r\n\t\t\t\tmembers = selectorEngines[engine].replace(\"*\", engine).split(\".\");\r\n\t\t\t\twhile ((member = members.shift()) && (context = context[member])) {}\r\n\t\t\t\tif (typeof context == \"function\") {\r\n\t\t\t\t\tselectorMethod = context;\r\n\t\t\t\t\tinit();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/*!\r\n\t * ContentLoaded.js by Diego Perini, modified for IE<9 only (to save space)\r\n\t *\r\n\t * Author: Diego Perini (diego.perini at gmail.com)\r\n\t * Summary: cross-browser wrapper for DOMContentLoaded\r\n\t * Updated: 20101020\r\n\t * License: MIT\r\n\t * Version: 1.2\r\n\t *\r\n\t * URL:\r\n\t * http://javascript.nwbox.com/ContentLoaded/\r\n\t * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE\r\n\t *\r\n\t */\r\n\r\n\t// @w window reference\r\n\t// @f function reference\r\n\tfunction ContentLoaded(win, fn) {\r\n\r\n\t\tvar done = false, top = true,\r\n\t\tinit = function(e) {\r\n\t\t\tif (e.type == \"readystatechange\" && doc.readyState != \"complete\") return;\r\n\t\t\t(e.type == \"load\" ? win : doc).detachEvent(\"on\" + e.type, init, false);\r\n\t\t\tif (!done && (done = true)) fn.call(win, e.type || e);\r\n\t\t},\r\n\t\tpoll = function() {\r\n\t\t\ttry { root.doScroll(\"left\"); } catch(e) { setTimeout(poll, 50); return; }\r\n\t\t\tinit('poll');\r\n\t\t};\r\n\r\n\t\tif (doc.readyState == \"complete\") fn.call(win, EMPTY_STRING);\r\n\t\telse {\r\n\t\t\tif (doc.createEventObject && root.doScroll) {\r\n\t\t\t\ttry { top = !win.frameElement; } catch(e) { }\r\n\t\t\t\tif (top) poll();\r\n\t\t\t}\r\n\t\t\taddEvent(doc,\"readystatechange\", init);\r\n\t\t\taddEvent(win,\"load\", init);\r\n\t\t}\r\n\t}\r\n})(this);\r\n\n/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license */\n/*! NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part */\n(function(w) {\n  \"use strict\";\n  w.matchMedia = w.matchMedia || function(doc, undefined) {\n    var bool, docElem = doc.documentElement, refNode = docElem.firstElementChild || docElem.firstChild, fakeBody = doc.createElement(\"body\"), div = doc.createElement(\"div\");\n    div.id = \"mq-test-1\";\n    div.style.cssText = \"position:absolute;top:-100em\";\n    fakeBody.style.background = \"none\";\n    fakeBody.appendChild(div);\n    return function(q) {\n      div.innerHTML = '&shy;<style media=\"' + q + '\"> #mq-test-1 { width: 42px; }</style>';\n      docElem.insertBefore(fakeBody, refNode);\n      bool = div.offsetWidth === 42;\n      docElem.removeChild(fakeBody);\n      return {\n        matches: bool,\n        media: q\n      };\n    };\n  }(w.document);\n})(this);\n\n/*! Respond.js v1.4.0: min/max-width media query polyfill. (c) Scott Jehl. MIT Lic. j.mp/respondjs  */\n(function(w) {\n  \"use strict\";\n  var respond = {};\n  w.respond = respond;\n  respond.update = function() {};\n  var requestQueue = [], xmlHttp = function() {\n    var xmlhttpmethod = false;\n    try {\n      xmlhttpmethod = new w.XMLHttpRequest();\n    } catch (e) {\n      xmlhttpmethod = new w.ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    return function() {\n      return xmlhttpmethod;\n    };\n  }(), ajax = function(url, callback) {\n    var req = xmlHttp();\n    if (!req) {\n      return;\n    }\n    req.open(\"GET\", url, true);\n    req.onreadystatechange = function() {\n      if (req.readyState !== 4 || req.status !== 200 && req.status !== 304) {\n        return;\n      }\n      callback(req.responseText);\n    };\n    if (req.readyState === 4) {\n      return;\n    }\n    req.send(null);\n  };\n  respond.ajax = ajax;\n  respond.queue = requestQueue;\n  respond.regex = {\n    media: /@media[^\\{]+\\{([^\\{\\}]*\\{[^\\}\\{]*\\})+/gi,\n    keyframes: /@(?:\\-(?:o|moz|webkit)\\-)?keyframes[^\\{]+\\{(?:[^\\{\\}]*\\{[^\\}\\{]*\\})+[^\\}]*\\}/gi,\n    urls: /(url\\()['\"]?([^\\/\\)'\"][^:\\)'\"]+)['\"]?(\\))/g,\n    findStyles: /@media *([^\\{]+)\\{([\\S\\s]+?)$/,\n    only: /(only\\s+)?([a-zA-Z]+)\\s?/,\n    minw: /\\([\\s]*min\\-width\\s*:[\\s]*([\\s]*[0-9\\.]+)(px|em)[\\s]*\\)/,\n    maxw: /\\([\\s]*max\\-width\\s*:[\\s]*([\\s]*[0-9\\.]+)(px|em)[\\s]*\\)/\n  };\n  respond.mediaQueriesSupported = w.matchMedia && w.matchMedia(\"only all\") !== null && w.matchMedia(\"only all\").matches;\n  if (respond.mediaQueriesSupported) {\n    return;\n  }\n  var doc = w.document, docElem = doc.documentElement, mediastyles = [], rules = [], appendedEls = [], parsedSheets = {}, resizeThrottle = 30, head = doc.getElementsByTagName(\"head\")[0] || docElem, base = doc.getElementsByTagName(\"base\")[0], links = head.getElementsByTagName(\"link\"), lastCall, resizeDefer, eminpx, getEmValue = function() {\n    var ret, div = doc.createElement(\"div\"), body = doc.body, originalHTMLFontSize = docElem.style.fontSize, originalBodyFontSize = body && body.style.fontSize, fakeUsed = false;\n    div.style.cssText = \"position:absolute;font-size:1em;width:1em\";\n    if (!body) {\n      body = fakeUsed = doc.createElement(\"body\");\n      body.style.background = \"none\";\n    }\n    docElem.style.fontSize = \"100%\";\n    body.style.fontSize = \"100%\";\n    body.appendChild(div);\n    if (fakeUsed) {\n      docElem.insertBefore(body, docElem.firstChild);\n    }\n    ret = div.offsetWidth;\n    if (fakeUsed) {\n      docElem.removeChild(body);\n    } else {\n      body.removeChild(div);\n    }\n    docElem.style.fontSize = originalHTMLFontSize;\n    if (originalBodyFontSize) {\n      body.style.fontSize = originalBodyFontSize;\n    }\n    ret = eminpx = parseFloat(ret);\n    return ret;\n  }, applyMedia = function(fromResize) {\n    var name = \"clientWidth\", docElemProp = docElem[name], currWidth = doc.compatMode === \"CSS1Compat\" && docElemProp || doc.body[name] || docElemProp, styleBlocks = {}, lastLink = links[links.length - 1], now = new Date().getTime();\n    if (fromResize && lastCall && now - lastCall < resizeThrottle) {\n      w.clearTimeout(resizeDefer);\n      resizeDefer = w.setTimeout(applyMedia, resizeThrottle);\n      return;\n    } else {\n      lastCall = now;\n    }\n    for (var i in mediastyles) {\n      if (mediastyles.hasOwnProperty(i)) {\n        var thisstyle = mediastyles[i], min = thisstyle.minw, max = thisstyle.maxw, minnull = min === null, maxnull = max === null, em = \"em\";\n        if (!!min) {\n          min = parseFloat(min) * (min.indexOf(em) > -1 ? eminpx || getEmValue() : 1);\n        }\n        if (!!max) {\n          max = parseFloat(max) * (max.indexOf(em) > -1 ? eminpx || getEmValue() : 1);\n        }\n        if (!thisstyle.hasquery || (!minnull || !maxnull) && (minnull || currWidth >= min) && (maxnull || currWidth <= max)) {\n          if (!styleBlocks[thisstyle.media]) {\n            styleBlocks[thisstyle.media] = [];\n          }\n          styleBlocks[thisstyle.media].push(rules[thisstyle.rules]);\n        }\n      }\n    }\n    for (var j in appendedEls) {\n      if (appendedEls.hasOwnProperty(j)) {\n        if (appendedEls[j] && appendedEls[j].parentNode === head) {\n          head.removeChild(appendedEls[j]);\n        }\n      }\n    }\n    appendedEls.length = 0;\n    for (var k in styleBlocks) {\n      if (styleBlocks.hasOwnProperty(k)) {\n        var ss = doc.createElement(\"style\"), css = styleBlocks[k].join(\"\\n\");\n        ss.type = \"text/css\";\n        ss.media = k;\n        head.insertBefore(ss, lastLink.nextSibling);\n        if (ss.styleSheet) {\n          ss.styleSheet.cssText = css;\n        } else {\n          ss.appendChild(doc.createTextNode(css));\n        }\n        appendedEls.push(ss);\n      }\n    }\n  }, translate = function(styles, href, media) {\n    var qs = styles.replace(respond.regex.keyframes, \"\").match(respond.regex.media), ql = qs && qs.length || 0;\n    href = href.substring(0, href.lastIndexOf(\"/\"));\n    var repUrls = function(css) {\n      return css.replace(respond.regex.urls, \"$1\" + href + \"$2$3\");\n    }, useMedia = !ql && media;\n    if (href.length) {\n      href += \"/\";\n    }\n    if (useMedia) {\n      ql = 1;\n    }\n    for (var i = 0; i < ql; i++) {\n      var fullq, thisq, eachq, eql;\n      if (useMedia) {\n        fullq = media;\n        rules.push(repUrls(styles));\n      } else {\n        fullq = qs[i].match(respond.regex.findStyles) && RegExp.$1;\n        rules.push(RegExp.$2 && repUrls(RegExp.$2));\n      }\n      eachq = fullq.split(\",\");\n      eql = eachq.length;\n      for (var j = 0; j < eql; j++) {\n        thisq = eachq[j];\n        mediastyles.push({\n          media: thisq.split(\"(\")[0].match(respond.regex.only) && RegExp.$2 || \"all\",\n          rules: rules.length - 1,\n          hasquery: thisq.indexOf(\"(\") > -1,\n          minw: thisq.match(respond.regex.minw) && parseFloat(RegExp.$1) + (RegExp.$2 || \"\"),\n          maxw: thisq.match(respond.regex.maxw) && parseFloat(RegExp.$1) + (RegExp.$2 || \"\")\n        });\n      }\n    }\n    applyMedia();\n  }, makeRequests = function() {\n    if (requestQueue.length) {\n      var thisRequest = requestQueue.shift();\n      ajax(thisRequest.href, function(styles) {\n        translate(styles, thisRequest.href, thisRequest.media);\n        parsedSheets[thisRequest.href] = true;\n        w.setTimeout(function() {\n          makeRequests();\n        }, 0);\n      });\n    }\n  }, ripCSS = function() {\n    for (var i = 0; i < links.length; i++) {\n      var sheet = links[i], href = sheet.href, media = sheet.media, isCSS = sheet.rel && sheet.rel.toLowerCase() === \"stylesheet\";\n      if (!!href && isCSS && !parsedSheets[href]) {\n        if (sheet.styleSheet && sheet.styleSheet.rawCssText) {\n          translate(sheet.styleSheet.rawCssText, href, media);\n          parsedSheets[href] = true;\n        } else {\n          if (!/^([a-zA-Z:]*\\/\\/)/.test(href) && !base || href.replace(RegExp.$1, \"\").split(\"/\")[0] === w.location.host) {\n            if (href.substring(0, 2) === \"//\") {\n              href = w.location.protocol + href;\n            }\n            requestQueue.push({\n              href: href,\n              media: media\n            });\n          }\n        }\n      }\n    }\n    makeRequests();\n  };\n  ripCSS();\n  respond.update = ripCSS;\n  respond.getEmValue = getEmValue;\n  function callMedia() {\n    applyMedia(true);\n  }\n  if (w.addEventListener) {\n    w.addEventListener(\"resize\", callMedia, false);\n  } else if (w.attachEvent) {\n    w.attachEvent(\"onresize\", callMedia);\n  }\n})(this);\n// addEventListener\n// removeEventListener\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener?redirectlocale=en-US&redirectslug=DOM%2FEventTarget.addEventListener#Compatibility\n\n(function() {\n  if (!Element.prototype.addEventListener) {\n    var eventListeners=[];\n    \n    var addEventListener=function(type,listener /*, useCapture (will be ignored) */) {\n      var self=this;\n      var wrapper=function(e) {\n        e.target=e.srcElement;\n        e.currentTarget=self;\n        if (typeof listener.handleEvent != 'undefined') {\n          listener.handleEvent(e);\n        } else {\n          listener.call(self,e);\n        }\n      };\n      if (type==\"DOMContentLoaded\") {\n        var wrapper2=function(e) {\n          if (document.readyState==\"complete\") {\n            wrapper(e);\n          }\n        };\n        document.attachEvent(\"onreadystatechange\",wrapper2);\n        eventListeners.push({object:this,type:type,listener:listener,wrapper:wrapper2});\n        \n        if (document.readyState==\"complete\") {\n          var e=new Event();\n          e.srcElement=window;\n          wrapper2(e);\n        }\n      } else {\n        this.attachEvent(\"on\"+type,wrapper);\n        eventListeners.push({object:this,type:type,listener:listener,wrapper:wrapper});\n      }\n    };\n    var removeEventListener=function(type,listener /*, useCapture (will be ignored) */) {\n      var counter=0;\n      while (counter<eventListeners.length) {\n        var eventListener=eventListeners[counter];\n        if (eventListener.object==this && eventListener.type==type && eventListener.listener==listener) {\n          if (type==\"DOMContentLoaded\") {\n            this.detachEvent(\"onreadystatechange\",eventListener.wrapper);\n          } else {\n            this.detachEvent(\"on\"+type,eventListener.wrapper);\n          }\n          eventListeners.splice(counter, 1);\n          break;\n        }\n        ++counter;\n      }\n    };\n    Element.prototype.addEventListener=addEventListener;\n    Element.prototype.removeEventListener=removeEventListener;\n    if (HTMLDocument) {\n      HTMLDocument.prototype.addEventListener=addEventListener;\n      HTMLDocument.prototype.removeEventListener=removeEventListener;\n    }\n    if (Window) {\n      Window.prototype.addEventListener=addEventListener;\n      Window.prototype.removeEventListener=removeEventListener;\n    }\n  }\n})();\n// Element.childElementCount\n\n(function () {\n  \"use strict\";\n\n  if (!(\"childElementCount\" in document.documentElement)) {\n    Object.defineProperty(Element.prototype, \"childElementCount\", {\n      get: function(){\n        for(var c = 0, nodes = this.children, i = 0, l = nodes.length; i < l; ++i) {\n          if(nodes[i].nodeType === 1) { ++c; }\n        }\n        return c;\n      }\n    });\n  }\n})();\n// Element.firstElementChild\n\n(function () {\n  \"use strict\";\n\n  if (!(\"firstElementChild\" in document.documentElement)) {\n    Object.defineProperty(Element.prototype, \"firstElementChild\", {\n      get: function(){\n        for(var nodes = this.children, n, i = 0, l = nodes.length; i < l; ++i) {\n          if(n = nodes[i], 1 === n.nodeType) { return n; }\n        }\n        return null;\n      }\n    });\n  }\n})();\n// getComputedStyle\n\n(function(){\n  \"use strict\";\n  \n  if(!window.getComputedStyle){\n    window.getComputedStyle = function(el){\n      if(!el) { return null; }\n      \n      /**\n       * currentStyle returns an instance of a non-standard class called \"CSSCurrentStyleDeclaration\"\n       * instead of \"CSSStyleDeclaration\", which has a few methods and properties missing (such as cssText).\n       * https://msdn.microsoft.com/en-us/library/cc848941(v=vs.85).aspx\n       *\n       * Instead of returning the currentStyle value directly, we'll copy its properties to the style\n       * of a shadow element. This ensures cssText is included, and ensures the result is an instance of\n       * the correct DOM interface.\n       *\n       * There'll still be some minor discrepancies in the style values. For example, IE preserves the way\n       * colour values were authored, whereas standards-compliant browsers will expand colours to use \"rgb()\"\n       * notation. We won't bother to fix things like these, as they'd involve too much fiddling for little\n       * gain.\n       */\n      \n      var style   = el.currentStyle;\n      var box     = el.getBoundingClientRect();\n      var shadow  = document.createElement(\"div\");\n      var output  = shadow.style;\n      for(var i in style) {\n        output[i] = style[i];\n      }\n      \n      /** Fix some glitches */\n      output.cssFloat = output.styleFloat;\n      if(\"auto\" === output.width) { output.width  = (box.right - box.left) + \"px\"; }\n      if(\"auto\" === output.height) { output.height = (box.bottom - box.top) + \"px\"; }\n      return output;\n    };\n  } \n})();\n// window.innerHeight\n\n(function () {\n  \"use strict\";\n\n  if(!(\"innerHeight\" in window)){\n    Object.defineProperty(window, \"innerHeight\", {\n      get: function(){ \n        return (document.documentElement || document.body.parentNode || document.body).clientHeight; \n      }\n    });\n  }\n})();\n// window.innerWidth\n\n(function () {\n  \"use strict\";\n\n  if(!(\"innerWidth\" in window)){\n    Object.defineProperty(window, \"innerWidth\",  {\n      get: function(){ \n        return (document.documentElement || document.body.parentNode || document.body).clientWidth; \n      }\n    });\n  }\n})();\n// Element.lastElementChild\n\n(function () {\n  \"use strict\";\n\n  if (!(\"lastElementChild\" in document.documentElement)) {\n    Object.defineProperty(Element.prototype, \"lastElementChild\", {\n      get: function(){\n        for(var nodes = this.children, n, i = nodes.length - 1; i >= 0; --i) {\n          if(n = nodes[i], 1 === n.nodeType) { return n; }\n        }\n        return null;\n      }\n    });\n  }\n})();\n// Element.nextElementSibling\n\n(function () {\n  \"use strict\";\n\n  if (!(\"nextElementSibling\" in document.documentElement)) {\n    Object.defineProperty(Element.prototype, \"nextElementSibling\", {\n      get: function(){\n        var e = this.nextSibling;\n        while(e && 1 !== e.nodeType) {\n          e = e.nextSibling;\n        }\n        return e;\n      }\n    });\n  }\n})();\n// event.pageX / event.pageY\n\n(function () {\n  \"use strict\";\n\n  if(!window.MouseEvent && !(\"pageX\" in Event.prototype)){\n    Object.defineProperty(Event.prototype, \"pageX\", {\n      get: function(){ \n        return this.clientX + window.pageXOffset; \n      }\n    });\n    Object.defineProperty(Event.prototype, \"pageY\", {\n      get: function(){ \n        return this.clientY + window.pageYOffset; \n      }\n    });\n  }\n})();\n// window.pageXOffset / window.pageYOffset / window.scrollX / window.scrollY\n\n(function () {\n  \"use strict\";\n\n  if(!(\"pageXOffset\" in window)) {\n    var x = function(){ return (document.documentElement || document.body.parentNode || document.body).scrollLeft; },\n        y = function(){ return (document.documentElement || document.body.parentNode || document.body).scrollTop;  };\n\n    Object.defineProperty(window, \"pageXOffset\", {get: x});\n    Object.defineProperty(window, \"pageYOffset\", {get: y});\n    Object.defineProperty(window, \"scrollX\",     {get: x});\n    Object.defineProperty(window, \"scrollY\",     {get: y});\n  }\n})();\n\n// IE8 preventDefault\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener?redirectlocale=en-US&redirectslug=DOM%2FEventTarget.addEventListener#Compatibility\n\n(function() {\n  if (!Event.prototype.preventDefault) {\n    Event.prototype.preventDefault=function() {\n      this.returnValue=false;\n    };\n  }\n})();\n// Element.previousElementSibling\n\n(function () {\n  \"use strict\";\n\n  if (!(\"previousElementSibling\" in document.documentElement)) {\n    Object.defineProperty(Element.prototype, \"previousElementSibling\", {\n      get: function(){\n        var e = this.previousSibling;\n        while(e && 1 !== e.nodeType) {\n          e = e.previousSibling;\n        }\n        return e;\n      }\n    });\n  }\n})();\n// IE8 stopPropagation\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener?redirectlocale=en-US&redirectslug=DOM%2FEventTarget.addEventListener#Compatibility\n\n(function() {\n  if (!Event.prototype.stopPropagation) {\n    Event.prototype.stopPropagation=function() {\n      this.cancelBubble=true;\n    };\n  }\n})();\n// textContent\n\n(function(){\n  \"use strict\";\n  \n  if(!(\"textContent\" in Element.prototype)){\n    var interfaces = \"Element Text HTMLDocument HTMLCommentElement\".split(\" \");\n    var haveText   = {3:1, 8:1, 4:1, 7:1};\n    var haveNull   = {9:1, 10:1, 12:1};\n    var srcTags    = {SCRIPT:1, STYLE:1};\n    for(var I, i = 0; i < 4; ++i){\n      I = window[interfaces[i]];\n      I && Object.defineProperty(I.prototype, \"textContent\", {\n        get: function(){ return getText(this); },\n        set: function(input){\n          var type = this.nodeType;\n          \n          /** Text nodes: set nodeValue */\n          if(haveText[type]) {\n            this.nodeValue = input;\n          } else if(!haveNull[type]){\n            /** For everything that isn't a document, DOCTYPE or notation */\n            var name = this.nodeName;\n            \n            /** IE8 throws a runtime error trying to set the innerHTML of a <style> element */\n            if(\"STYLE\" === name) {\n              this.styleSheet.cssText = input;\n            } else if(srcTags[name]) {\n              /** Scripts have a similar issue */\n              this.text = input;\n            } else {\n              this.innerText = input;\n            } \n          }\n        },\n      });\n    }\n    \n    \n    function getText(node){\n      var type = node.nodeType;\n      \n      /** Return `nodeValue` if input is a text node, comment, CDATA section, or processing instruction */\n      if(haveText[type]) {\n        return node.nodeValue;\n      }\n      \n      /** Return null for documents, DOCTYPE declarations, and notations */\n      if(haveNull[type]) {\n        return null;\n      }\n      \n      /** Use the innerHTML property of <script> and <style> tags */\n      var name = node.nodeName;\n      if(name && srcTags[name]) {\n        return node.innerHTML;\n      }\n      \n      \n      /** Everything else: Concatenate the textContent of each child node, except comments and processing instructions */\n      var result   = \"\";\n      var children = node.childNodes;\n      for(var i = 0, l = children.length; i < l; ++i){\n        var child = children[i];\n        if(child.nodeType !== 7 && child.nodeType !== 8) {\n          result += child.textContent;\n        }\n      }\n      \n      return result;\n    }\n  } \n})();"],"sourceRoot":"/source/"}